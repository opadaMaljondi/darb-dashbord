import{_ as H,Z as L,O as N,D as P,T as R,r as p,g as n,i as u,y as F,w as m,a as B,N as T,l as i,n as e,z as g,J as l,t as C,M as h,k as w,C as v,p as D}from"./vendor-8caf5d52.js";import{L as U}from"./main-cc7bd0ce.js";import{P as x}from"./page-header-18309276.js";import{P as I}from"./Pagination-0518e4bd.js";import{i as q}from"./imageUpload-5fcb01e8.js";import{F as O}from"./FormValidation-f14f6003.js";import{I as j}from"./ImageUpload-fc3b7bc8.js";import"./footer-502c2797.js";import"./app-974c65a1.js";/* empty css                                                    */const z={components:{Layout:U,PageHeader:x,Head:L,Pagination:I,Multiselect:N,FormValidation:O,imageUpload:q,ImageUpload:j},props:{successMessage:String,alertMessage:String,app_for:String,countries:Array,roles:Array,role:Array,admin:Array,serviceLocations:Array,validate:Function},setup(o){const{t:s}=P(),c=R({password:o.admin&&o.admin.password||"",confirm_password:o.admin&&o.admin.password||""}),a={password:{required:!0},confirm_password:{required:!o.admin,sameAs:"password"}},b=p(null),f=p({}),_=p(o.successMessage||""),d=p(o.alertMessage||"");return{form:c,successMessage:_,alertMessage:d,handleSubmit:async()=>{if(f.value=b.value.validate(),!(Object.keys(f.value).length>0))try{let t;o.admin&&o.admin.id?t=await B.post(`/admins/password/update/${o.admin.id}`,c.data()):t=await B.post("store",formData),t.status===201?(_.value=s("admin_created_successfully"),c.reset(),T.get("/admins")):d.value=s("failed_to_create_admin")}catch(t){t.response&&t.response.status===422?f.value=t.response.data.errors:(console.error(s("error_creating_admin"),t),d.value=s("failed_to_create_admin"))}},dismissMessage:()=>{_.value="",d.value=""},validationRules:a,validationRef:b,errors:f}}},E={class:"row"},J={class:"col-sm-6"},Z={class:"mb-3"},G={for:"password",class:"form-label"},K=["placeholder"],Q={key:0,class:"text-danger"},W={class:"col-sm-6"},X={class:"mb-3"},Y={for:"confirm_password",class:"form-label"},$=["placeholder"],ss={key:0,class:"text-danger"},es={class:"col-lg-12"},as={class:"text-end"},os={type:"submit",class:"btn btn-primary"},ts={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},rs={class:"alert-content"},ns={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},is={class:"alert-content"};function ls(o,s,c,a,b,f){const _=n("Head"),d=n("PageHeader"),y=n("BCardHeader"),M=n("FormValidation"),t=n("BCardBody"),k=n("BCard"),S=n("BCol"),A=n("BRow"),V=n("Layout");return u(),F(V,null,{default:m(()=>[i(_,{title:"Admin"}),i(d,{title:c.admin?o.$t("edit"):o.$t("create"),pageTitle:o.$t("admins"),pageLink:"/admins"},null,8,["title","pageTitle"]),i(A,null,{default:m(()=>[i(S,{lg:"12"},{default:m(()=>[i(k,{"no-body":"",id:"tasksList"},{default:m(()=>[i(y,{class:"border-0"}),i(t,{class:"border border-dashed border-end-0 border-start-0"},{default:m(()=>[e("form",{onSubmit:s[2]||(s[2]=D((...r)=>a.handleSubmit&&a.handleSubmit(...r),["prevent"]))},[i(M,{form:a.form,rules:a.validationRules,ref:"validationRef"},{default:m(()=>[e("div",E,[e("div",J,[e("div",Z,[e("label",G,[g(l(o.$t("password"))+" ",1),s[5]||(s[5]=e("span",{class:"text-danger"},"*",-1))]),C(e("input",{type:"password",name:"password",class:"form-control",placeholder:o.$t("enter_password"),id:"password","onUpdate:modelValue":s[0]||(s[0]=r=>a.form.password=r)},null,8,K),[[h,a.form.password]]),a.errors.password?(u(),w("span",Q,l(a.errors.password),1)):v("",!0)])]),e("div",W,[e("div",X,[e("label",Y,[g(l(o.$t("confirm_password"))+" ",1),s[6]||(s[6]=e("span",{class:"text-danger"},"*",-1))]),C(e("input",{type:"password",name:"confirm_password",class:"form-control",placeholder:o.$t("confirm_password"),id:"confirm_password","onUpdate:modelValue":s[1]||(s[1]=r=>a.form.confirm_password=r)},null,8,$),[[h,a.form.confirm_password]]),a.errors.confirm_password?(u(),w("span",ss,l(a.errors.confirm_password),1)):v("",!0)])]),e("div",es,[e("div",as,[e("button",os,l(o.serviceLocation?o.$t("update"):o.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[a.successMessage?(u(),w("div",ts,[e("div",rs,[s[7]||(s[7]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[8]||(s[8]=e("strong",null,"Success",-1)),g(" - "+l(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[3]||(s[3]=(...r)=>a.dismissMessage&&a.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):v("",!0),a.alertMessage?(u(),w("div",ns,[e("div",is,[s[9]||(s[9]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[10]||(s[10]=e("strong",null,"Alert",-1)),g(" - "+l(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[4]||(s[4]=(...r)=>a.dismissMessage&&a.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):v("",!0)])]),_:1})}const bs=H(z,[["render",ls]]);export{bs as default};
