import{_ as A,Z as L,O as E,D as H,T as D,r as w,G as N,g as f,i as l,y as T,w as y,a as P,N as j,l as u,n as e,z as c,J as r,t as _,K as B,k as i,L as S,F,C as d,M as g,p as O}from"./vendor-54d6cb1e.js";import{L as z}from"./main-b839be26.js";import{P as G}from"./page-header-ff719701.js";import{P as J}from"./Pagination-b5e3d5c9.js";import{i as K}from"./imageUpload-bad454a2.js";import{F as Z}from"./FormValidation-cabc17c8.js";import{I as Q}from"./ImageUpload-95e3fa21.js";import"./footer-7e4f68d9.js";import"./app-cb082573.js";/* empty css                                                    */const W={components:{Layout:z,PageHeader:G,Head:L,Pagination:J,Multiselect:E,FormValidation:Z,imageUpload:K,ImageUpload:Q},props:{successMessage:String,alertMessage:String,app_for:String,countries:Array,roles:Array,role:Array,admin:Array,serviceLocations:Array,validate:Function,category:Array},setup(t){const{t:s}=H(),n=D({country:t.admin&&t.admin.country||"",service_location_id:t.admin&&t.admin.service_location_id||"",role:t.admin&&t.role.slug||"",mobile:t.admin&&t.admin.mobile||"",name:t.admin&&t.admin.first_name||"",email:t.admin&&t.admin.email||"",address:t.admin&&t.admin.address||"",state:t.admin&&t.admin.state||"",city:t.admin&&t.admin.city||"",pincode:t.admin&&t.admin.pincode||"",password:t.admin&&t.admin.password||"",confirm_password:t.admin&&t.admin.password||"",profile_picture:t.admin&&t.admin.profile_picture||""}),o={name:{required:!0},email:{required:!0},address:{required:!0},role:{required:!0},state:{required:!0},city:{required:!0},country:{required:!0},service_location_id:{required:!0},confirm_password:{required:!t.admin,sameAs:"password"},pincode:{required:!0}},k=w(null),v=w({}),p=w(t.successMessage||""),b=w(t.alertMessage||""),M=()=>{p.value="",b.value=""},V=async()=>{if(v.value=k.value.validate(),Object.keys(v.value).length>0)return;const m=new FormData;for(const a in n)a==="iconFile"&&n[a]?m.append("profile_picture",n[a]):m.append(a,n[a]);try{let a;t.admin&&t.admin.id?a=await P.post(`/admins/update/${t.admin.id}`,m):a=await P.post("store",m),a.status===201?(p.value=s("admin_created_successfully"),n.reset(),j.get("/admins")):b.value=s("failed_to_create_admin")}catch(a){a.response&&a.response.status===422?v.value=a.response.data.errors:(console.error(s("error_creating_admin"),a),b.value=s("failed_to_create_admin"))}},C=m=>{const a=m.target.files[0];if(n.profilePictureFile=a,a){const x=new FileReader;x.onload=q=>{h.value=q.target.result},x.readAsDataURL(a)}},h=w(""),U=N(()=>{var m;return n.profilePictureFile?h.value:(m=t.admin)!=null&&m.profile_picture?t.admin.profile_picture:"/default-profile.jpeg"});return{form:n,successMessage:p,alertMessage:b,handleSubmit:V,dismissMessage:M,validationRules:o,validationRef:k,errors:v,onFileChange:C,imageSrc:U,profilePictureUrl:h,handleImageSelected:(m,a)=>{n[a]=m},handleImageRemoved:m=>{n[m]=null}}},methods:{validateEmail(){this.form.email?this.isValidEmail(this.form.email)?this.errors.email="":this.errors.email="Enter a valid email address":this.errors.email="Email is required"},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}}},X={class:"row"},Y={class:"col-sm-6"},$={class:"mb-3"},ee={for:"role",class:"form-label"},se={disabled:"",value:""},oe=["value"],te={key:0,class:"text-danger"},ae={class:"col-sm-6"},re={class:"mb-3"},le={for:"service_location_id",class:"form-label"},ie={disabled:"",value:""},ne=["value"],de={key:0,class:"text-danger"},me={class:"col-sm-6"},ce={class:"mb-3"},_e={for:"name",class:"form-label"},fe=["placeholder"],ue={key:0,class:"text-danger"},ge={class:"col-sm-6"},ve={class:"mb-3"},be={for:"address",class:"form-label"},ye=["placeholder"],pe={key:0,class:"text-danger"},he={class:"col-sm-6"},we={class:"mb-3"},ke={for:"mobile",class:"form-label"},Me=["placeholder"],Ve={key:0,class:"text-danger"},Ce={class:"col-sm-6"},Ue={class:"mb-3"},Be={for:"email",class:"form-label"},Se=["placeholder"],Fe={key:0,class:"text-danger"},Ie={key:0,class:"col-sm-6"},Re={class:"mb-3"},xe={for:"password",class:"form-label"},Pe=["placeholder"],qe={key:0,class:"text-danger"},Ae={key:1,class:"col-sm-6"},Le={class:"mb-3"},Ee={for:"confirm_password",class:"form-label"},He=["placeholder"],De={key:0,class:"text-danger"},Ne={class:"col-sm-6"},Te={class:"mb-3"},je={for:"country",class:"form-label"},Oe={disabled:"",value:""},ze=["value"],Ge={key:0,class:"text-danger"},Je={class:"col-sm-6"},Ke={class:"mb-3"},Ze={for:"state",class:"form-label"},Qe=["placeholder"],We={key:0,class:"text-danger"},Xe={class:"col-sm-6"},Ye={class:"mb-3"},$e={for:"city",class:"form-label"},es=["placeholder"],ss={key:0,class:"text-danger"},os={class:"col-sm-6"},ts={class:"mb-3"},as={for:"pincode",class:"form-label"},rs=["placeholder"],ls={key:0,class:"text-danger"},is={class:"row"},ns={class:"col-sm-6"},ds={key:0,class:"text-danger"},ms={class:"col-lg-12"},cs={class:"text-end"},_s={type:"submit",class:"btn btn-primary"},fs={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},us={class:"alert-content"},gs={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},vs={class:"alert-content"};function bs(t,s,n,o,k,v){const p=f("Head"),b=f("PageHeader"),M=f("BCardHeader"),V=f("ImageUpload"),C=f("FormValidation"),h=f("BCardBody"),U=f("BCard"),I=f("BCol"),R=f("BRow"),m=f("Layout");return l(),T(m,null,{default:y(()=>[u(p,{title:"Admin"}),u(b,{title:n.admin?t.$t("edit"):t.$t("create"),pageTitle:t.$t("admins"),pageLink:"/admins"},null,8,["title","pageTitle"]),u(R,null,{default:y(()=>[u(I,{lg:"12"},{default:y(()=>[u(U,{"no-body":"",id:"tasksList"},{default:y(()=>[u(M,{class:"border-0"}),u(h,{class:"border border-dashed border-end-0 border-start-0"},{default:y(()=>[e("form",{onSubmit:s[15]||(s[15]=O((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"]))},[u(C,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:y(()=>[e("div",X,[e("div",Y,[e("div",$,[e("label",ee,[c(r(t.$t("select_role"))+" ",1),s[18]||(s[18]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"role",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=a=>o.form.role=a)},[e("option",se,r(t.$t("select")),1),(l(!0),i(F,null,S(n.roles,a=>(l(),i("option",{key:a.slug,value:a.slug},r(a.name),9,oe))),128))],512),[[B,o.form.role]]),o.errors.role?(l(),i("span",te,r(o.errors.role),1)):d("",!0)])]),e("div",ae,[e("div",re,[e("label",le,[c(r(t.$t("select_area"))+" ",1),s[19]||(s[19]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"service_location_id",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=a=>o.form.service_location_id=a)},[e("option",ie,r(t.$t("select")),1),(l(!0),i(F,null,S(n.serviceLocations,a=>(l(),i("option",{key:a.id,value:a.id},r(a.name),9,ne))),128))],512),[[B,o.form.service_location_id]]),o.errors.service_location_id?(l(),i("span",de,r(o.errors.service_location_id),1)):d("",!0)])]),e("div",me,[e("div",ce,[e("label",_e,[c(r(t.$t("name"))+" ",1),s[20]||(s[20]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",name:"name",placeholder:t.$t("enter_name"),id:"name","onUpdate:modelValue":s[2]||(s[2]=a=>o.form.name=a)},null,8,fe),[[g,o.form.name]]),o.errors.name?(l(),i("span",ue,r(o.errors.name),1)):d("",!0)])]),e("div",ge,[e("div",ve,[e("label",be,[c(r(t.$t("address"))+" ",1),s[21]||(s[21]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",class:"form-control",placeholder:t.$t("enter_address"),name:"address",id:"address","onUpdate:modelValue":s[3]||(s[3]=a=>o.form.address=a)},null,8,ye),[[g,o.form.address]]),o.errors.address?(l(),i("span",pe,r(o.errors.address),1)):d("",!0)])]),e("div",he,[e("div",we,[e("label",ke,[c(r(t.$t("mobile_number"))+" ",1),s[22]||(s[22]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"mobile",class:"form-control",placeholder:t.$t("enter_mobile_number"),id:"mobile","onUpdate:modelValue":s[4]||(s[4]=a=>o.form.mobile=a)},null,8,Me),[[g,o.form.mobile]]),o.errors.mobile?(l(),i("span",Ve,r(o.errors.mobile),1)):d("",!0)])]),e("div",Ce,[e("div",Ue,[e("label",Be,[c(r(t.$t("email"))+" ",1),s[23]||(s[23]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"email",name:"email",class:"form-control",placeholder:t.$t("enter_email"),id:"email","onUpdate:modelValue":s[5]||(s[5]=a=>o.form.email=a),onBlur:s[6]||(s[6]=(...a)=>v.validateEmail&&v.validateEmail(...a))},null,40,Se),[[g,o.form.email]]),o.errors.email?(l(),i("span",Fe,r(o.errors.email),1)):d("",!0)])]),n.admin?d("",!0):(l(),i("div",Ie,[e("div",Re,[e("label",xe,[c(r(t.$t("password"))+" ",1),s[24]||(s[24]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"password",name:"password",class:"form-control",placeholder:t.$t("enter_password"),id:"password","onUpdate:modelValue":s[7]||(s[7]=a=>o.form.password=a)},null,8,Pe),[[g,o.form.password]]),o.errors.password?(l(),i("span",qe,r(o.errors.password),1)):d("",!0)])])),n.admin?d("",!0):(l(),i("div",Ae,[e("div",Le,[e("label",Ee,[c(r(t.$t("confirm_password"))+" ",1),s[25]||(s[25]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"password",name:"confirm_password",class:"form-control",placeholder:t.$t("confirm_password"),id:"confirm_password","onUpdate:modelValue":s[8]||(s[8]=a=>o.form.confirm_password=a)},null,8,He),[[g,o.form.confirm_password]]),o.errors.confirm_password?(l(),i("span",De,r(o.errors.confirm_password),1)):d("",!0)])])),e("div",Ne,[e("div",Te,[e("label",je,[c(r(t.$t("select_country"))+" ",1),s[26]||(s[26]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"country",name:"country",class:"form-select","onUpdate:modelValue":s[9]||(s[9]=a=>o.form.country=a)},[e("option",Oe,r(t.$t("select")),1),(l(!0),i(F,null,S(n.countries,a=>(l(),i("option",{key:a.id,value:a.id},r(a.name),9,ze))),128))],512),[[B,o.form.country]]),o.errors.country?(l(),i("span",Ge,r(o.errors.country),1)):d("",!0)])]),e("div",Je,[e("div",Ke,[e("label",Ze,[c(r(t.$t("state"))+" ",1),s[27]||(s[27]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"state",class:"form-control",placeholder:t.$t("enter_state"),id:"state","onUpdate:modelValue":s[10]||(s[10]=a=>o.form.state=a)},null,8,Qe),[[g,o.form.state]]),o.errors.state?(l(),i("span",We,r(o.errors.state),1)):d("",!0)])]),e("div",Xe,[e("div",Ye,[e("label",$e,[c(r(t.$t("city"))+" ",1),s[28]||(s[28]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"text",name:"city",class:"form-control",placeholder:t.$t("enter_city"),id:"city","onUpdate:modelValue":s[11]||(s[11]=a=>o.form.city=a)},null,8,es),[[g,o.form.city]]),o.errors.city?(l(),i("span",ss,r(o.errors.city),1)):d("",!0)])]),e("div",os,[e("div",ts,[e("label",as,[c(r(t.$t("postal_code"))+" ",1),s[29]||(s[29]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",name:"pincode",class:"form-control",placeholder:t.$t("enter_postal_code"),id:"pincode","onUpdate:modelValue":s[12]||(s[12]=a=>o.form.pincode=a)},null,8,rs),[[g,o.form.pincode]]),o.errors.pincode?(l(),i("span",ls,r(o.errors.pincode),1)):d("",!0)])]),e("div",is,[e("div",ns,[u(V,{imageType:"user-profile",initialImageUrl:o.form.profile_picture,flexStyle:"0 0 calc(50% - 20px)",aspectRatio:"5 / 5",onImageSelected:s[13]||(s[13]=a=>o.handleImageSelected(a,"profile_picture")),onImageRemoved:s[14]||(s[14]=()=>o.handleImageRemoved("profile_picture")),id:"profilePictureInput",onChange:o.onFileChange},null,8,["initialImageUrl","onChange"]),o.errors.profilePictureFile?(l(),i("span",ds,r(o.errors.profilePictureFile),1)):d("",!0)])]),e("div",ms,[e("div",cs,[e("button",_s,r(n.admin?t.$t("update"):t.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(l(),i("div",fs,[e("div",us,[s[30]||(s[30]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[31]||(s[31]=e("strong",null,"Success",-1)),c(" - "+r(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[16]||(s[16]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):d("",!0),o.alertMessage?(l(),i("div",gs,[e("div",vs,[s[32]||(s[32]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[33]||(s[33]=e("strong",null,"Alert",-1)),c(" - "+r(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[17]||(s[17]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):d("",!0)])]),_:1})}const Ss=A(W,[["render",bs]]);export{Ss as default};
