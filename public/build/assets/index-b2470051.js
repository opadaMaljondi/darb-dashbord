import{_ as de,Z as ce,O as pe,P as me,B as ve,D as ue,r as f,T as X,R as fe,S as _e,g as v,U as be,i as l,y as k,w as p,W,a as Z,N as H,l as m,n as e,t as y,k as n,q as N,J as i,K as Q,L as $,F as L,z as d,C as u,p as _,M as ge}from"./vendor-54d6cb1e.js";import{L as he}from"./main-b839be26.js";import{P as ye}from"./page-header-ff719701.js";import{P as we}from"./Pagination-b5e3d5c9.js";import{s as ke}from"./search-06463c60.js";import{s as xe}from"./searchbar-3bdb3315.js";import{u as Ce,l as Me}from"./footer-7e4f68d9.js";import{W as Be}from"./warning-ae968222.js";import{_ as ee}from"./search-file-ab3e1046.js";import"./app-cb082573.js";const Ve={data(){return{rightOffcanvas:!1,isListView:!0,copiedIndex:null}},created(){const s=localStorage.getItem("driverViewMode");s&&(this.isListView=s==="list")},methods:{toggleView(s){this.isListView=s==="list",localStorage.setItem("driverViewMode",s)},copyText(s,t){navigator.clipboard.writeText(s).then(()=>{this.copiedIndex=t,setTimeout(()=>{this.copiedIndex=null},2e3)})}},components:{Layout:he,PageHeader:ye,Head:ce,Pagination:we,Multiselect:pe,flatPickr:me,Link:ve,search:ke,searchbar:xe,Warning:Be},props:{successMessage:String,alertMessage:String,app_for:String,types:Object,serviceLocations:{type:Object,required:!0},driver:Object},setup(s){const{t}=ue(),{selectedLocation:x}=Ce(),a=f(""),h=X({approve:1,transport_type:"all",driver_service_location:"all",subscription:"",vehicle_type:[],limit:10}),D=f({}),C=f([]),M=f({}),O=f(!1),P=f(!1),I=f(!1),B=f(null),A=f(s.types),j=f(s.serviceLocations),z=f({}),V=f({}),E=f(s.successMessage||""),T=f(s.alertMessage||""),q=()=>{E.value="",T.value=""},F=f(!1),Y=()=>{b(),I.value=!0,F.value=!1},U=X({reason:s.driver&&s.driver.reason||""}),G=()=>{h.reset(),b(),F.value=!1},J=async r=>{W.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async g=>{if(g.isConfirmed)try{await R(r)}catch(S){console.error(t("error_deleting_data"),S),W.fire(t("error"),t("failed_to_delete_the_data"),"error")}})},K=()=>{O.value=!1},R=async r=>{try{await Z.delete(`/approved-drivers/delete/${r}`);const g=C.value.findIndex(S=>S.id===r);g!==-1&&C.value.splice(g,1),O.value=!1,W.fire(t("success"),t("approved_drivers_deleted_successfully"),"success")}catch{W.fire(t("error"),t("failed_to_delete_approved_drivers"),"error")}},b=async(r=1)=>{try{const g=h.data();a.value.length>0&&(g.search=a.value),g.page=r;const S=await Z.get("/approved-drivers/list",{params:g});C.value=S.data.results,console.log("results",C.value),M.value=S.data.paginator,ne(M.value.total),I.value=!1}catch(g){console.error(t("error_fetching_approved_drivers"),g)}},o=async r=>{localStorage.setItem("approve-drivers/list",r),b(r)},w=async r=>{H.get(`/approved-drivers/edit/${r.id}`)},c=async r=>{H.get(`/approved-drivers/view-profile/${r.id}`)},te=async r=>{H.get(`/approved-drivers/document/${r.id}`)},se=async r=>{P.value=!0,z.value=r},oe=async r=>{a.value=r,b()},ie=r=>(M.value.current_page-1)*M.value.per_page+r+1,ae=async r=>{H.get(`/approved-drivers/password/edit/${r.id}`)},le=async()=>{try{const r=await Z.post("approved-drivers/update/decline/reason",{id:z.value,reason:U.reason});r.status===200||r.status===201?(U.reset(),H.get("/approved-drivers")):console.error("Unexpected response status:",r.status)}catch(r){console.error("Error submitting form:",r)}},ne=()=>{V.value=[10,25,50,100,200,500]},re=()=>{b()};return fe(x,r=>{console.log("value",r),h.driver_service_location=r,b()}),{results:C,modalShow:O,deleteItemId:B,successMessage:E,alertMessage:T,filterData:Y,deleteModal:J,closeModal:K,deleteData:R,SerialNumber:ie,fetchSearch:oe,dismissMessage:q,serviceLocations:j,paginator:M,modalFilter:I,clearFilter:G,fetchDatas:b,filter:h,types:A,handlePageChanged:o,editData:w,documentView:te,viewProfile:c,rightOffcanvas:F,editPassData:ae,disapproveModelShow:P,form:U,handleSubmit:le,errors:D,declinedModel:se,paginatorOption:V,changeEntriesPerPage:re,selectedLocation:x}},computed:{...Me,..._e(["permissions"])},mounted(){this.filter.driver_service_location=this.selectedLocation,this.fetchDatas();const s=localStorage.getItem("approve-drivers/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1)}},Pe={class:"d-flex align-items-center"},Se={class:"toggle-buttons mt-3 me-4"},$e=["title"],Le=["title"],De={class:"d-flex align-items-center mt-3"},Oe={class:"me-2 text-muted"},Ie=["value"],Te={class:"ms-2 text-muted"},Fe={class:"d-flex align-items-center gap-2"},Ue={class:"table-responsive"},He={class:"table align-middle position-relative table-nowrap"},Ne={class:"table-active"},je={scope:"col"},ze={scope:"col"},Ee={scope:"col"},Re={scope:"col"},We={scope:"col"},Ae={scope:"col"},qe={scope:"col"},Ye={scope:"col"},Ge={scope:"col"},Je={key:0},Ke=["onClick"],Ze={class:"text-wrap"},Qe={key:0},Xe={key:1},et={key:2},tt={key:0},st=["href"],ot={class:"dropdown"},it={class:"dropdown-menu dropdown-menu-end"},at={key:0,class:"dropdown-item",href:"#"},lt=["onClick"],nt=["onClick"],rt=["onClick"],dt=["onClick"],ct=["onClick"],pt=["onClick"],mt={key:1},vt={colspan:"12",class:"text-center"},ut={key:0,class:"row"},ft={class:"card card-height-100"},_t={class:"card-body"},bt={class:"d-flex flex-column h-100"},gt={class:"d-flex"},ht=["title"],yt={class:"text-muted mb-4"},wt={class:"flex-shrink-0"},kt={class:"d-flex gap-1 align-items-center"},xt={class:"dropdown"},Ct={class:"dropdown-menu dropdown-menu-end"},Mt={key:0,class:"dropdown-item",href:"#"},Bt=["onClick"],Vt=["onClick"],Pt=["onClick"],St=["onClick"],$t=["onClick"],Lt=["onClick"],Dt={class:"flex-grow-1"},Ot={class:"text-muted mb-4"},It=["onClick"],Tt={class:"text-muted mb-4"},Ft={class:"d-flex mb-2 card-footer bg-transparent border-top-dashed"},Ut={class:"flex-shrink-0 me-3"},Ht={class:"avatar-sm"},Nt={class:"avatar-title bg-warning-subtle rounded p-2"},jt=["src"],zt={class:"flex-grow-1"},Et={class:"mb-1 fs-15"},Rt=["onClick"],Wt={class:"mb-0"},At={class:"table-responsive table-card mt-2 ms-2"},qt={class:"table table-borderless mb-0"},Yt={key:0},Gt={key:1},Jt={key:2},Kt={class:"d-flex",style:{width:"fit-content","overflow-x":"auto"}},Zt=["title"],Qt=["title"],Xt=["title"],es={class:"card-footer bg-transparent border-top-dashed py-2"},ts={class:"d-flex align-items-center"},ss={class:"flex-grow-1"},os={class:"flex-end"},is={key:0},as=["href"],ls={class:"table-responsive table-card mt-2 ms-2"},ns={class:"table table-borderless mb-0"},rs={colspan:"12",class:"text-center m-auto"},ds={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},cs={class:"alert-content"},ps={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},ms={class:"alert-content"},vs={class:"row"},us={class:"col-sm-12"},fs={class:"mb-3"},_s={for:"declined_reason",class:"form-label"},bs=["placeholder"],gs={class:"modal-footer v-modal-footer"},hs={class:"offcanvas-body"},ys={class:"mb-4"},ws={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},ks={value:"all"},xs={value:"both"},Cs={value:"taxi"},Ms={value:"delivery"},Bs={class:"mb-4"},Vs={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ps={class:"mb-4"},Ss={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},$s={value:""},Ls={value:"subscribed"},Ds={value:"expired"},Os={value:"commission"},Is={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function Ts(s,t,x,a,h,D){const C=v("Head"),M=v("Warning"),O=v("PageHeader"),P=v("BCol"),I=v("searchbar"),B=v("BButton"),A=v("Link"),j=v("BRow"),z=v("BCardHeader"),V=v("BBadge"),E=v("BCardBody"),T=v("BCard"),q=v("BLink"),F=v("FormValidation"),Y=v("BModal"),U=v("Multiselect"),G=v("BFrom"),J=v("BOffcanvas"),K=v("Pagination"),R=v("Layout"),b=be("b-tooltip");return l(),k(R,null,{default:p(()=>[m(C,{title:"Approved Drivers"}),m(M),m(O,{title:s.$t("approved_drivers"),pageTitle:s.$t("approved_drivers")},null,8,["title","pageTitle"]),m(j,null,{default:p(()=>[m(P,{lg:"12"},{default:p(()=>[m(T,{"no-body":"",id:"tasksList"},{default:p(()=>[m(z,{class:"border-0"},{default:p(()=>[m(j,{class:"g-2"},{default:p(()=>[m(P,{md:"4"},{default:p(()=>[e("div",Pe,[e("div",Se,[y((l(),n("a",{"data-bs-toggle":"tooltip",title:s.$t("list_view"),class:N(["list-btn",{active:h.isListView}]),onClick:t[0]||(t[0]=o=>D.toggleView("list"))},[...t[15]||(t[15]=[e("i",{class:"ri-list-check"},null,-1)])],10,$e)),[[b,void 0,void 0,{hover:!0}]]),y((l(),n("a",{"data-bs-toggle":"tooltip",title:s.$t("grid_view"),class:N(["list-btn",{active:!h.isListView}]),onClick:t[1]||(t[1]=o=>D.toggleView("grid"))},[...t[16]||(t[16]=[e("i",{class:"ri-grid-fill"},null,-1)])],10,Le)),[[b,void 0,void 0,{hover:!0}]])]),e("div",De,[e("label",Oe,i(s.$t("show")),1),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>a.filter.limit=o),onChange:t[3]||(t[3]=(...o)=>a.changeEntriesPerPage&&a.changeEntriesPerPage(...o)),class:"form-select form-select-sm w-auto"},[(l(!0),n(L,null,$(a.paginatorOption,o=>(l(),n("option",{key:o,value:o},i(o),9,Ie))),128))],544),[[Q,a.filter.limit]]),e("label",Te,i(s.$t("entries")),1)])])]),_:1}),m(P,{md:"auto",class:"ms-auto"},{default:p(()=>[e("div",Fe,[m(I,{onSearch:a.fetchSearch},null,8,["onSearch"]),m(B,{variant:"danger",onClick:t[4]||(t[4]=o=>a.rightOffcanvas=!0)},{default:p(()=>[t[17]||(t[17]=e("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1)),d(" "+i(s.$t("filters")),1)]),_:1}),s.permissions.includes("add-driver")?(l(),k(A,{key:0,href:"/approved-drivers/create"},{default:p(()=>[m(B,{variant:"primary",class:"float-end"},{default:p(()=>[t[18]||(t[18]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),d(" "+i(s.$t("add_drivers")),1)]),_:1})]),_:1})):u("",!0)])]),_:1})]),_:1})]),_:1}),h.isListView?(l(),k(E,{key:0,class:"border border-dashed border-end-0 border-start-0"},{default:p(()=>[e("div",Ue,[e("table",He,[e("thead",Ne,[e("tr",null,[e("th",je,i(s.$t("name")),1),e("th",ze,i(s.$t("service_location")),1),e("th",Ee,i(s.$t("mobile_number")),1),e("th",Re,i(s.$t("transport_type")),1),e("th",We,i(s.$t("document_view")),1),e("th",Ae,i(s.$t("approved_status")),1),e("th",qe,i(s.$t("rating")),1),e("th",Ye,i(s.$t("signed_at")),1),e("th",Ge,i(s.$t("action")),1)])]),a.results.length>0?(l(),n("tbody",Je,[(l(!0),n(L,null,$(a.results,(o,w)=>(l(),n("tr",{key:w},[e("td",null,[e("a",{onClick:_(c=>a.viewProfile(o),["prevent"])},i(o.name),9,Ke)]),e("td",null,i(o.service_location_name),1),e("td",null,i(o.mobile_number),1),e("td",Ze,[o.transport_type==="taxi"?(l(),n("span",Qe,i(s.$t("taxi"))+" - "+i(o.vehicle_type_name),1)):o.transport_type==="delivery"?(l(),n("span",Xe,i(s.$t("delivery"))+" - "+i(o.vehicle_type_name),1)):(l(),n("span",et,i(s.$t("all"))+" - "+i(o.vehicle_type_name),1))]),s.permissions.includes("driver-upload-documents")?(l(),n("td",tt,[e("a",{href:`/approved-drivers/document/${o.id}`,target:"_blank"},[...t[19]||(t[19]=[e("i",{class:"bx bxs-file text-primary",style:{"font-size":"35px"}},null,-1)])],8,st)])):u("",!0),e("td",null,[o.approve==1?(l(),k(V,{key:0,variant:"success",class:"text-uppercase"},{default:p(()=>[d(i(s.$t("approved")),1)]),_:1})):(l(),k(V,{key:1,variant:"danger",class:"text-uppercase"},{default:p(()=>[d(i(s.$t("disapproved")),1)]),_:1}))]),e("td",null,[(l(),n(L,null,$(5,c=>e("i",{key:c,class:N([{"bx bxs-star text-warning":c<=Math.floor(o.rating),"bx bxs-star-half text-warning":c===Math.ceil(o.rating)&&o.rating%1!==0,"bx bx-star text-muted":c>o.rating},"align-center me-2"])},null,2)),64))]),e("td",null,i(o.converted_created_at),1),e("td",null,[m(B,{class:"btn btn-soft-info btn-sm m-2",size:"sm",type:"button"},{default:p(()=>[e("div",ot,[t[25]||(t[25]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("div",it,[s.permissions.includes("driver-approval")?(l(),n("a",at,[t[20]||(t[20]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),o.approve===1?(l(),n("span",{key:0,onClick:_(c=>a.declinedModel(o.id),["prevent"])},i(s.$t("disapprove")),9,lt)):(l(),n("span",{key:1,onClick:_(c=>a.documentView(o),["prevent"])},i(s.$t("approve")),9,nt))])):u("",!0),s.permissions.includes("edit-driver")?(l(),n("a",{key:1,class:"dropdown-item",href:"#",onClick:_(c=>a.editData(o),["prevent"])},[t[21]||(t[21]=e("i",{class:"bx bxs-edit-alt bx-xs text-muted me-2"},null,-1)),d(i(s.$t("edit")),1)],8,rt)):u("",!0),s.permissions.includes("edit-driver")&&x.app_for!=="demo"?(l(),n("a",{key:2,class:"dropdown-item",href:"#",onClick:_(c=>a.editPassData(o),["prevent"])},[t[22]||(t[22]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),d(i(s.$t("update_password")),1)],8,dt)):u("",!0),s.permissions.includes("view-driver-profile")?(l(),n("a",{key:3,class:"dropdown-item",href:"#",onClick:_(c=>a.viewProfile(o),["prevent"])},[t[23]||(t[23]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),d(i(s.$t("view_profile")),1)],8,ct)):u("",!0),s.permissions.includes("delete-driver")&&x.app_for!=="demo"?(l(),n("a",{key:4,class:"dropdown-item",href:"#",onClick:_(c=>a.deleteModal(o.id),["prevent"])},[t[24]||(t[24]=e("i",{class:"bx bx-trash me-2 bx-xs text-muted"},null,-1)),d(i(s.$t("delete")),1)],8,pt)):u("",!0)])])]),_:2},1024)])]))),128))])):(l(),n("tbody",mt,[e("tr",null,[e("td",vt,[t[26]||(t[26]=e("img",{src:ee,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,i(s.$t("no_data_found")),1)])])]))])])]),_:1})):u("",!0)]),_:1})]),_:1})]),_:1}),h.isListView?u("",!0):(l(),n("div",ut,[a.results.length>0?(l(!0),n(L,{key:0},$(a.results,(o,w)=>(l(),n("div",{class:"col-xxl-3 col-sm-6 project-card",key:w},[e("div",ft,[e("div",_t,[e("div",bt,[e("div",gt,[y((l(),n("div",{"data-bs-toggle":"tooltip",title:s.$t("signed_at"),class:"flex-grow-1"},[e("p",yt,i(o.converted_created_at),1)],8,ht)),[[b,void 0,void 0,{hover:!0}]]),e("div",wt,[e("div",kt,[e("div",xt,[t[32]||(t[32]=e("button",{class:"btn btn-link text-muted p-1 mt-n2 py-0 text-decoration-none fs-15","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-more-horizontal icon-sm"},[e("circle",{cx:"12",cy:"12",r:"1"}),e("circle",{cx:"19",cy:"12",r:"1"}),e("circle",{cx:"5",cy:"12",r:"1"})])],-1)),e("div",Ct,[s.permissions.includes("driver-approval")?(l(),n("a",Mt,[t[27]||(t[27]=e("i",{class:"bx bx-radio-circle-marked align-center text-muted me-2"},null,-1)),o.approve===1?(l(),n("span",{key:0,onClick:_(c=>a.declinedModel(o.id),["prevent"])},i(s.$t("disapprove")),9,Bt)):(l(),n("span",{key:1,onClick:_(c=>a.documentView(o),["prevent"])},i(s.$t("approve")),9,Vt))])):u("",!0),s.permissions.includes("edit-driver")?(l(),n("a",{key:1,class:"dropdown-item",href:"#",onClick:_(c=>a.editData(o),["prevent"])},[t[28]||(t[28]=e("i",{class:"bx bxs-edit-alt bx-xs text-muted me-2"},null,-1)),d(i(s.$t("edit")),1)],8,Pt)):u("",!0),s.permissions.includes("edit-driver")&&x.app_for!=="demo"?(l(),n("a",{key:2,class:"dropdown-item",href:"#",onClick:_(c=>a.editPassData(o),["prevent"])},[t[29]||(t[29]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),d(i(s.$t("update_password")),1)],8,St)):u("",!0),s.permissions.includes("view-driver-profile")?(l(),n("a",{key:3,class:"dropdown-item",href:"#",onClick:_(c=>a.viewProfile(o),["prevent"])},[t[30]||(t[30]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),d(i(s.$t("view_profile")),1)],8,$t)):u("",!0),s.permissions.includes("delete-driver")&&x.app_for!=="demo"?(l(),n("a",{key:4,class:"dropdown-item",href:"#",onClick:_(c=>a.deleteModal(o.id),["prevent"])},[t[31]||(t[31]=e("i",{class:"bx bx-trash me-2 bx-xs text-muted"},null,-1)),d(i(s.$t("delete")),1)],8,Lt)):u("",!0)])])])])]),e("div",Dt,[e("h6",null,[d(i(s.$t("referral_code"))+" : ",1),e("span",Ot,i(o.user.refferal_code??"----"),1),e("button",{onClick:c=>D.copyText(o.user.refferal_code,w),class:"btn btn-light btn-sm ms-2"},[e("i",{class:N(h.copiedIndex===w?"bx bxs-check-circle text-success":"bx bx-copy")},null,2)],8,It)]),e("h6",null,[d(i(s.$t("referred_by"))+" : ",1),e("span",Tt,i(o.user.referred_by_name??"----"),1)])]),e("div",Ft,[e("div",Ut,[e("div",Ht,[e("span",Nt,[e("img",{class:"avatar-xs rounded-circle p-1",alt:"profile picture",src:o.profile_picture},null,8,jt)])])]),e("div",zt,[e("h5",Et,[e("a",{onClick:_(c=>a.viewProfile(o),["prevent"]),class:"text-body"},i(o.name??"----"),9,Rt)]),e("p",Wt,[(l(),n(L,null,$(5,c=>e("i",{key:c,class:N([{"bx bxs-star text-warning":c<=Math.floor(o.rating),"bx bxs-star-half text-warning":c===Math.ceil(o.rating)&&o.rating%1!==0,"bx bx-star text-muted":c>o.rating},"align-center me-2"])},null,2)),64))])])]),e("div",At,[e("table",qt,[e("tbody",null,[e("tr",null,[t[33]||(t[33]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-globe fs-24"})],-1)),e("td",null,i(o.service_location_name??"----"),1)]),e("tr",null,[t[34]||(t[34]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-envelope-open-text fs-24"})],-1)),e("td",null,i(o.email??"----"),1)]),e("tr",null,[t[35]||(t[35]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-phone fs-24"})],-1)),e("td",null,i(o.mobile_number??"----"),1)]),e("tr",null,[t[36]||(t[36]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-car fs-24"})],-1)),e("td",null,[o.transport_type==="taxi"?(l(),n("span",Yt,i(s.$t("taxi"))+" - "+i(o.vehicle_type_name),1)):o.transport_type==="delivery"?(l(),n("span",Gt,i(s.$t("delivery"))+" - "+i(o.vehicle_type_name),1)):(l(),n("span",Jt,i(s.$t("all"))+" - "+i(o.vehicle_type_name),1))])]),e("tr",null,[t[39]||(t[39]=e("td",{class:"fw-medium",scope:"row"},[e("i",{class:"las la-taxi fs-24"})],-1)),e("td",Kt,[y((l(),n("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_make"),class:"p-1 border border-dark border-dashed rounded"},[d(i(o.car_make_name??"----"),1)],8,Zt)),[[b,void 0,void 0,{hover:!0}]]),t[37]||(t[37]=d()),y((l(),n("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_model"),class:"p-1 ms-2 border border-dark border-dashed rounded"},[d(i(o.car_model_name??"----"),1)],8,Qt)),[[b,void 0,void 0,{hover:!0}]]),t[38]||(t[38]=d()),y((l(),n("span",{"data-bs-toggle":"tooltip",title:s.$t("vehicle_number"),class:"p-1 ms-2 border border-dark border-dashed rounded"},[d(i(o.car_number??"----"),1)],8,Xt)),[[b,void 0,void 0,{hover:!0}]])])])])])])])]),e("div",es,[e("div",ts,[e("div",ss,[o.approve==1?(l(),k(V,{key:0,variant:"success",class:"text-uppercase"},{default:p(()=>[d(i(s.$t("approved")),1)]),_:1})):(l(),k(V,{key:1,variant:"danger",class:"text-uppercase"},{default:p(()=>[d(i(s.$t("disapproved")),1)]),_:1}))]),e("div",os,[s.permissions.includes("driver-upload-documents")?(l(),n("td",is,[e("a",{href:`/approved-drivers/document/${o.id}`,target:"_blank"},[...t[40]||(t[40]=[e("i",{class:"bx bxs-file text-primary",style:{"font-size":"35px"}},null,-1)])],8,as)])):u("",!0)])])])])]))),128)):(l(),k(T,{key:1},{default:p(()=>[e("div",ls,[e("table",ns,[e("tbody",null,[e("tr",null,[e("td",rs,[t[41]||(t[41]=e("img",{src:ee,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,i(s.$t("no_data_found")),1)])])])])])]),_:1}))])),e("div",null,[a.successMessage?(l(),n("div",ds,[e("div",cs,[t[42]||(t[42]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[43]||(t[43]=d()),t[44]||(t[44]=e("strong",null,"Success",-1)),d(" - "+i(a.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[5]||(t[5]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):u("",!0),a.alertMessage?(l(),n("div",ps,[e("div",ms,[t[45]||(t[45]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[46]||(t[46]=d()),t[47]||(t[47]=e("strong",null,"Alert",-1)),d(" - "+i(a.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[6]||(t[6]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):u("",!0)]),m(Y,{modelValue:a.disapproveModelShow,"onUpdate:modelValue":t[10]||(t[10]=o=>a.disapproveModelShow=o),"hide-footer":"",title:s.$t("declined_reason"),class:"v-modal-custom",size:"md"},{default:p(()=>[e("form",null,[m(F,{form:a.form,rules:s.validationRules,ref:"validationRef"},{default:p(()=>[e("div",vs,[e("div",us,[e("div",fs,[e("label",_s,[d(i(s.$t("declined_reason")),1),t[48]||(t[48]=e("span",{class:"text-danger"},"*",-1))]),y(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_declined_reason"),id:"declined_reason","onUpdate:modelValue":t[7]||(t[7]=o=>a.form.reason=o)},null,8,bs),[[ge,a.form.reason]]),(l(!0),n(L,null,$(a.errors.reason,(o,w)=>(l(),n("span",{key:w,class:"text-danger"},i(o),1))),128))])])]),e("div",gs,[m(q,{href:"javascript:void(0);",class:"btn btn-link link-warning fw-medium",onClick:t[8]||(t[8]=o=>a.disapproveModelShow=!1)},{default:p(()=>[t[49]||(t[49]=e("i",{class:"ri-close-line me-1 align-middle"},null,-1)),d(" "+i(s.$t("close")),1)]),_:1}),e("button",{type:"button",class:"btn btn-soft-info waves-effect waves-light",onClick:t[9]||(t[9]=_((...o)=>a.handleSubmit&&a.handleSubmit(...o),["prevent"]))},i(s.$t("submit")),1)])]),_:1},8,["form","rules"])])]),_:1},8,["modelValue","title"]),m(J,{modelValue:a.rightOffcanvas,"onUpdate:modelValue":t[14]||(t[14]=o=>a.rightOffcanvas=o),placement:"end",title:s.$t("filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:p(()=>[m(G,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:p(()=>[e("div",hs,[e("div",ys,[e("label",ws,i(s.$t("transport_type")),1),y(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[11]||(t[11]=o=>a.filter.transport_type=o)},[e("option",ks,i(s.$t("all")),1),e("option",xs,i(s.$t("both")),1),e("option",Cs,i(s.$t("taxi")),1),e("option",Ms,i(s.$t("delivery")),1)],512),[[Q,a.filter.transport_type]])]),e("div",Bs,[e("label",Vs,i(s.$t("vehicle_type")),1),m(U,{class:"form-control",modelValue:a.filter.vehicle_type,"onUpdate:modelValue":t[12]||(t[12]=o=>a.filter.vehicle_type=o),"close-on-select":!1,searchable:!0,multiple:"",placeholder:"Select Vehicle Type",mode:"tags","create-option":!1,options:a.types.map(o=>({value:o.id,label:o.name}))},null,8,["modelValue","options"])]),e("div",Ps,[e("label",Ss,i(s.$t("subscription")),1),y(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[13]||(t[13]=o=>a.filter.subscription=o)},[e("option",$s,i(s.$t("all")),1),e("option",Ls,i(s.$t("subscribed_drivers")),1),e("option",Ds,i(s.$t("expired_drivers")),1),e("option",Os,i(s.$t("commission_drivers")),1)],512),[[Q,a.filter.subscription]])]),t[50]||(t[50]=e("div",{class:"mb-4"},null,-1))]),e("div",Is,[m(B,{onClick:a.clearFilter,variant:"light",class:"w-100"},{default:p(()=>[d(i(s.$t("clear_filter")),1)]),_:1},8,["onClick"]),m(B,{onClick:a.filterData,type:"submit",variant:"success",class:"w-100"},{default:p(()=>[d(i(s.$t("apply")),1)]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue","title"]),m(K,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const qs=de(Ve,[["render",Ts],["__scopeId","data-v-f13ee0f1"]]);export{qs as default};
