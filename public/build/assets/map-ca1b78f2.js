import{_ as h,D as w,o as A,g as _,i as M,y as b,w as v,l as u,n as l}from"./vendor-54d6cb1e.js";const C={props:{airport:Object,googleMapKey:String},setup(y){const{airport:e,googleMapKey:d}=y,{t:c}=w();let n,g,s,i=[];const p=()=>{if(e&&e.coordinates){n=new google.maps.Map(document.getElementById("map"),{center:{lat:0,lng:0},zoom:10});const r=new google.maps.LatLngBounds;let t=[];if(Array.isArray(e.coordinates))t=e.coordinates;else if(e.coordinates&&typeof e.coordinates=="object"&&e.coordinates.coordinates)t=e.coordinates.coordinates;else if(typeof e.coordinates=="string")try{const o=JSON.parse(e.coordinates);t=Array.isArray(o)?o:o.coordinates||[]}catch(o){console.error("Error parsing coordinates:",o),t=[]}Array.isArray(t)&&t.length>0&&(t.forEach(o=>{if(Array.isArray(o)&&o.length>0&&Array.isArray(o[0])){const m=o[0].map(a=>a&&a.coordinates&&Array.isArray(a.coordinates)?{lat:a.coordinates[1],lng:a.coordinates[0]}:Array.isArray(a)&&a.length>=2?{lat:a[1],lng:a[0]}:null).filter(a=>a!==null);m.length>0&&(s=new google.maps.Polygon({paths:m,editable:!1,draggable:!1,map:n}),i.push(s),s.getPath().forEach(a=>r.extend(a)))}}),i.length>0&&n.fitBounds(r)),f()}},f=()=>{g=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON]},polygonOptions:{editable:!1,draggable:!1}}),g.setMap(n)};return A(()=>{if(!d){console.error(c("google_map_api_key_is_null_or_undefined"));return}const r=document.createElement("script");r.src=`https://maps.googleapis.com/maps/api/js?key=${d}&libraries=places,drawing`,r.onload=()=>{p()},r.onerror=()=>{console.error(c("error_loading_google_maps_api_script"))},document.head.appendChild(r)}),{}}};function O(y,e,d,c,n,g){const s=_("Head"),i=_("PageHeader"),p=_("Layout");return M(),b(p,null,{default:v(()=>[u(s,{title:"Map"}),u(i,{title:"Map",pageTitle:"Map"}),e[0]||(e[0]=l("div",{class:"col-lg-12"},[l("div",{class:"card"},[l("div",{class:"card-body"},[l("div",{id:"map",style:{height:"600px"}})])])],-1))]),_:1})}const x=h(C,[["render",O],["__scopeId","data-v-6d41d0ca"]]);export{x as default};
