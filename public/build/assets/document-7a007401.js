import{_ as H,Z as N,O as T,P as U,B as A,D as I,r as u,T as W,R as z,a3 as E,a as x,g as i,i as m,y as F,w as r,W as $,N as K,l as a,n as e,J as o,k as h,F as j,L as G,z as p,C as S,t as Y,K as q}from"./vendor-8caf5d52.js";import{L as J}from"./main-cc7bd0ce.js";import{P as Z}from"./page-header-18309276.js";import{P as Q}from"./Pagination-0518e4bd.js";import{s as X}from"./search-769502e2.js";import{s as ee}from"./searchbar-e42e22fa.js";import{_ as te}from"./search-file-ab3e1046.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const se={data(){return{rightOffcanvas:!1}},components:{Layout:J,PageHeader:Z,Head:N,Pagination:Q,Multiselect:T,flatPickr:U,Link:A,search:X,searchbar:ee},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(s){const{t}=I(),v=u(""),n=W({all:"",locked:""}),f=u([]),P=u({}),k=u(!1),g=u(!1),D=u(null),y=u(s.successMessage||""),B=u(s.alertMessage||""),R=()=>{y.value="",B.value=""},b=()=>{g.value=!0},C=()=>{n.reset(),_(),g.value=!1},V=()=>{k.value=!1},w=async d=>{try{await x.delete(`/service-locations/delete/${d}`);const l=f.value.findIndex(c=>c.id===d);l!==-1&&f.value.splice(l,1),k.value=!1,$.fire(t("success"),t("pending_drivers_deleted_successfully"),"success")}catch{$.fire(t("error"),t("failed_to_delete_pending_drivers"),"error")}},M=async d=>{$.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async l=>{if(l.isConfirmed)try{await w(d)}catch(c){console.error(t("error_deleting_data"),c),$.fire("Error",t("failed_to_delete_the_data"),"error")}})};z(v,E.debounce(function(d){_(v.value)},300));const _=async(d=1)=>{try{const l=n.data();l.search=v.value,l.page=d;const c=await x.get("/service-locations/list",{params:l});f.value=c.data.results,P.value=c.data.paginator,g.value=!1}catch(l){console.error(t("error_fetching_pending_drivers"),l)}};return{results:f,modalShow:k,deleteItemId:D,successMessage:y,alertMessage:B,filterData:b,deleteModal:M,closeModal:V,deleteData:w,dismissMessage:R,searchTerm:v,paginator:P,modalFilter:g,clearFilter:C,fetchDatas:_,filter:n,handlePageChanged:async d=>{_(d)},editData:async d=>{K.get(`/service-locations/edit/${d.id}`)}}},mounted(){this.fetchDatas()}},oe={class:"table-responsive"},le={class:"table align-middle position-relative table-nowrap"},ae={class:"table-active"},ne={scope:"col"},ie={scope:"col"},re={scope:"col"},de={scope:"col"},ce={scope:"col"},ue={scope:"col"},me={scope:"col"},pe={key:0},fe={class:"dropdown"},be={class:"dropdown-menu dropdown-menu-end"},ge={class:"dropdown-item",href:"/approved-drivers/document-upolad"},_e={type:"button",class:"btn btn-outline-success btn-sm"},he={type:"button",class:"btn btn-outline-danger btn-sm ms-2"},ve={key:1},ke={colspan:"12",class:"text-center"},ye={class:"col-lg-12"},Be={class:"text-end"},Ce={type:"submit",class:"btn btn-primary"},we={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Me={class:"alert-content"},$e={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Pe={class:"alert-content"},De={class:"offcanvas-body"},Re={class:"mb-4"},Ve={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Se={value:"All Tasks"},Le={value:"Completed"},Oe={value:"Inprogress"},xe={value:"Pending"},Fe={value:"Pending"},He={class:"mb-4"},Ne={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Te={class:"form-check form-check-inline"},Ue={class:"form-check-label",for:"inlineRadio1"},Ae={class:"form-check form-check-inline"},Ie={class:"form-check-label",for:"inlineRadio1"},We={class:"form-check form-check-inline"},ze={class:"form-check-label",for:"inlineRadio1"},Ee={class:"mb-4"},Ke={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},je={class:"mb-4"},Ge={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ye={class:"mb-4"},qe={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Je={class:"form-check"},Ze={class:"form-check-label",for:"inlineCheckbox1"},Qe={class:"form-check"},Xe={class:"form-check-label",for:"inlineCheckbox2"},et={class:"form-check"},tt={class:"form-check-label",for:"inlineCheckbox3"},st={class:"form-check"},ot={class:"form-check-label",for:"inlineCheckbox4"},lt={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function at(s,t,v,n,f,P){const k=i("Head"),g=i("PageHeader"),D=i("BCardHeader"),y=i("BBadge"),B=i("BCardBody"),R=i("BCard"),b=i("BCol"),C=i("BRow"),V=i("flat-pickr"),w=i("Multiselect"),M=i("BButton"),_=i("BFrom"),L=i("BOffcanvas"),O=i("Pagination"),d=i("Layout");return m(),F(d,null,{default:r(()=>[a(k,{title:" Documents"}),a(g,{title:s.$t("documents"),pageTitle:s.$t("documents"),pageLink:"/pending-drivers"},null,8,["title","pageTitle"]),a(C,null,{default:r(()=>[a(b,{lg:"12"},{default:r(()=>[a(R,{"no-body":"",id:"tasksList"},{default:r(()=>[a(D,{class:"border-0"}),a(B,{class:"border border-dashed border-end-0 border-start-0"},{default:r(()=>[e("div",oe,[e("table",le,[e("thead",ae,[e("tr",null,[e("th",ne,o(s.$t("driver_name")),1),e("th",ie,o(s.$t("document_name")),1),e("th",re,o(s.$t("expiry_date")),1),e("th",de,o(s.$t("status")),1),e("th",ce,o(s.$t("comment")),1),e("th",ue,o(s.$t("action")),1),e("th",me,o(s.$t("action")),1)])]),n.results.length>0?(m(),h("tbody",pe,[(m(!0),h(j,null,G(n.results,(l,c)=>(m(),h("tr",{key:c},[t[9]||(t[9]=e("td",null,"test",-1)),t[10]||(t[10]=e("td",null,"Driver Licence",-1)),t[11]||(t[11]=e("td",null,"-",-1)),e("td",null,[l.active==1?(m(),F(y,{key:0,variant:"danger",class:"text-uppercase"},{default:r(()=>t[6]||(t[6]=[p("Not Uploaded")])),_:1,__:[6]})):S("",!0)]),t[12]||(t[12]=e("td",null,"-",-1)),e("td",null,[e("div",fe,[t[8]||(t[8]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("div",be,[e("a",ge,[t[7]||(t[7]=e("i",{class:"bx bx-upload align-center text-muted me-2"},null,-1)),p(" "+o(s.$t("upload")),1)])])])]),e("td",null,[e("button",_e,o(s.$t("approval")),1),e("button",he,o(s.$t("decline")),1)])]))),128))])):(m(),h("tbody",ve,[e("tr",null,[e("td",ke,[t[13]||(t[13]=e("img",{src:te,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,o(s.$t("no_data_found")),1)])])]))]),e("div",ye,[e("div",Be,[e("button",Ce,o(s.$t("update")),1)])])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[n.successMessage?(m(),h("div",we,[e("div",Me,[t[14]||(t[14]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[15]||(t[15]=p()),t[16]||(t[16]=e("strong",null,"Success",-1)),p(" - "+o(n.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[0]||(t[0]=(...l)=>n.dismissMessage&&n.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):S("",!0),n.alertMessage?(m(),h("div",$e,[e("div",Pe,[t[17]||(t[17]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[18]||(t[18]=p()),t[19]||(t[19]=e("strong",null,"Alert",-1)),p(" - "+o(n.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[1]||(t[1]=(...l)=>n.dismissMessage&&n.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):S("",!0)]),a(L,{modelValue:f.rightOffcanvas,"onUpdate:modelValue":t[5]||(t[5]=l=>f.rightOffcanvas=l),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:r(()=>[a(_,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:r(()=>[e("div",De,[e("div",Re,[e("label",Ve,o(s.$t("process")),1),Y(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[2]||(t[2]=l=>s.status=l)},[e("option",Se,o(s.$t("all")),1),e("option",Le,o(s.$t("completed")),1),e("option",Oe,o(s.$t("inprogress")),1),e("option",xe,o(s.$t("pending")),1),e("option",Fe,o(s.$t("cancelled")),1)],512),[[q,s.status]])]),e("div",He,[e("label",Ne,o(s.$t("payment")),1),e("div",null,[e("div",Te,[t[20]||(t[20]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",Ue,o(s.$t("online")),1)]),e("div",Ae,[t[21]||(t[21]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",Ie,o(s.$t("card")),1)]),e("div",We,[t[22]||(t[22]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",ze,o(s.$t("cash")),1)])])]),e("div",Ee,[e("label",Ke,o(s.$t("date")),1),a(V,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[3]||(t[3]=l=>s.date=l),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",je,[e("label",Ge,o(s.$t("country")),1),a(w,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value=l),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),e("div",Ye,[e("label",qe,o(s.$t("status")),1),a(C,{class:"g-2"},{default:r(()=>[a(b,{lg:"6"},{default:r(()=>[e("div",Je,[t[23]||(t[23]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",Ze,o(s.$t("active")),1)])]),_:1}),a(b,{lg:"6"},{default:r(()=>[e("div",Qe,[t[24]||(t[24]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",Xe,o(s.$t("inactive")),1)])]),_:1}),a(b,{lg:"6"},{default:r(()=>[e("div",et,[t[25]||(t[25]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",tt,o(s.$t("cash")),1)])]),_:1}),a(b,{lg:"6"},{default:r(()=>[e("div",st,[t[26]||(t[26]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ot,o(s.$t("card")),1)])]),_:1})]),_:1})]),t[27]||(t[27]=e("div",null,null,-1))]),e("div",lt,[a(M,{variant:"light",class:"w-100"},{default:r(()=>[p(o(s.$t("clear_filter")),1)]),_:1}),a(M,{type:"submit",variant:"success",class:"w-100"},{default:r(()=>[p(o(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),a(O,{paginator:n.paginator,onPageChanged:n.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const bt=H(se,[["render",at]]);export{bt as default};
