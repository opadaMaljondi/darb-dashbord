import{_ as Y,Z as j,O as J,P as Z,B as q,r as h,D as Q,T as X,R as ee,a3 as te,a as H,S as se,g as m,i as c,y as V,w as i,W as R,N as ae,l as n,n as e,J as a,t as N,K as E,k as f,L as W,F as z,z as p,C as B,p as G}from"./vendor-54d6cb1e.js";import{L as oe}from"./main-b839be26.js";import{P as le}from"./page-header-ff719701.js";import{P as ne}from"./Pagination-b5e3d5c9.js";import{s as ie}from"./search-06463c60.js";import{s as re}from"./searchbar-3bdb3315.js";import{l as de}from"./footer-7e4f68d9.js";import{_ as ce}from"./search-file-ab3e1046.js";import"./app-cb082573.js";const ue={data(){return{rightOffcanvas:!1}},components:{Layout:oe,PageHeader:le,Head:j,Pagination:ne,Multiselect:J,flatPickr:Z,Link:q,search:ie,searchbar:re},props:{successMessage:String,alertMessage:String},setup(s){const t=h(""),{t:g}=Q(),l=X({all:"",locked:"",limit:10}),b=h([]),P=h({}),M=h(!1),C=h(!1),v=h(null),w=h({}),k=h(s.successMessage||""),_=h(s.alertMessage||""),D=()=>{k.value="",_.value=""},$=()=>{C.value=!0},O=()=>{l.reset(),y(),C.value=!1},I=()=>{M.value=!1},x=async r=>{try{await H.delete(`/banner-image/delete/${r}`);const d=b.value.findIndex(u=>u.id===r);d!==-1&&b.value.splice(d,1),M.value=!1,R.fire(g("success"),g("banner_image_deleted_successfully"),"success")}catch(d){d.response&&d.response.status==403&&(_.value=d.response.data.alertMessage,setTimeout(()=>{_.value=""},5e3)),R.fire(g("error"),g("failed_to_delete_banner_image"),"error")}},L=async r=>{R.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async d=>{if(d.isConfirmed)try{await x(r)}catch(u){console.error(g("error_deleting_data"),u),R.fire(g("error"),g("failed_to_delete_the_data"),"error")}})};ee(t,te.debounce(function(r){y(t.value)},300));const y=async(r=1)=>{try{const d=l.data();d.search=t.value,d.page=r;const u=await H.get("/banner-image/list",{params:d});b.value=u.data.results,P.value=u.data.paginator,U(P.value.total),C.value=!1}catch(d){console.error(g("error_fetching_banner_image"),d)}},F=async(r,d)=>{try{await H.post("/banner-image/update-status",{id:r,status:d});const u=b.value.findIndex(K=>K.id===r);u!==-1&&(b.value[u].active===1?(k.value=g("banner_image_inactive_successfully"),b.value[u].active=d):(k.value=g("banner_image_active_successfully"),b.value[u].active=d),setTimeout(()=>{k.value=""},5e3))}catch(u){u.response&&u.response.status==403&&(_.value=u.response.data.alertMessage,setTimeout(()=>{_.value=""},5e3)),console.error(g("error_updating_status"),u)}},T=async r=>{localStorage.setItem("banner-image/list",r),y(r)},A=async r=>{ae.get(`/banner-image/edit/${r.id}`)},o=r=>r?`${r}`:"",U=()=>{w.value=[10,25,50,100,200,500]};return{results:b,modalShow:M,deleteItemId:v,successMessage:k,alertMessage:_,filterData:$,deleteModal:L,closeModal:I,deleteData:x,dismissMessage:D,searchTerm:t,paginator:P,modalFilter:C,clearFilter:O,fetchDatas:y,filter:l,handlePageChanged:T,editData:A,getFullImageUrl:o,toggleActiveStatus:F,paginatorOption:w,changeEntriesPerPage:()=>{y()}}},computed:{...de,...se(["permissions"])},mounted(){this.fetchDatas();const s=localStorage.getItem("banner-image/list");s?this.handlePageChanged(Number(s)):this.handlePageChanged(1)}},me={class:"d-flex align-items-center mt-3"},fe={class:"me-2 text-muted"},pe=["value"],ge={class:"ms-2 text-muted"},be={class:"d-flex align-items-center gap-2"},ve={class:"table-responsive"},_e={class:"table align-middle position-relative table-nowrap"},he={class:"table-active"},ke={scope:"col"},ye={scope:"col"},Ce={scope:"col"},we={key:0},Be=["src","alt"],Me={class:"dropdown"},Pe={class:"dropdown-menu dropdown-menu-end"},$e=["onClick"],xe={key:1},Se=["onClick"],Ve=["onClick"],Re=["onClick"],De={key:1},Oe={colspan:"7",class:"text-center"},Ie={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Le={class:"alert-content"},Fe={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Te={class:"alert-content"},Ae={class:"offcanvas-body"},Ue={class:"mb-4"},He={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},Ne={value:"All Tasks"},Ee={value:"Completed"},We={value:"Inprogress"},ze={value:"Pending"},Ge={value:"Pending"},Ke={class:"mb-4"},Ye={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},je={class:"form-check form-check-inline"},Je={class:"form-check-label",for:"inlineRadio1"},Ze={class:"form-check form-check-inline"},qe={class:"form-check-label",for:"inlineRadio1"},Qe={class:"form-check form-check-inline"},Xe={class:"form-check-label",for:"inlineRadio1"},et={class:"mb-4"},tt={for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},st={class:"mb-4"},at={for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},ot={class:"mb-4"},lt={for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},nt={class:"form-check"},it={class:"form-check-label",for:"inlineCheckbox1"},rt={class:"form-check"},dt={class:"form-check-label",for:"inlineCheckbox2"},ct={class:"form-check"},ut={class:"form-check-label",for:"inlineCheckbox3"},mt={class:"form-check"},ft={class:"form-check-label",for:"inlineCheckbox4"},pt={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function gt(s,t,g,l,b,P){const M=m("Head"),C=m("PageHeader"),v=m("BCol"),w=m("BButton"),k=m("Link"),_=m("BRow"),D=m("BCardHeader"),$=m("BBadge"),O=m("BCardBody"),I=m("BCard"),x=m("flat-pickr"),L=m("Multiselect"),y=m("BFrom"),F=m("BOffcanvas"),T=m("Pagination"),A=m("Layout");return c(),V(A,null,{default:i(()=>[n(M,{title:"Banner Image"}),n(C,{title:s.$t("banner-image"),pageTitle:s.$t("banner-image")},null,8,["title","pageTitle"]),n(_,null,{default:i(()=>[n(v,{lg:"12"},{default:i(()=>[n(I,{"no-body":"",id:"tasksList"},{default:i(()=>[n(D,{class:"border-0"},{default:i(()=>[n(_,{class:"g-2"},{default:i(()=>[n(v,{md:"3"},{default:i(()=>[e("div",me,[e("label",fe,a(s.$t("show")),1),N(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.filter.limit=o),onChange:t[1]||(t[1]=(...o)=>l.changeEntriesPerPage&&l.changeEntriesPerPage(...o)),class:"form-select form-select-sm w-auto"},[(c(!0),f(z,null,W(l.paginatorOption,o=>(c(),f("option",{key:o,value:o},a(o),9,pe))),128))],544),[[E,l.filter.limit]]),e("label",ge,a(s.$t("entries")),1)])]),_:1}),n(v,{md:"3"}),n(v,{md:"auto",class:"ms-auto"},{default:i(()=>[e("div",be,[s.permissions.includes("add_banner_image")?(c(),V(k,{key:0,href:"/banner-image/create"},{default:i(()=>[n(w,{variant:"primary",class:"float-end"},{default:i(()=>[t[8]||(t[8]=e("i",{class:"ri-add-line align-bottom me-1"},null,-1)),p(" "+a(s.$t("add_banner_image")),1)]),_:1})]),_:1})):B("",!0)])]),_:1})]),_:1})]),_:1}),n(O,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[e("div",ve,[e("table",_e,[e("thead",he,[e("tr",null,[e("th",ke,a(s.$t("icon")),1),e("th",ye,a(s.$t("status")),1),e("th",Ce,a(s.$t("action")),1)])]),l.results.length>0?(c(),f("tbody",we,[(c(!0),f(z,null,W(l.results,(o,U)=>(c(),f("tr",{key:U},[e("td",null,[e("img",{src:l.getFullImageUrl(o.image),alt:o.image?"Banner Image":"No image available",height:"40px",width:"200"},null,8,Be)]),e("td",null,[o.active==1?(c(),V($,{key:0,variant:"success",class:"text-uppercase"},{default:i(()=>[p(a(s.$t("active")),1)]),_:1})):(c(),V($,{key:1,variant:"danger",class:"text-uppercase"},{default:i(()=>[p(a(s.$t("inactive")),1)]),_:1}))]),e("td",null,[e("div",Me,[t[13]||(t[13]=e("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("span",{class:"text-muted fs-18"},[e("i",{class:"mdi mdi-dots-vertical"})])],-1)),e("div",Pe,[s.permissions.includes("edit_banner_image")?(c(),f("a",{key:0,class:"dropdown-item",href:"#",onClick:G(S=>l.editData(o),["prevent"])},[t[9]||(t[9]=e("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),p(a(s.$t("edit")),1)],8,$e)):B("",!0),s.permissions.includes("toggle_banner_image")?(c(),f("div",xe,[o.active===1?(c(),f("a",{key:0,class:"dropdown-item",href:"#",onClick:S=>l.toggleActiveStatus(o.id,0)},[t[10]||(t[10]=e("i",{class:"bx bxs-low-vision align-center text-muted me-2"},null,-1)),p(" "+a(s.$t("inactive")),1)],8,Se)):(c(),f("a",{key:1,class:"dropdown-item",href:"#",onClick:S=>l.toggleActiveStatus(o.id,1)},[t[11]||(t[11]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),p(" "+a(s.$t("active")),1)],8,Ve))])):B("",!0),s.permissions.includes("delete_banner_image")?(c(),f("a",{key:2,class:"dropdown-item",href:"#",onClick:G(S=>l.deleteModal(o.id),["prevent"])},[t[12]||(t[12]=e("i",{class:"bx bxs-trash align-center text-muted me-2"},null,-1)),p(a(s.$t("delete")),1)],8,Re)):B("",!0)])])])]))),128))])):(c(),f("tbody",De,[e("tr",null,[e("td",Oe,[t[14]||(t[14]=e("img",{src:ce,alt:"Loading...",style:{width:"100px"}},null,-1)),e("h5",null,a(s.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[l.successMessage?(c(),f("div",Ie,[e("div",Le,[t[15]||(t[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[16]||(t[16]=p()),t[17]||(t[17]=e("strong",null,"Success",-1)),p(" - "+a(l.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[2]||(t[2]=(...o)=>l.dismissMessage&&l.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):B("",!0),l.alertMessage?(c(),f("div",Fe,[e("div",Te,[t[18]||(t[18]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[19]||(t[19]=p()),t[20]||(t[20]=e("strong",null,"Alert",-1)),p(" - "+a(l.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[3]||(t[3]=(...o)=>l.dismissMessage&&l.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):B("",!0)]),n(F,{modelValue:b.rightOffcanvas,"onUpdate:modelValue":t[7]||(t[7]=o=>b.rightOffcanvas=o),placement:"end",title:s.$t("leads_filters"),"header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:i(()=>[n(y,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:i(()=>[e("div",Ae,[e("div",Ue,[e("label",He,a(s.$t("process")),1),N(e("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":t[4]||(t[4]=o=>s.status=o)},[e("option",Ne,a(s.$t("all")),1),e("option",Ee,a(s.$t("completed")),1),e("option",We,a(s.$t("inprogress")),1),e("option",ze,a(s.$t("pending")),1),e("option",Ge,a(s.$t("cancelled")),1)],512),[[E,s.status]])]),e("div",Ke,[e("label",Ye,a(s.$t("payment")),1),e("div",null,[e("div",je,[t[21]||(t[21]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"},null,-1)),e("label",Je,a(s.$t("online")),1)]),e("div",Ze,[t[22]||(t[22]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"},null,-1)),e("label",qe,a(s.$t("card")),1)]),e("div",Qe,[t[23]||(t[23]=e("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"},null,-1)),e("label",Xe,a(s.$t("cash")),1)])])]),e("div",et,[e("label",tt,a(s.$t("date")),1),n(x,{placeholder:s.$t("select_date"),modelValue:s.date,"onUpdate:modelValue":t[5]||(t[5]=o=>s.date=o),config:s.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["placeholder","modelValue","config"])]),e("div",st,[e("label",at,a(s.$t("country")),1),n(L,{class:"form-control",modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=o=>s.value=o),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:s.$t("select_country")},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue","options"])]),e("div",ot,[e("label",lt,a(s.$t("status")),1),n(_,{class:"g-2"},{default:i(()=>[n(v,{lg:"6"},{default:i(()=>[e("div",nt,[t[24]||(t[24]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"},null,-1)),e("label",it,a(s.$t("active")),1)])]),_:1}),n(v,{lg:"6"},{default:i(()=>[e("div",rt,[t[25]||(t[25]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"},null,-1)),e("label",dt,a(s.$t("inactive")),1)])]),_:1}),n(v,{lg:"6"},{default:i(()=>[e("div",ct,[t[26]||(t[26]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"},null,-1)),e("label",ut,a(s.$t("cash")),1)])]),_:1}),n(v,{lg:"6"},{default:i(()=>[e("div",mt,[t[27]||(t[27]=e("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"},null,-1)),e("label",ft,a(s.$t("card")),1)])]),_:1})]),_:1})]),t[28]||(t[28]=e("div",null,null,-1))]),e("div",pt,[n(w,{variant:"light",class:"w-100"},{default:i(()=>[p(a(s.$t("clear_filter")),1)]),_:1}),n(w,{type:"submit",variant:"success",class:"w-100"},{default:i(()=>[p(a(s.$t("apply")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue","title"]),n(T,{paginator:l.paginator,onPageChanged:l.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Mt=Y(ue,[["render",gt]]);export{Mt as default};
