import{_ as _e,Z as ue,O as he,P as me,B as ve,D as fe,r as k,o as ie,g as S,i as a,y as re,w as m,a as de,W as K,l as v,n as e,J as s,k as i,F as se,L as te,C as n,z as b}from"./vendor-54d6cb1e.js";import{s as ge}from"./search-06463c60.js";import{s as be}from"./searchbar-3bdb3315.js";import{i as pe}from"./app-cb082573.js";import{_ as ne,a as ye,b as we,c as xe}from"./mark-f25bae14.js";const ke={data(){return{rightOffcanvas:!1}},components:{Head:ue,Multiselect:he,flatPickr:me,Link:ve,search:ge,searchbar:be},props:{successMessage:String,alertMessage:String,googleMapKey:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,rejected_drivers:Object,firebaseConfig:Object,request:Object},setup(l){var R,A,W,N;const{t:o}=fe(),d=k(l.request),t=k(l.rejected_drivers),U=k(!1),D=k(null),le=k(l.request.requestProofs.data),oe=k(l.request.requestStops.data),C=k(l.successMessage||""),O=k(l.alertMessage||""),I=k("**********"),z=k("**********"),T=k("**********"),P=k("**********"),ae=()=>{C.value="",O.value=""},Y=r=>{const u=document.getElementById("map").offsetWidth,f=r.getSouthWest().lng();let c=r.getNorthEast().lng()-f;return c<0&&(c+=360),Math.floor(Math.log(u*360/c/256)/Math.LN2)},{googleMapKey:j}=l,Z=()=>{const r=l.pick_icon,_=l.drop_icon,u=d.value,f=new google.maps.LatLng(u.pick_lat,u.pick_lng),w=new google.maps.LatLng(u.drop_lat,u.drop_lng),c=u.stops,h=[];c&&c.forEach(g=>{const x=new google.maps.LatLng(g.latitude,g.longitude);h.push(x)});const y=new google.maps.LatLngBounds;if(y.extend(f),y.extend(w),h.forEach(g=>{y.extend(g)}),D.value=new google.maps.Map(document.getElementById("map"),{center:{lat:u.pick_lat,lng:u.pick_lng},zoom:Y(y)}),new google.maps.Marker({position:f,icon:r,map:D.value}),new google.maps.Marker({position:w,icon:_,map:D.value}),h.forEach(g=>{new google.maps.Marker({position:g,icon:_,map:D.value})}),D.value.fitBounds(y),u.poly_line){const g=google.maps.geometry.encoding.decodePath(u.poly_line);g.length>0&&new google.maps.Polyline({path:g,geodesic:!0,strokeColor:"#0066FF",strokeOpacity:4,strokeWeight:5}).setMap(D.value)}},J=()=>{U.value=!1},Q=async r=>{try{const _=await de.get(`/rides-request/cancel/${r}`);d.value=_.data.request,U.value=!1,K.fire(o("success"),o("trip_cancelled_successfully"),"success")}catch{K.fire(o("error"),o("failed_to_cancel_trip"),"error")}},p=k(""),H=()=>{const r=new Date,_={weekday:"short",day:"numeric",month:"short",year:"numeric"};return r.toLocaleDateString("en-US",_)},X=async r=>{K.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async _=>{if(_.isConfirmed)try{const u=await de.get(`/rides-request/cancel/${r}`);if(u.data.success){const f=u.data.request;_.value=f,K.fire(o("success"),o("trip_cancelled_successfully"),"success")}}catch(u){console.error(o("error_deleting_data"),u),K.fire(o("error"),o("failed_to_delete_the_data"),"error")}})};let M=null;const $=(r,_,u,f)=>{let c=_.lat(),h=_.lng(),y=u.lat(),g=u.lng();if(c===y&&h===g){f!==void 0&&r.setIcon({...r.getIcon(),rotation:f}),r.setPosition(u),r.prevBearing=f;return}const x=B=>B<.5?2*B*B:-1+(4-2*B)*B,q=B=>{let F=x(B/60),G=new google.maps.LatLng(c+(y-c)*F,h+(g-h)*F);if(r.setPosition(G),f!==void 0){const V=r.prevBearing||f,E=f-V,ce=V+E*F;r.setIcon({...r.getIcon(),rotation:ce})}B<60?requestAnimationFrame(()=>q(B+1)):r.prevBearing=f};q(0)},ee=r=>{const _="0123456789bcdefghjkmnpqrstuvwxyz",u=[16,8,4,2,1];let f=!0,w=-90,c=90,h=-180,y=180,g,x;if(r){for(let q=0;q<r.length;q++){let B=r.charAt(q),F=_.indexOf(B);for(let G=0;G<5;G++){let V=u[G];if(f){let E=(h+y)/2;F&V?h=E:y=E}else{let E=(w+c)/2;F&V?w=E:c=E}f=!f}}return g=(w+c)/2,x=(h+y)/2,{lat:g,lon:x}}};ie(async()=>{const r=localStorage.getItem("locale")||"en";if(await pe(r),!d.value.is_cancelled&&!d.value.is_completed)try{const _=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(_),firebase.database().ref(`requests/${d.value.id}`).on("value",w=>{const c=w.val();c&&(c.hasOwnProperty("is_completed")&&(d.value.is_completed=!0,p.value=o("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),c.accept!==1&&(d.value.driver_id=null,p.value=o("searching")),c.driver_id&&d.value.driver_id&&window.location.reload(),d.value.is_later&&c.hasOwnProperty("modified_by_driver")&&(p.value=o("driver_started"),d.value.is_driver_started=1),c.trip_arrived==1&&(p.value=o("driver_arrived"),d.value.is_driver_arrived=!0,d.value.converted_arrived_at||(d.value.converted_arrived_at=H())),c.trip_start==1&&(p.value=o("on_trip"),d.value.is_trip_start=!0,d.value.converted_trip_start_time||(d.value.converted_trip_start_time=H())),(c.is_cancelled||c.is_cancel)&&(d.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))}),d.value.driverDetail.data&&firebase.database().ref("drivers/driver_"+d.value.driverDetail.data.id).on("value",c=>{const h=c.val(),y=h.g,g=ee(y);if(h&&g&&h.l&&h.l[0]&&h.l[1]){const x={lat:h.l[0],lng:h.l[1]};let q;q=`/image/map/${h.vehicle_type_icon}.png`;const B=new google.maps.LatLng(g.lat,g.lon);M?($(M,M.getPosition(),B,h.bearing),M.setPosition(x),M.setIcon({url:q,scaledSize:new google.maps.Size(30,30)})):M=new google.maps.Marker({position:x,map:D.value,icon:{url:q,scaledSize:new google.maps.Size(30,30)},title:"Driver Location"}),D.value.setCenter(x)}})}catch(_){console.error("Error initializing Firebase or fetching settings:",_)}else d.value.is_cancelled?p.value=o("ride_cancelled"):d.value.is_completed?p.value=o("ride_completed"):d.value.is_result.value_start?p.value=o("on_trip"):d.value.is_driver_arrived?p.value=o("driver_arrived"):d.value.is_later&&d.value.is_driver_started?p.value=o("driver_started"):d.value.driver_id?p.value=o("accepted"):d.value.is_later?p.value=o("upcoming"):p.value=o("searching")}),ie(()=>{if(!j){console.error("Google Map API Key is null or undefined.");return}const r=document.createElement("script");r.src=`https://maps.googleapis.com/maps/api/js?key=${j}&libraries=geometry`,r.onload=()=>{Z()},document.head.appendChild(r)}),l.app_for!="demo"&&(d.value.userDetail&&(I.value=(R=d.value.userDetail.data)==null?void 0:R.mobile,z.value=(A=d.value.userDetail.data)==null?void 0:A.email),d.value.driverDetail&&(T.value=(W=d.value.driverDetail.data)==null?void 0:W.mobile,P.value=(N=d.value.driverDetail.data)==null?void 0:N.email));const L=k(o("normal"));return d.value.is_bid_ride&&(L.value=o("bidding")),d.value.is_rental&&(L.value=o("rental")),d.value.is_out_station&&(d.value.is_round_trip?L.value=o("round_trip_outstation_trip"):L.value=o("one_way_outstation_trip")),{result:d,modalShow:U,successMessage:C,alertMessage:O,rejected_drivers:t,deleteModal:X,closeModal:J,deleteData:Q,stops:oe,proof:le,rideStatus:p,user_mobile:I,user_email:z,dispatch_type:L,driver_mobile:T,driver_email:P,dismissMessage:ae}}},qe={class:"mb-1"},Be={class:"row"},De={class:"col-xxl-4 col-md-6"},Me={class:"card card-animate border border-dashed border-primary"},Se={class:"card-body text-center"},Ce={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Le={class:"mb-3 fs-18"},Te={class:"fs-14 mb-4"},Pe={key:0,class:"col-xxl-4 col-md-6"},Ee={class:"card card-animate border border-dashed border-primary"},Oe={class:"card-body text-center"},Ie={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ze={class:"mb-3 fs-18"},Fe={class:"fs-14 mb-4"},je={key:1,class:"col-xxl-4 col-md-6"},He={class:"card card-animate border border-dashed border-primary"},Re={class:"card-body text-center"},Ae={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},We={class:"mb-3 fs-18"},Ne={class:"fs-14 mb-4"},Ge={class:"col-xxl-4 col-md-6"},Ve={class:"card card-animate border border-dashed border-primary"},Ke={class:"card-body text-center"},Ue={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ye={class:"mt-5 mb-3 fs-18"},Ze={class:"mb-1"},Je={class:"row"},Qe={class:"col-xxl-4 col-md-6"},Xe={class:"card card-animate border border-dashed border-primary"},$e={class:"card-body"},es={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ss={class:"d-flex align-items-center mb-2"},ts={class:"flex-shrink-0"},ls={class:"text-muted mb-0"},os={class:"flex-grow-1 ms-2"},as={class:"mb-0"},is={class:"d-flex align-items-center mb-2"},rs={class:"flex-shrink-0"},ds={class:"text-muted mb-0"},ns={class:"flex-grow-1 ms-2"},cs={class:"mb-0"},_s={key:0},us={key:1},hs={key:2},ms={class:"d-flex align-items-center mb-2"},vs={class:"flex-shrink-0"},fs={class:"text-muted mb-0"},gs={class:"flex-grow-1 ms-2"},bs={class:"mb-0"},ps={class:"d-flex align-items-center mb-2"},ys={class:"flex-shrink-0"},ws={class:"text-muted mb-0"},xs={class:"flex-grow-1 ms-2"},ks={class:"mb-0"},qs={key:0,class:"d-flex align-items-center mb-2"},Bs={class:"flex-shrink-0"},Ds={class:"text-muted mb-0"},Ms={class:"flex-grow-1 ms-2"},Ss={class:"mb-0"},Cs={class:"d-flex align-items-center mb-2"},Ls={class:"flex-shrink-0"},Ts={class:"text-muted mb-0"},Ps={class:"flex-grow-1 ms-2"},Es={class:"mb-0"},Os={key:1,class:"d-flex align-items-center mb-2"},Is={class:"flex-shrink-0"},zs={class:"text-muted mb-0"},Fs={class:"flex-grow-1 ms-2"},js={class:"mb-0"},Hs={key:2,class:"d-flex align-items-center mb-2"},Rs={class:"flex-shrink-0"},As={class:"text-muted mb-0"},Ws={class:"mb-0"},Ns={class:"col-xxl-4 col-md-6"},Gs={class:"card card-animate border border-dashed border-primary"},Vs={class:"card-body"},Ks={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Us={class:"flex-grow-1 mt-2 text-center"},Ys=["src"],Zs={class:"d-flex align-items-center mb-2"},Js={class:"flex-shrink-0"},Qs={class:"text-muted mb-0"},Xs={class:"flex-grow-1 ms-2"},$s={class:"mb-0"},et={class:"d-flex align-items-center mb-2"},st={class:"flex-shrink-0"},tt={class:"text-muted mb-0"},lt={class:"flex-grow-1 ms-2"},ot={class:"mb-0"},at={class:"d-flex align-items-center mb-2"},it={class:"flex-shrink-0"},rt={class:"text-muted mb-0"},dt={class:"flex-grow-1 ms-2"},nt={class:"mb-0"},ct={class:"d-flex align-items-center mb-2"},_t={class:"flex-shrink-0"},ut={class:"text-muted mb-0"},ht={class:"flex-grow-1 ms-2"},mt={class:"mb-0"},vt={key:0,class:"col-xxl-4 col-md-6"},ft={class:"card card-animate border border-dashed border-primary"},gt={class:"card-body"},bt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},pt={class:"flex-grow-1 mt-2 text-center"},yt=["src"],wt={class:"d-flex align-items-center mb-2"},xt={class:"flex-shrink-0"},kt={class:"text-muted mb-0"},qt={class:"flex-grow-1 ms-2"},Bt={class:"mb-0"},Dt={class:"d-flex align-items-center mb-2"},Mt={class:"flex-shrink-0"},St={class:"text-muted mb-0"},Ct={class:"flex-grow-1 ms-2"},Lt={class:"mb-0"},Tt={class:"d-flex align-items-center mb-2"},Pt={class:"flex-shrink-0"},Et={class:"text-muted mb-0"},Ot={class:"flex-grow-1 ms-2"},It={class:"mb-0"},zt={class:"d-flex align-items-center mb-2"},Ft={class:"flex-shrink-0"},jt={class:"text-muted mb-0"},Ht={class:"flex-grow-1 ms-2"},Rt={class:"mb-0"},At={key:0,class:"text-center"},Wt=["href"],Nt={class:"mb-1"},Gt={class:"col-lg-6"},Vt={class:"card border mt-3"},Kt={class:"table-responsive"},Ut={class:"table align-middle position-relative table-nowrap"},Yt={class:"table-active"},Zt={class:"fs-16"},Jt={scope:"col"},Qt={scope:"col"},Xt={scope:"col"},$t={key:0},el={key:1},sl={key:0},tl={key:1,class:"text-danger"},ll={key:2},ol={key:3},al={key:4},il={key:5},rl={key:6},dl={key:7},nl={key:0},cl={key:1},_l={key:2},ul={key:3},hl={class:"bg-body bg-success-subtle"},ml={colspan:"2",class:"text-success"},vl={class:"text-success"},fl={class:"text-success"},gl={class:"text-success"},bl={class:"col-lg-6"},pl={class:"card border mt-3"},yl={class:"table-responsive"},wl={class:"table align-middle position-relative table-nowrap"},xl={class:"table-active"},kl={class:"fs-16"},ql={scope:"col"},Bl={scope:"col"},Dl={class:"text-danger"},Ml={colspan:"2"},Sl={class:"text-danger"},Cl={colspan:"2"},Ll={class:"text-danger"},Tl={colspan:"2"},Pl={colspan:"2"},El={key:0},Ol={key:1},Il={class:"bg-body bg-success-subtle"},zl={colspan:"2",class:"text-success"},Fl={class:"text-success"},jl={class:"text-success"},Hl={class:"text-success"},Rl={class:"card"},Al={class:"mb-1"},Wl={class:"card-body"},Nl={class:"profile-timeline"},Gl={class:"accordion accordion-flush",id:"accordionFlushExample"},Vl={class:"accordion-item border-0"},Kl={class:"accordion-header",id:"headingOne"},Ul={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Yl={class:"d-flex align-items-center"},Zl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Jl=["src"],Ql={class:"flex-grow-1 ms-3"},Xl={class:"fs-15 mb-0 fw-semibold text-primary"},$l={class:"fw-normal text-muted"},eo={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},so={class:"accordion-body ms-5 ps-5 pt-0"},to={key:0,class:"mb-1 text-warning"},lo={key:1,class:"mb-1 text-success"},oo={class:"accordion-item border-0"},ao={class:"accordion-header",id:"headingTwo"},io={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},ro={class:"d-flex align-items-center"},no={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},co=["src"],_o={class:"flex-grow-1 ms-3"},uo={class:"fs-15 mb-1 fw-semibold text-danger"},ho={class:"fw-normal"},mo={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},vo={class:"accordion-body ms-5 ps-5 pt-0"},fo={class:"mb-1"},go={key:0,class:"accordion-item border-0"},bo={class:"accordion-header",id:"headingThree"},po={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},yo={class:"d-flex align-items-center"},wo={class:"flex-shrink-0 border border-4 border-success rounded-circle"},xo=["src"],ko={class:"flex-grow-1 ms-3"},qo={class:"fs-15 mb-1 fw-semibold text-success"},Bo={class:"fw-normal"},Do={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Mo={class:"accordion-body ms-5 ps-5 pt-0"},So={class:"mb-1"},Co={key:1,class:"accordion-item border-0"},Lo={class:"accordion-header",id:"headingThree"},To={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Po={class:"d-flex align-items-center"},Eo={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Oo=["src"],Io={class:"flex-grow-1 ms-3"},zo={class:"fs-15 mb-1 fw-semibold text-warning"},Fo={class:"fw-normal"},jo={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Ho={class:"accordion-body ms-5 ps-5 pt-0"},Ro={class:"mb-1"},Ao={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Wo={class:"accordion-body ms-5 ps-5 pt-0"},No={class:"mb-1 text-success"},Go={key:2,class:"accordion-item border-0"},Vo={class:"accordion-header",id:"headingThree"},Ko={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Uo={class:"d-flex align-items-center"},Yo={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Zo=["src"],Jo={class:"flex-grow-1 ms-3"},Qo={class:"fs-15 mb-1 fw-semibold text-success"},Xo={class:"fw-normal"},$o={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},ea={class:"accordion-body ms-5 ps-5 pt-0"},sa={class:"mb-1"},ta={key:3,class:"accordion-item border-0"},la={class:"accordion-header",id:"headingFour"},oa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},aa={class:"d-flex align-items-center"},ia={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ra=["src"],da={class:"flex-grow-1 ms-3"},na={class:"fs-14 mb-0 fw-semibold text-success"},ca={class:"fw-normal text-muted"},_a={key:4,class:"accordion-item border-0"},ua={class:"accordion-header",id:"headingFour"},ha={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},ma={class:"d-flex align-items-center"},va={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},fa=["src"],ga={class:"flex-grow-1 ms-3"},ba={class:"fs-14 mb-0 fw-semibold text-danger"},pa={class:"fw-normal text-muted"},ya={key:1,class:"card"},wa={class:"mb-1"},xa={class:"card-body"},ka={class:"row"},qa={class:"col-lg-4"},Ba=["src"],Da={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ma={class:"alert-content"},Sa={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ca={class:"alert-content"};function La(l,o,d,t,U,D){const le=S("Head"),oe=S("PageHeader"),C=S("BCardHeader"),O=S("BCardBody"),I=S("BCard"),z=S("BCol"),T=S("BRow"),P=S("BBadge"),ae=S("Layout");return a(),re(ae,null,{default:m(()=>{var Y,j,Z,J,Q,p,H,X,M,$,ee,L,R,A,W,N;return[v(le,{title:"View Details"}),v(oe,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),v(T,null,{default:m(()=>[v(z,{lg:"12"},{default:m(()=>[v(I,{"no-body":"",id:"tasksList"},{default:m(()=>[v(C,null,{default:m(()=>[e("h4",qe,s(l.$t("map_view")),1)]),_:1}),v(O,null,{default:m(()=>[e("div",Be,[o[6]||(o[6]=e("div",{class:"mt-3"},null,-1)),o[7]||(o[7]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",De,[e("div",Me,[e("div",Se,[e("h4",Ce,s(l.$t("pickup_details")),1),o[2]||(o[2]=e("div",{class:"flex-grow-1"},[e("img",{src:ne,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Le,s(l.$t("location"))+":",1),e("h6",Te,s(t.result.pick_address),1)])])]),t.stops.length>0?(a(),i("div",Pe,[e("div",Ee,[e("div",Oe,[e("h4",Ie,s(l.$t("stop_details")),1),o[3]||(o[3]=e("div",{class:"flex-grow-1"},[e("img",{src:ne,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",ze,s(l.$t("location"))+":",1),(a(!0),i(se,null,te(t.stops,(r,_)=>(a(),i("h6",Fe,s(r.address),1))),256))])])])):n("",!0),t.result.drop_address?(a(),i("div",je,[e("div",He,[e("div",Re,[e("h4",Ae,s(l.$t("drop_details")),1),o[4]||(o[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ye,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",We,s(l.$t("location"))+":",1),e("h6",Ne,s(t.result.drop_address),1)])])])):n("",!0),e("div",Ge,[e("div",Ve,[e("div",Ke,[e("h4",Ue,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),o[5]||(o[5]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:we,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ye,s(t.rideStatus),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),v(T,null,{default:m(()=>[v(z,{lg:"12"},{default:m(()=>[v(I,{"no-body":"",id:"tasksList"},{default:m(()=>[v(C,null,{default:m(()=>[e("h4",Ze,s(l.$t("request_details")),1)]),_:1}),v(O,null,{default:m(()=>{var r,_,u,f,w,c,h,y;return[e("div",Je,[e("div",Qe,[e("div",Xe,[e("div",$e,[e("h4",es,s(l.$t("request")),1),o[8]||(o[8]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:xe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",ss,[e("div",ts,[e("p",ls,s(l.$t("zone"))+":",1)]),e("div",os,[e("h6",as,s(t.result.zone_name??"-"),1)])]),e("div",is,[e("div",rs,[e("p",ds,s(l.$t("transport_type"))+":",1)]),e("div",ns,[e("h6",cs,[t.result.transport_type==="taxi"?(a(),i("span",_s,s(l.$t("taxi")),1)):t.result.transport_type==="delivery"?(a(),i("span",us,s(l.$t("delivery")),1)):(a(),i("span",hs,s(l.$t("all")),1))])])]),e("div",ms,[e("div",vs,[e("p",fs,s(l.$t("vehicle_type"))+":",1)]),e("div",gs,[e("h6",bs,s(t.result.vehicle_type_name??"-"),1)])]),e("div",ps,[e("div",ys,[e("p",ws,s(l.$t("trip_time"))+":",1)]),e("div",xs,[e("h6",ks,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(a(),i("div",qs,[e("div",Bs,[e("p",Ds,s(l.$t("rental_pack"))+":",1)]),e("div",Ms,[e("h6",Ss,s(t.result.rental_package_name),1)])])):n("",!0),e("div",Cs,[e("div",Ls,[e("p",Ts,s(l.$t("ride_type"))+":",1)]),e("div",Ps,[e("h6",Es,s(t.dispatch_type),1)])]),t.result.is_round_trip?(a(),i("div",Os,[e("div",Is,[e("p",zs,s(l.$t("return_time"))+":",1)]),e("div",Fs,[e("h6",js,s(t.result.return_time),1)])])):n("",!0),((r=t.result.requestPreferences.data)==null?void 0:r.length)>0?(a(),i("div",Hs,[e("div",Rs,[e("p",As,s(l.$t("preference"))+":",1)]),(a(!0),i(se,null,te(t.result.requestPreferences.data,(g,x)=>{var q;return a(),i("div",{class:"ms-2",key:x},[e("h6",Ws,s(g.name)+" "+s(x+1==((q=t.result.requestPreferences)==null?void 0:q.data.length)?"":","),1)])}),128))])):n("",!0)])])]),e("div",Ns,[e("div",Gs,[e("div",Vs,[e("h4",Ks,s(l.$t("user_details")),1),e("div",Us,[e("img",{src:t.result.userDetail?(_=t.result.userDetail.data)==null?void 0:_.profile_picture:"@assets/images/user.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,Ys)]),e("div",Zs,[e("div",Js,[e("p",Qs,s(l.$t("name"))+":",1)]),e("div",Xs,[e("h6",$s,s(t.result.userDetail?(u=t.result.userDetail.data)==null?void 0:u.name:"-"),1)])]),e("div",et,[e("div",st,[e("p",tt,s(l.$t("email"))+":",1)]),e("div",lt,[e("h6",ot,s(t.user_email),1)])]),e("div",at,[e("div",it,[e("p",rt,s(l.$t("mobile"))+":",1)]),e("div",dt,[e("h6",nt,s(t.user_mobile),1)])]),e("div",ct,[e("div",_t,[e("p",ut,s(l.$t("rating"))+":",1)]),e("div",ht,[e("h6",mt,s(t.result.userDetail?(f=t.result.userDetail.data)==null?void 0:f.rating:0),1)])])])])]),t.result.driverDetail?(a(),i("div",vt,[e("div",ft,[e("div",gt,[e("h4",bt,s(l.$t("driver_details")),1),e("div",pt,[e("img",{src:t.result.driverDetail?(w=t.result.driverDetail.data)==null?void 0:w.profile_picture:"@assets/images/driver.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,yt)]),e("div",wt,[e("div",xt,[e("p",kt,s(l.$t("name"))+":",1)]),e("div",qt,[e("h6",Bt,s(t.result.driverDetail?(c=t.result.driverDetail.data)==null?void 0:c.name:"-"),1)])]),e("div",Dt,[e("div",Mt,[e("p",St,s(l.$t("email"))+":",1)]),e("div",Ct,[e("h6",Lt,s(t.driver_email),1)])]),e("div",Tt,[e("div",Pt,[e("p",Et,s(l.$t("mobile"))+":",1)]),e("div",Ot,[e("h6",It,s(t.driver_mobile),1)])]),e("div",zt,[e("div",Ft,[e("p",jt,s(l.$t("rating"))+":",1)]),e("div",Ht,[e("h6",Rt,s(t.result.driverDetail?(h=t.result.driverDetail.data)==null?void 0:h.rating:0),1)])]),!t.result.is_cancelled&&!t.result.is_completed?(a(),i("div",At,[t.result.driverDetail&&((y=t.result.driverDetail.data)!=null&&y.mobile)?(a(),i("a",{key:0,href:`tel:${t.result.driverDetail.data.mobile}`,type:"button",class:"btn btn-success btn-label waves-effect waves-light fs-18"},[o[9]||(o[9]=e("i",{class:"ri-phone-fill label-icon align-middle fs-16 me-2"},null,-1)),b(" "+s(l.$t("call")),1)],8,Wt)):n("",!0)])):n("",!0)])])])):n("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(a(),re(T,{key:0},{default:m(()=>[v(z,{lg:"col-12"},{default:m(()=>[v(I,null,{default:m(()=>[v(C,null,{default:m(()=>[e("h4",Nt,s(l.$t("bill_details")),1)]),_:1}),v(O,null,{default:m(()=>[v(T,null,{default:m(()=>[e("div",Gt,[e("div",Vt,[e("div",Kt,[e("table",Ut,[e("thead",Yt,[e("tr",Zt,[e("th",Jt,s(l.$t("title")),1),e("th",Qt,s(l.$t("description")),1),e("th",Xt,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(a(),i("tbody",$t,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),e("td",null,s(t.result.accepted_ride_fare),1)])])):(a(),i("tbody",el,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(a(),i("tr",sl,[e("td",null,s(l.$t("cancellation_fee")),1),o[10]||(o[10]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.cancellation_fee),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),o[11]||(o[11]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(a(),i("tr",tl,[e("td",null,s(l.$t("promo_discount")),1),o[12]||(o[12]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.promo_discount),1)])):n("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),o[13]||(o[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),t.result.requestBill.data.additional_charges_amount>0?(a(),i("tr",ll,[e("td",null,s(t.result.requestBill.data.additional_charges_reason),1),o[14]||(o[14]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.additional_charges_amount),1)])):n("",!0),t.result.requestBill.data.tips>0?(a(),i("tr",ol,[e("td",null,s(l.$t("driver_tips")),1),o[15]||(o[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.tips),1)])):n("",!0),t.result.requestBill.data.waiting_charge>0?(a(),i("tr",al,[e("td",null,s(l.$t("waiting_charge")),1),e("td",null,s(l.$t("For"))+" "+s(t.result.requestBill.data.waiting_charge)+" min",1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.waiting_charge),1)])):n("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(a(),i("tr",il,[e("td",null,s(l.$t("airport_surge_fee")),1),o[16]||(o[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)])):n("",!0),t.result.requestBill.data.preference_price_total>0?(a(),i("tr",rl,[e("td",null,s(l.$t("preferences_total")),1),o[17]||(o[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.preference_price_total),1)])):n("",!0),t.result.payment_opt?(a(),i("tr",dl,[e("td",null,s(l.$t("payment_option")),1),o[18]||(o[18]=e("td",null,"-",-1)),t.result.payment_opt==0?(a(),i("td",nl,[v(P,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("card")),1)]),_:1})])):n("",!0),t.result.payment_opt==1?(a(),i("td",cl,[v(P,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("cash")),1)]),_:1})])):n("",!0),t.result.payment_opt==2?(a(),i("td",_l,[v(P,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("wallet")),1)]),_:1})])):n("",!0),t.result.payment_opt==3?(a(),i("td",ul,[v(P,{variant:"success",class:"text-uppercase"},{default:m(()=>[b(s(l.$t("wallet/cash")),1)]),_:1})])):n("",!0)])):n("",!0)])),e("tfoot",hl,[e("tr",null,[e("td",ml,[e("h4",vl,s(l.$t("total")),1)]),e("td",fl,[e("h4",gl,s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",bl,[e("div",pl,[e("div",yl,[e("table",wl,[e("thead",xl,[e("tr",kl,[e("th",ql,s(l.$t("title")),1),o[19]||(o[19]=e("th",{scope:"col"},null,-1)),e("th",Bl,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",Dl,[e("td",Ml,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),e("tr",Sl,[e("td",Cl,s(l.$t("service_tax")),1),e("td",null,s(t.result.requestBill.data.service_tax),1)]),e("tr",Ll,[e("td",Tl,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",Pl,[b(s(l.$t("driver_commission"))+" ("+s(l.$t("included"))+" - ",1),t.result.requestBill.data.driver_tips>0?(a(),i("div",El,s(l.$t("driver_tips"))+" -"+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_tips),1)):n("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(a(),i("div",Ol,s(l.$t("airport_surge_fee"))+" - "+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)):n("",!0),o[20]||(o[20]=b(") ",-1))]),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_commision),1)])]),e("tfoot",Il,[e("tr",null,[e("td",zl,[e("h4",Fl,s(l.$t("total")),1)]),e("td",jl,[e("h4",Hl,s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),e("div",Rl,[v(C,null,{default:m(()=>[e("h4",Al,s(l.$t("request_timeline")),1)]),_:1}),e("div",Wl,[e("div",Nl,[e("div",Gl,[e("div",Vl,[e("div",Kl,[e("a",Ul,[e("div",Yl,[e("div",Zl,[e("img",{src:t.result.userDetail?(Y=t.result.userDetail.data)==null?void 0:Y.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,Jl)]),e("div",Ql,[e("h6",Xl,[b(s(l.$t("ride_created"))+" -",1),e("span",$l,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(a(),i("div",eo,[e("div",so,[t.result.is_later&&!t.result.onSearch?(a(),i("h6",to,s(l.$t("yet_to_search")),1)):!t.result.driverDetail&&!t.result.is_cancelled&&!t.result.is_completed?(a(),i("h6",lo,s(l.$t("searching")),1)):n("",!0)])])):n("",!0)]),(a(!0),i(se,null,te(t.rejected_drivers,(r,_)=>(a(),i("div",oo,[e("div",ao,[e("a",io,[e("div",ro,[e("div",no,[e("img",{src:r.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,co)]),e("div",_o,[e("h6",uo,[b(s(l.$t("rejected"))+" - ",1),e("span",ho,s(r.converted_created_at),1)])])])])]),e("div",mo,[e("div",vo,[e("h5",fo,s(r.driver_name),1)])])]))),256)),t.result.driverDetail?(a(),i("div",go,[e("div",bo,[e("a",po,[e("div",yo,[e("div",wo,[e("img",{src:(Z=(j=t.result.driverDetail)==null?void 0:j.data)==null?void 0:Z.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,xo)]),e("div",ko,[e("h6",qo,[b(s(l.$t("accepted"))+" - ",1),e("span",Bo,s(t.result.converted_accepted_at),1)])])])])]),e("div",Do,[e("div",Mo,[e("h5",So,s((J=t.result.driverDetail.data)==null?void 0:J.name),1)])])])):n("",!0),t.result.is_driver_arrived?(a(),i("div",Co,[e("div",Lo,[e("a",To,[e("div",Po,[e("div",Eo,[e("img",{src:(p=(Q=t.result.driverDetail)==null?void 0:Q.data)==null?void 0:p.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Oo)]),e("div",Io,[e("h6",zo,[b(s(l.$t("arrived"))+" - ",1),e("span",Fo,s(t.result.converted_arrived_at),1)])])])])]),e("div",jo,[e("div",Ho,[e("h5",Ro,s((X=(H=t.result.driverDetail)==null?void 0:H.data)==null?void 0:X.name),1)])]),t.result.is_trip_start?n("",!0):(a(),i("div",Ao,[e("div",Wo,[e("h6",No,s(l.$t("waiting")),1)])]))])):n("",!0),t.result.is_trip_start?(a(),i("div",Go,[e("div",Vo,[e("a",Ko,[e("div",Uo,[e("div",Yo,[e("img",{src:($=(M=t.result.driverDetail)==null?void 0:M.data)==null?void 0:$.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Zo)]),e("div",Jo,[e("h6",Qo,[b(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",Xo,s(t.result.converted_trip_start_time),1)])])])])]),e("div",$o,[e("div",ea,[e("h5",sa,s((L=(ee=t.result.driverDetail)==null?void 0:ee.data)==null?void 0:L.name),1)])])])):n("",!0),t.result.is_completed?(a(),i("div",ta,[e("div",la,[e("a",oa,[e("div",aa,[e("div",ia,[e("img",{src:(A=(R=t.result.driverDetail)==null?void 0:R.data)==null?void 0:A.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ra)]),e("div",da,[e("h6",na,[b(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",ca,s(t.result.converted_completed_at),1)])])])])])])):n("",!0),t.result.is_cancelled?(a(),i("div",_a,[e("div",ua,[e("a",ha,[e("div",ma,[e("div",va,[e("img",{src:(N=(W=t.result.userDetail)==null?void 0:W.data)==null?void 0:N.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,fa)]),e("div",ga,[e("h6",ba,[b(s(l.$t("ride_cancelled"))+" -",1),e("span",pa,s(t.result.converted_cancelled_at),1)])])])])])])):n("",!0)])])])]),t.proof.length>0?(a(),i("div",ya,[v(C,null,{default:m(()=>[e("h4",wa,s(l.$t("request_proof")),1)]),_:1}),e("div",xa,[e("div",ka,[(a(!0),i(se,null,te(t.proof,(r,_)=>(a(),i("div",qa,[e("img",{src:r.proof_image,style:{height:"100%",width:"100%"}},null,8,Ba)]))),256))])])])):n("",!0),e("div",null,[t.successMessage?(a(),i("div",Da,[e("div",Ma,[o[21]||(o[21]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[22]||(o[22]=b()),o[23]||(o[23]=e("strong",null,"Success",-1)),b(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:o[0]||(o[0]=(...r)=>t.dismissMessage&&t.dismissMessage(...r)),"aria-label":"Close Success Message"})])])):n("",!0),t.alertMessage?(a(),i("div",Sa,[e("div",Ca,[o[24]||(o[24]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),o[25]||(o[25]=b()),o[26]||(o[26]=e("strong",null,"Alert",-1)),b(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:o[1]||(o[1]=(...r)=>t.dismissMessage&&t.dismissMessage(...r)),"aria-label":"Close Alert Message"})])])):n("",!0)])]}),_:1})}const za=_e(ke,[["render",La]]);export{za as default};
