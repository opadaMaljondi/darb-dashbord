import{_ as ue,Z as me,O as he,P as ve,B as fe,D as be,r as h,o as ne,Y as q,g as C,i,y as ce,w as u,a5 as ge,a as pe,W as se,l as m,n as e,J as s,k as r,F as ie,L as re,C as d,z as v}from"./vendor-8caf5d52.js";import{s as ye}from"./search-769502e2.js";import{s as xe}from"./searchbar-e42e22fa.js";import{i as we}from"./app-974c65a1.js";import{_ as _e,a as ke,b as qe,c as Be}from"./mark-f25bae14.js";const De={data(){return{rightOffcanvas:!1}},components:{Head:me,Multiselect:he,flatPickr:ve,Link:fe,search:ye,searchbar:xe},props:{successMessage:String,alertMessage:String,app_for:String,pick_icon:String,drop_icon:String,stop_icon:String,firebaseConfig:Object,request:Object},setup(l){var Z,W,g,z;const{t:a}=be(),o=h(l.request),t=h(!1),de=h(!1),te=h(l.request?l.request.requestStops.data:[]),le=h(l.request?l.request.rejectedDrivers.data:[]),G=h(l.successMessage||""),L=h(l.alertMessage||""),I=h(null),F=h(null),B=h(null),S=h(null),N=h(null),ae=h([]),P=h("**********"),j=h("**********"),R=h("**********"),U=h("**********"),J=()=>{G.value="",L.value=""},Q=async()=>{map.value=q.map("map",{zoomControl:!0,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}).setView([o.value.pick_lat,o.value.pick_lng],12),map.value.dragging.disable(),map.value.scrollWheelZoom.disable(),map.value.doubleClickZoom.disable(),q.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(map.value);const _=q.icon({iconUrl:"/image/map/pickup.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),n=q.icon({iconUrl:"/image/map/drop.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});if(I.value=q.marker([o.value.pick_lat,o.value.pick_lng],{icon:_,draggable:!1}).addTo(map.value),F.value=q.marker([o.value.drop_lat,o.value.drop_lng],{icon:n,draggable:!1}).addTo(map.value),te.value.forEach((p,y)=>{const x=q.icon({iconUrl:"/image/map/"+y+".png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),c=q.marker([p.latitude,p.longitude],{icon:x,draggable:!1}).addTo(map.value);ae.value[y]=c}),o.value.poly_line){const p=ge.decode(o.value.poly_line);let y=q.polyline(p,{color:"blue"}).addTo(map.value);map.value.fitBounds(y)}},K=()=>{t.value=!1},H=async _=>{try{const n=await pe.get(`/rides-request/cancel/${_}`);o.value=n.data.request,t.value=!1,se.fire(a("success"),a("trip_cancelled_successfully"),"success")}catch{se.fire(a("error"),a("failed_to_cancel_trip"),"error")}},f=h(""),V=()=>{const _=new Date,n={weekday:"short",day:"numeric",month:"short",year:"numeric"};return _.toLocaleDateString("en-US",n)},X=async _=>{se.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async n=>{if(n.isConfirmed)try{await H(_)}catch(p){console.error(a("error_deleting_data"),p),se.fire(a("error"),a("failed_to_delete_the_data"),"error")}})},$=(_,n)=>{if(!_||!n||isNaN(n.lat)||isNaN(n.lng)){console.error("Invalid marker or destination coordinates:",_,n);return}const p=2e3,y=performance.now(),x=k=>k<.5?2*k*k:-1+(4-2*k)*k,c=_.getLatLng().lat,w=_.getLatLng().lng,b=n.lat,D=n.lng;if(isNaN(c)||isNaN(w)){console.error("Invalid marker starting position:",_.getLatLng());return}const M=k=>{const oe=k-y,Y=Math.min(oe/p,1),O=x(Y),E=c+(b-c)*O,T=w+(D-w)*O;if(isNaN(E)||isNaN(T)){console.error("Calculated invalid LatLng during animation:",{currentLat:E,currentLng:T});return}_.setLatLng([E,T]),Y<1&&requestAnimationFrame(M)};requestAnimationFrame(M)},ee=_=>{const n="0123456789bcdefghjkmnpqrstuvwxyz",p=[16,8,4,2,1];let y=!0,x=-90,c=90,w=-180,b=180,D,M;if(_){for(let k=0;k<_.length;k++){let oe=_.charAt(k),Y=n.indexOf(oe);for(let O=0;O<5;O++){let E=p[O];if(y){let T=(w+b)/2;Y&E?w=T:b=T}else{let T=(x+c)/2;Y&E?x=T:c=T}y=!y}}return D=(x+c)/2,M=(w+b)/2,{lat:D,lon:M}}};ne(async()=>{const _=localStorage.getItem("locale")||"en";if(await we(_),!o.value.is_cancelled&&!o.value.is_completed)try{const n=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(n),firebase.database().ref(`requests/${o.value.id}`).on("value",x=>{const c=x.val();c&&(c.hasOwnProperty("is_completed")&&(o.value.is_completed=!0,f.value=a("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),c.accept!==1&&(o.value.driver_id=null,f.value=a("searching")),c.driver_id&&o.value.driver_id&&window.location.reload(),o.value.is_later&&c.hasOwnProperty("modified_by_driver")&&(f.value=a("driver_started"),o.value.is_driver_started=1),c.trip_arrived==1&&(f.value=a("driver_arrived"),o.value.is_driver_arrived=!0,o.value.converted_arrived_at||(o.value.converted_arrived_at=V())),c.trip_start==1&&(f.value=a("on_trip"),o.value.is_trip_start=!0,o.value.converted_trip_start_time||(o.value.converted_trip_start_time=V())),(c.is_cancelled||c.is_cancel)&&(o.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)))}),o.value.driverDetail.data&&firebase.database().ref("drivers/driver_"+o.value.driverDetail.data.id).on("value",c=>{const w=c.val(),b=ee(w.g);if(b){const D=[b.lat,b.lon];S.value=b.lat,N.value=b.lon;let M=w.vehicle_type_icon?`/image/map/${w.vehicle_type_icon}.png`:"";if(M.length>0)if(B.value){const k={lat:b.lat,lng:b.lon};$(B.value,k),B.value.setIcon(q.icon({iconUrl:M,iconSize:[30,30]}))}else B.value=q.marker(D,{icon:q.icon({iconUrl:M,iconSize:[30,30]})}).addTo(map.value),map.value.setView([S.value,N.value],15);else B.value&&(map.value.removeLayer(B.value),B.value=null)}})}catch(n){console.error("Error initializing Firebase or fetching settings:",n)}else o.value.is_cancelled?f.value=a("ride_cancelled"):o.value.is_completed?f.value=a("ride_completed"):o.value.is_result.value_start?f.value=a("on_trip"):o.value.is_driver_arrived?f.value=a("driver_arrived"):o.value.is_later&&o.value.is_driver_started?f.value=a("driver_started"):o.value.driver_id?f.value=a("accepted"):o.value.is_later?f.value=a("upcoming"):f.value=a("searching")}),ne(()=>{Q()}),l.app_for!="demo"&&(o.value.userDetail&&(P.value=(Z=o.value.userDetail.data)==null?void 0:Z.mobile,j.value=(W=o.value.userDetail.data)==null?void 0:W.email),o.value.driverDetail&&(R.value=(g=o.value.driverDetail.data)==null?void 0:g.mobile,U.value=(z=o.value.driverDetail.data)==null?void 0:z.email));const A=h(a("normal"));return o.value.is_out_station&&(o.value.is_round_trip?A.value=a("round_trip_outstation_trip"):A.value=a("one_way_outstation_trip")),{result:o,modalShow:t,successMessage:G,alertMessage:L,rejected_drivers:le,deleteModal:X,closeModal:K,deleteData:H,stops:te,user_mobile:P,user_email:j,driver_mobile:R,driver_email:U,showStops:de,dispatch_type:A,rideStatus:f,dismissMessage:J}}},Me={class:"mb-1"},Te={class:"row"},Ce={class:"col-xxl-4 col-md-6"},Le={class:"card card-animate border border-dashed border-primary"},Se={class:"card-body text-center"},Ne={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ze={class:"mb-3 fs-18"},Ae={class:"fs-14 mb-4"},Oe={key:0,class:"col-xxl-4 col-md-6"},Ee={class:"card card-animate border border-dashed border-primary"},Ie={class:"card-body text-center"},Fe={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Pe={class:"mb-3 fs-18"},je={class:"fs-14 mb-4"},Re={key:1,class:"col-xxl-4 col-md-6"},Ue={class:"card card-animate border border-dashed border-primary"},He={class:"card-body text-center"},Ve={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ze={class:"mb-3 fs-18"},We={class:"fs-14 mb-4"},Ye={class:"col-xxl-4 col-md-6"},Ge={class:"card card-animate border border-dashed border-primary"},Je={class:"card-body text-center"},Qe={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ke={class:"mt-5 mb-3 fs-18"},Xe={class:"mb-1"},$e={class:"row"},es={class:"col-xxl-4 col-md-6"},ss={class:"card card-animate border border-dashed border-primary"},ts={class:"card-body"},ls={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},as={class:"d-flex align-items-center mb-2"},os={class:"flex-shrink-0"},is={class:"text-muted mb-0"},rs={class:"flex-grow-1 ms-2"},ds={class:"mb-0"},ns={class:"d-flex align-items-center mb-2"},cs={class:"flex-shrink-0"},_s={class:"text-muted mb-0"},us={class:"flex-grow-1 ms-2"},ms={class:"mb-0"},hs={key:0},vs={key:1},fs={key:2},bs={class:"d-flex align-items-center mb-2"},gs={class:"flex-shrink-0"},ps={class:"text-muted mb-0"},ys={class:"flex-grow-1 ms-2"},xs={class:"mb-0"},ws={class:"d-flex align-items-center mb-2"},ks={class:"flex-shrink-0"},qs={class:"text-muted mb-0"},Bs={class:"flex-grow-1 ms-2"},Ds={class:"mb-0"},Ms={key:0,class:"d-flex align-items-center mb-2"},Ts={class:"flex-shrink-0"},Cs={class:"text-muted mb-0"},Ls={class:"flex-grow-1 ms-2"},Ss={class:"mb-0"},Ns={class:"d-flex align-items-center mb-2"},zs={class:"flex-shrink-0"},As={class:"text-muted mb-0"},Os={class:"flex-grow-1 ms-2"},Es={class:"mb-0"},Is={key:1,class:"d-flex align-items-center mb-2"},Fs={class:"flex-shrink-0"},Ps={class:"text-muted mb-0"},js={class:"flex-grow-1 ms-2"},Rs={class:"mb-0"},Us={key:2,class:"d-flex align-items-center mb-2"},Hs={class:"flex-shrink-0"},Vs={class:"text-muted mb-0"},Zs={class:"mb-0"},Ws={class:"col-xxl-4 col-md-6"},Ys={class:"card card-animate border border-dashed border-primary"},Gs={class:"card-body"},Js={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Qs={class:"flex-grow-1 mt-2 text-center"},Ks=["src"],Xs={class:"d-flex align-items-center mb-2"},$s={class:"flex-shrink-0"},et={class:"text-muted mb-0"},st={class:"flex-grow-1 ms-2"},tt={class:"mb-0"},lt={class:"d-flex align-items-center mb-2"},at={class:"flex-shrink-0"},ot={class:"text-muted mb-0"},it={class:"flex-grow-1 ms-2"},rt={class:"mb-0"},dt={class:"d-flex align-items-center mb-2"},nt={class:"flex-shrink-0"},ct={class:"text-muted mb-0"},_t={class:"flex-grow-1 ms-2"},ut={class:"mb-0"},mt={class:"d-flex align-items-center mb-2"},ht={class:"flex-shrink-0"},vt={class:"text-muted mb-0"},ft={class:"flex-grow-1 ms-2"},bt={class:"mb-0"},gt={key:0,class:"col-xxl-4 col-md-6"},pt={class:"card card-animate border border-dashed border-primary"},yt={class:"card-body"},xt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},wt={class:"flex-grow-1 mt-2 text-center"},kt=["src"],qt={class:"d-flex align-items-center mb-2"},Bt={class:"flex-shrink-0"},Dt={class:"text-muted mb-0"},Mt={class:"flex-grow-1 ms-2"},Tt={class:"mb-0"},Ct={class:"d-flex align-items-center mb-2"},Lt={class:"flex-shrink-0"},St={class:"text-muted mb-0"},Nt={class:"flex-grow-1 ms-2"},zt={class:"mb-0"},At={class:"d-flex align-items-center mb-2"},Ot={class:"flex-shrink-0"},Et={class:"text-muted mb-0"},It={class:"flex-grow-1 ms-2"},Ft={class:"mb-0"},Pt={class:"d-flex align-items-center mb-2"},jt={class:"flex-shrink-0"},Rt={class:"text-muted mb-0"},Ut={class:"flex-grow-1 ms-2"},Ht={class:"mb-0"},Vt={key:0,class:"text-center"},Zt=["href"],Wt={class:"mb-1"},Yt={class:"col-lg-6"},Gt={class:"card border mt-3"},Jt={class:"table-responsive"},Qt={class:"table align-middle position-relative table-nowrap"},Kt={class:"table-active"},Xt={class:"fs-16"},$t={scope:"col"},el={scope:"col"},sl={scope:"col"},tl={key:0},ll={key:1},al={key:0},ol={key:1,class:"text-danger"},il={key:2},rl={key:3},dl={key:4},nl={key:5},cl={key:6},_l={key:7},ul={key:0},ml={key:1},hl={key:2},vl={key:3},fl={class:"bg-body bg-success-subtle"},bl={colspan:"2",class:"text-success"},gl={class:"text-success"},pl={class:"text-success"},yl={class:"text-success"},xl={class:"col-lg-6"},wl={class:"card border mt-3"},kl={class:"table-responsive"},ql={class:"table align-middle position-relative table-nowrap"},Bl={class:"table-active"},Dl={class:"fs-16"},Ml={scope:"col"},Tl={scope:"col"},Cl={class:"text-danger"},Ll={colspan:"2"},Sl={class:"text-danger"},Nl={colspan:"2"},zl={class:"text-danger"},Al={colspan:"2"},Ol={colspan:"2"},El={key:0},Il={key:1},Fl={class:"bg-body bg-success-subtle"},Pl={colspan:"2",class:"text-success"},jl={class:"text-success"},Rl={class:"text-success"},Ul={class:"text-success"},Hl={class:"card"},Vl={class:"mb-1"},Zl={class:"card-body"},Wl={class:"profile-timeline"},Yl={class:"accordion accordion-flush",id:"accordionFlushExample"},Gl={class:"accordion-item border-0"},Jl={class:"accordion-header",id:"headingOne"},Ql={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Kl={class:"d-flex align-items-center"},Xl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},$l=["src"],ea={class:"flex-grow-1 ms-3"},sa={class:"fs-15 mb-0 fw-semibold text-primary"},ta={class:"fw-normal text-muted"},la={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},aa={class:"accordion-body ms-5 ps-5 pt-0"},oa={class:"mb-1 text-success"},ia={class:"accordion-item border-0"},ra={class:"accordion-header",id:"headingTwo"},da={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},na={class:"d-flex align-items-center"},ca={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},_a=["src"],ua={class:"flex-grow-1 ms-3"},ma={class:"fs-15 mb-1 fw-semibold text-danger"},ha={class:"fw-normal"},va={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},fa={class:"accordion-body ms-5 ps-5 pt-0"},ba={class:"mb-1"},ga={key:0,class:"accordion-item border-0"},pa={class:"accordion-header",id:"headingThree"},ya={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},xa={class:"d-flex align-items-center"},wa={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ka=["src"],qa={class:"flex-grow-1 ms-3"},Ba={class:"fs-15 mb-1 fw-semibold text-success"},Da={class:"fw-normal"},Ma={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Ta={class:"accordion-body ms-5 ps-5 pt-0"},Ca={class:"mb-1"},La={key:1,class:"accordion-item border-0"},Sa={class:"accordion-header",id:"headingThree"},Na={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},za={class:"d-flex align-items-center"},Aa={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Oa=["src"],Ea={class:"flex-grow-1 ms-3"},Ia={class:"fs-15 mb-1 fw-semibold text-warning"},Fa={class:"fw-normal"},Pa={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},ja={class:"accordion-body ms-5 ps-5 pt-0"},Ra={class:"mb-1"},Ua={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Ha={class:"accordion-body ms-5 ps-5 pt-0"},Va={class:"mb-1 text-success"},Za={key:2,class:"accordion-item border-0"},Wa={class:"accordion-header",id:"headingThree"},Ya={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Ga={class:"d-flex align-items-center"},Ja={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Qa=["src"],Ka={class:"flex-grow-1 ms-3"},Xa={class:"fs-15 mb-1 fw-semibold text-success"},$a={class:"fw-normal"},eo={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},so={class:"accordion-body ms-5 ps-5 pt-0"},to={class:"mb-1"},lo={key:3,class:"accordion-item border-0"},ao={class:"accordion-header",id:"headingFour"},oo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},io={class:"d-flex align-items-center"},ro={class:"flex-shrink-0 border border-4 border-success rounded-circle"},no=["src"],co={class:"flex-grow-1 ms-3"},_o={class:"fs-14 mb-0 fw-semibold text-success"},uo={class:"fw-normal text-muted"},mo={key:4,class:"accordion-item border-0"},ho={class:"accordion-header",id:"headingFour"},vo={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},fo={class:"d-flex align-items-center"},bo={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},go=["src"],po={class:"flex-grow-1 ms-3"},yo={class:"fs-14 mb-0 fw-semibold text-danger"},xo={class:"fw-normal text-muted"},wo={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},ko={class:"alert-content"},qo={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Bo={class:"alert-content"};function Do(l,a,o,t,de,te){const le=C("Head"),G=C("PageHeader"),L=C("BCardHeader"),I=C("BCardBody"),F=C("BCard"),B=C("BCol"),S=C("BRow"),N=C("BBadge"),ae=C("Layout");return i(),ce(ae,null,{default:u(()=>{var P,j,R,U,J,Q,K,H,f,V,X,$,ee,A,Z,W;return[m(le,{title:"View Details"}),m(G,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),m(S,null,{default:u(()=>[m(B,{lg:"12"},{default:u(()=>[m(F,{"no-body":"",id:"tasksList"},{default:u(()=>[m(L,null,{default:u(()=>[e("h4",Me,s(l.$t("map_view")),1)]),_:1}),m(I,null,{default:u(()=>[e("div",Te,[a[6]||(a[6]=e("div",{class:"mt-3"},null,-1)),a[7]||(a[7]=e("div",{class:"col-sm-12"},[e("div",{class:"card"},[e("div",{class:"card-body"},[e("div",{id:"map",style:{height:"400px"}})])])],-1)),e("div",Ce,[e("div",Le,[e("div",Se,[e("h4",Ne,s(l.$t("pickup_details")),1),a[2]||(a[2]=e("div",{class:"flex-grow-1"},[e("img",{src:_e,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",ze,s(l.$t("location"))+":",1),e("h6",Ae,s(t.result.pick_address),1)])])]),t.stops.length>0?(i(),r("div",Oe,[e("div",Ee,[e("div",Ie,[e("h4",Fe,s(l.$t("stop_details")),1),a[3]||(a[3]=e("div",{class:"flex-grow-1"},[e("img",{src:_e,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Pe,s(l.$t("location"))+":",1),(i(!0),r(ie,null,re(t.stops,(g,z)=>(i(),r("h6",je,s(g.address),1))),256))])])])):d("",!0),t.result.drop_address?(i(),r("div",Re,[e("div",Ue,[e("div",He,[e("h4",Ve,s(l.$t("drop_details")),1),a[4]||(a[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ke,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ze,s(l.$t("location"))+":",1),e("h6",We,s(t.result.drop_address),1)])])])):d("",!0),e("div",Ye,[e("div",Ge,[e("div",Je,[e("h4",Qe,s(l.$t("trip_status"))+" "+s(t.result.is_bid_ride?l.$t("bidding"):""),1),a[5]||(a[5]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:qe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ke,s(t.rideStatus),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),m(S,null,{default:u(()=>[m(B,{lg:"12"},{default:u(()=>[m(F,{"no-body":"",id:"tasksList"},{default:u(()=>[m(L,null,{default:u(()=>[e("h4",Xe,s(l.$t("request_details")),1)]),_:1}),m(I,null,{default:u(()=>{var g,z,_,n,p,y,x,c;return[e("div",$e,[e("div",es,[e("div",ss,[e("div",ts,[e("h4",ls,s(l.$t("request")),1),a[8]||(a[8]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:Be,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",as,[e("div",os,[e("p",is,s(l.$t("zone"))+":",1)]),e("div",rs,[e("h6",ds,s(t.result.zone_name??"-"),1)])]),e("div",ns,[e("div",cs,[e("p",_s,s(l.$t("transport_type"))+":",1)]),e("div",us,[e("h6",ms,[t.result.transport_type==="taxi"?(i(),r("span",hs,s(l.$t("taxi")),1)):t.result.transport_type==="delivery"?(i(),r("span",vs,s(l.$t("delivery")),1)):(i(),r("span",fs,s(l.$t("all")),1))])])]),e("div",bs,[e("div",gs,[e("p",ps,s(l.$t("vehicle_type"))+":",1)]),e("div",ys,[e("h6",xs,s(t.result.vehicle_type_name??"-"),1)])]),e("div",ws,[e("div",ks,[e("p",qs,s(l.$t("trip_time"))+":",1)]),e("div",Bs,[e("h6",Ds,s(t.result.is_later?t.result.converted_trip_start_time:t.result.converted_created_at),1)])]),t.result.rental_package_name!=="-"?(i(),r("div",Ms,[e("div",Ts,[e("p",Cs,s(l.$t("rental_pack"))+":",1)]),e("div",Ls,[e("h6",Ss,s(t.result.rental_package_name),1)])])):d("",!0),e("div",Ns,[e("div",zs,[e("p",As,s(l.$t("ride_type"))+":",1)]),e("div",Os,[e("h6",Es,s(t.dispatch_type),1)])]),t.result.is_round_trip?(i(),r("div",Is,[e("div",Fs,[e("p",Ps,s(l.$t("return_time"))+":",1)]),e("div",js,[e("h6",Rs,s(t.result.return_time),1)])])):d("",!0),((g=t.result.requestPreferences.data)==null?void 0:g.length)>0?(i(),r("div",Us,[e("div",Hs,[e("p",Vs,s(l.$t("preference"))+":",1)]),(i(!0),r(ie,null,re(t.result.requestPreferences.data,(w,b)=>{var D;return i(),r("div",{class:"ms-2",key:b},[e("h6",Zs,s(w.name)+" "+s(b+1==((D=t.result.requestPreferences)==null?void 0:D.data.length)?"":","),1)])}),128))])):d("",!0)])])]),e("div",Ws,[e("div",Ys,[e("div",Gs,[e("h4",Js,s(l.$t("user_details")),1),e("div",Qs,[e("img",{src:t.result.userDetail?(z=t.result.userDetail.data)==null?void 0:z.profile_picture:"@assets/images/user.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,Ks)]),e("div",Xs,[e("div",$s,[e("p",et,s(l.$t("name"))+":",1)]),e("div",st,[e("h6",tt,s(t.result.userDetail?(_=t.result.userDetail.data)==null?void 0:_.name:"-"),1)])]),e("div",lt,[e("div",at,[e("p",ot,s(l.$t("email"))+":",1)]),e("div",it,[e("h6",rt,s(t.user_email),1)])]),e("div",dt,[e("div",nt,[e("p",ct,s(l.$t("mobile"))+":",1)]),e("div",_t,[e("h6",ut,s(t.user_mobile),1)])]),e("div",mt,[e("div",ht,[e("p",vt,s(l.$t("rating"))+":",1)]),e("div",ft,[e("h6",bt,s(t.result.userDetail?(n=t.result.userDetail.data)==null?void 0:n.rating:0),1)])])])])]),t.result.driverDetail?(i(),r("div",gt,[e("div",pt,[e("div",yt,[e("h4",xt,s(l.$t("driver_details")),1),e("div",wt,[e("img",{src:t.result.driverDetail?(p=t.result.driverDetail.data)==null?void 0:p.profile_picture:"@assets/images/driver.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,kt)]),e("div",qt,[e("div",Bt,[e("p",Dt,s(l.$t("name"))+":",1)]),e("div",Mt,[e("h6",Tt,s(t.result.driverDetail?(y=t.result.driverDetail.data)==null?void 0:y.name:"-"),1)])]),e("div",Ct,[e("div",Lt,[e("p",St,s(l.$t("email"))+":",1)]),e("div",Nt,[e("h6",zt,s(t.driver_email),1)])]),e("div",At,[e("div",Ot,[e("p",Et,s(l.$t("mobile"))+":",1)]),e("div",It,[e("h6",Ft,s(t.driver_mobile),1)])]),e("div",Pt,[e("div",jt,[e("p",Rt,s(l.$t("rating"))+":",1)]),e("div",Ut,[e("h6",Ht,s(t.result.driverDetail?(x=t.result.driverDetail.data)==null?void 0:x.rating:0),1)])]),!t.result.is_cancelled&&!t.result.is_completed?(i(),r("div",Vt,[t.result.driverDetail&&((c=t.result.driverDetail.data)!=null&&c.mobile)?(i(),r("a",{key:0,href:`tel:${t.result.driverDetail.data.mobile}`,type:"button",class:"btn btn-success btn-label waves-effect waves-light fs-18"},[a[9]||(a[9]=e("i",{class:"ri-phone-fill label-icon align-middle fs-16 me-2"},null,-1)),v(" "+s(l.$t("call")),1)],8,Zt)):d("",!0)])):d("",!0)])])])):d("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),t.result.requestBill?(i(),ce(S,{key:0},{default:u(()=>[m(B,{lg:"col-12"},{default:u(()=>[m(F,null,{default:u(()=>[m(L,null,{default:u(()=>[e("h4",Wt,s(l.$t("bill_details")),1)]),_:1}),m(I,null,{default:u(()=>[m(S,null,{default:u(()=>[e("div",Yt,[e("div",Gt,[e("div",Jt,[e("table",Qt,[e("thead",Kt,[e("tr",Xt,[e("th",$t,s(l.$t("title")),1),e("th",el,s(l.$t("description")),1),e("th",sl,s(l.$t("price")),1)])]),t.result.accepted_ride_fare>0?(i(),r("tbody",tl,[e("tr",null,[e("td",null,s(l.$t("bid_fare")),1),e("td",null,s(t.result.accepted_ride_fare),1)])])):(i(),r("tbody",ll,[e("tr",null,[e("td",null,s(l.$t("base_price")),1),e("td",null,s(l.$t("for_first"))+" "+s(t.result.requestBill.data.base_distance)+" "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,s(l.$t("distance_price")),1),e("td",null,s(t.result.requestBill.data.total_distance>t.result.requestBill.data.base_distance?t.result.requestBill.data.total_distance-t.result.requestBill.data.base_distance:0)+" "+s(l.$t("km"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_distance)+" / "+s(l.$t("km")),1),e("td",null,s(t.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,s(l.$t("time_price")),1),e("td",null,s(t.result.requestBill.data.total_time)+" "+s(l.$t("min"))+" * "+s(t.result.requested_currency_symbol)+" "+s(t.result.requestBill.data.price_per_time)+" / "+s(l.$t("min")),1),e("td",null,s(t.result.requestBill.data.time_price),1)]),t.result.requestBill.data.cancellation_fee>0?(i(),r("tr",al,[e("td",null,s(l.$t("cancellation_fee")),1),a[10]||(a[10]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.cancellation_fee),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("service_tax")),1),a[11]||(a[11]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.service_tax),1)]),t.result.requestBill.data.promo_discount>0?(i(),r("tr",ol,[e("td",null,s(l.$t("promo_discount")),1),a[12]||(a[12]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.promo_discount),1)])):d("",!0),e("tr",null,[e("td",null,s(l.$t("admin_commission")),1),a[13]||(a[13]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),t.result.requestBill.data.additional_charges_amount>0?(i(),r("tr",il,[e("td",null,s(t.result.requestBill.data.additional_charges_reason),1),a[14]||(a[14]=e("td",null,"-",-1)),e("td",null,s(t.result.requestBill.data.additional_charges_amount),1)])):d("",!0),t.result.requestBill.data.tips>0?(i(),r("tr",rl,[e("td",null,s(l.$t("driver_tips")),1),a[15]||(a[15]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.tips),1)])):d("",!0),t.result.requestBill.data.waiting_charge>0?(i(),r("tr",dl,[e("td",null,s(l.$t("waiting_charge")),1),e("td",null,s(l.$t("For"))+" "+s(t.result.requestBill.data.waiting_charge)+" min",1),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.waiting_charge),1)])):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("tr",nl,[e("td",null,s(l.$t("airport_surge_fee")),1),a[16]||(a[16]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)])):d("",!0),t.result.requestBill.data.preference_price_total>0?(i(),r("tr",cl,[e("td",null,s(l.$t("preferences_total")),1),a[17]||(a[17]=e("td",null,"-",-1)),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.preference_price_total),1)])):d("",!0),t.result.payment_opt?(i(),r("tr",_l,[e("td",null,s(l.$t("payment_option")),1),a[18]||(a[18]=e("td",null,"-",-1)),t.result.payment_opt==0?(i(),r("td",ul,[m(N,{variant:"success",class:"text-uppercase"},{default:u(()=>[v(s(l.$t("card")),1)]),_:1})])):d("",!0),t.result.payment_opt==1?(i(),r("td",ml,[m(N,{variant:"success",class:"text-uppercase"},{default:u(()=>[v(s(l.$t("cash")),1)]),_:1})])):d("",!0),t.result.payment_opt==2?(i(),r("td",hl,[m(N,{variant:"success",class:"text-uppercase"},{default:u(()=>[v(s(l.$t("wallet")),1)]),_:1})])):d("",!0),t.result.payment_opt==3?(i(),r("td",vl,[m(N,{variant:"success",class:"text-uppercase"},{default:u(()=>[v(s(l.$t("wallet/cash")),1)]),_:1})])):d("",!0)])):d("",!0)])),e("tfoot",fl,[e("tr",null,[e("td",bl,[e("h4",gl,s(l.$t("total")),1)]),e("td",pl,[e("h4",yl,s(t.result.requestBill.data.total_amount),1)])])])])])])]),e("div",xl,[e("div",wl,[e("div",kl,[e("table",ql,[e("thead",Bl,[e("tr",Dl,[e("th",Ml,s(l.$t("title")),1),a[19]||(a[19]=e("th",{scope:"col"},null,-1)),e("th",Tl,s(l.$t("price")),1)])]),e("tbody",null,[e("tr",Cl,[e("td",Ll,s(l.$t("admin_commission")),1),e("td",null,s(t.result.requestBill.data.admin_commision),1)]),e("tr",Sl,[e("td",Nl,s(l.$t("service_tax")),1),e("td",null,s(t.result.requestBill.data.service_tax),1)]),e("tr",zl,[e("td",Al,s(l.$t("admin_commission_from_driver")),1),e("td",null,s(t.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",Ol,[v(s(l.$t("driver_commission"))+" ("+s(l.$t("included"))+" - ",1),t.result.requestBill.data.driver_tips>0?(i(),r("div",El,s(l.$t("driver_tips"))+" -"+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_tips),1)):d("",!0),t.result.requestBill.data.airport_surge_fee>0&&t.result.transport_type==="taxi"?(i(),r("div",Il,s(l.$t("airport_surge_fee"))+" - "+s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.airport_surge_fee),1)):d("",!0),a[20]||(a[20]=v(") "))]),e("td",null,s(t.result.requested_currency_symbol)+s(t.result.requestBill.data.driver_commision),1)])]),e("tfoot",Fl,[e("tr",null,[e("td",Pl,[e("h4",jl,s(l.$t("total")),1)]),e("td",Rl,[e("h4",Ul,s(t.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):d("",!0),e("div",Hl,[m(L,null,{default:u(()=>[e("h4",Vl,s(l.$t("request_timeline")),1)]),_:1}),e("div",Zl,[e("div",Wl,[e("div",Yl,[e("div",Gl,[e("div",Jl,[e("a",Ql,[e("div",Kl,[e("div",Xl,[e("img",{src:t.result.userDetail?(P=t.result.userDetail.data)==null?void 0:P.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,$l)]),e("div",ea,[e("h6",sa,[v(s(l.$t("ride_created"))+" -",1),e("span",ta,s(t.result.converted_created_at),1)])])])])]),!t.result.driver_id&&!t.result.is_cancelled?(i(),r("div",la,[e("div",aa,[e("h6",oa,s(l.$t("searching")),1)])])):d("",!0)]),(i(!0),r(ie,null,re(t.rejected_drivers,(g,z)=>(i(),r("div",ia,[e("div",ra,[e("a",da,[e("div",na,[e("div",ca,[e("img",{src:g.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,_a)]),e("div",ua,[e("h6",ma,[v(s(l.$t("rejected"))+" - ",1),e("span",ha,s(g.converted_created_at),1)])])])])]),e("div",va,[e("div",fa,[e("h5",ba,s(g.driver_name),1)])])]))),256)),t.result.driverDetail?(i(),r("div",ga,[e("div",pa,[e("a",ya,[e("div",xa,[e("div",wa,[e("img",{src:(R=(j=t.result.driverDetail)==null?void 0:j.data)==null?void 0:R.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ka)]),e("div",qa,[e("h6",Ba,[v(s(l.$t("accepted"))+" - ",1),e("span",Da,s(t.result.converted_accepted_at),1)])])])])]),e("div",Ma,[e("div",Ta,[e("h5",Ca,s((U=t.result.driverDetail.data)==null?void 0:U.name),1)])])])):d("",!0),t.result.is_driver_arrived?(i(),r("div",La,[e("div",Sa,[e("a",Na,[e("div",za,[e("div",Aa,[e("img",{src:(Q=(J=t.result.driverDetail)==null?void 0:J.data)==null?void 0:Q.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Oa)]),e("div",Ea,[e("h6",Ia,[v(s(l.$t("arrived"))+" - ",1),e("span",Fa,s(t.result.converted_arrived_at),1)])])])])]),e("div",Pa,[e("div",ja,[e("h5",Ra,s((H=(K=t.result.driverDetail)==null?void 0:K.data)==null?void 0:H.name),1)])]),t.result.is_trip_start?d("",!0):(i(),r("div",Ua,[e("div",Ha,[e("h6",Va,s(l.$t("waiting")),1)])]))])):d("",!0),t.result.is_trip_start?(i(),r("div",Za,[e("div",Wa,[e("a",Ya,[e("div",Ga,[e("div",Ja,[e("img",{src:(V=(f=t.result.driverDetail)==null?void 0:f.data)==null?void 0:V.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Qa)]),e("div",Ka,[e("h6",Xa,[v(s(t.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",$a,s(t.result.converted_trip_start_time),1)])])])])]),e("div",eo,[e("div",so,[e("h5",to,s(($=(X=t.result.driverDetail)==null?void 0:X.data)==null?void 0:$.name),1)])])])):d("",!0),t.result.is_completed?(i(),r("div",lo,[e("div",ao,[e("a",oo,[e("div",io,[e("div",ro,[e("img",{src:(A=(ee=t.result.driverDetail)==null?void 0:ee.data)==null?void 0:A.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,no)]),e("div",co,[e("h6",_o,[v(s(t.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",uo,s(t.result.converted_completed_at),1)])])])])])])):d("",!0),t.result.is_cancelled?(i(),r("div",mo,[e("div",ho,[e("a",vo,[e("div",fo,[e("div",bo,[e("img",{src:(W=(Z=t.result.userDetail)==null?void 0:Z.data)==null?void 0:W.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,go)]),e("div",po,[e("h6",yo,[v(s(l.$t("ride_cancelled"))+" -",1),e("span",xo,s(t.result.converted_cancelled_at),1)])])])])])])):d("",!0)])])])]),e("div",null,[t.successMessage?(i(),r("div",wo,[e("div",ko,[a[21]||(a[21]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[22]||(a[22]=v()),a[23]||(a[23]=e("strong",null,"Success",-1)),v(" - "+s(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:a[0]||(a[0]=(...g)=>t.dismissMessage&&t.dismissMessage(...g)),"aria-label":"Close Success Message"})])])):d("",!0),t.alertMessage?(i(),r("div",qo,[e("div",Bo,[a[24]||(a[24]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),a[25]||(a[25]=v()),a[26]||(a[26]=e("strong",null,"Alert",-1)),v(" - "+s(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:a[1]||(a[1]=(...g)=>t.dismissMessage&&t.dismissMessage(...g)),"aria-label":"Close Alert Message"})])])):d("",!0)])]}),_:1})}const No=ue(De,[["render",Do]]);export{No as default};
