import{_ as T,Z as H,O as E,P as U,B as I,r as b,T as W,R as z,a3 as K,a as F,g as n,i as c,y as g,w as s,W as S,N as j,l,n as t,z as i,k as x,F as q,L as G,J as L,C as N,t as Y,K as J}from"./vendor-54d6cb1e.js";import{L as Q}from"./main-b839be26.js";import{P as Z}from"./page-header-ff719701.js";import{P as X}from"./Pagination-b5e3d5c9.js";import{s as $}from"./search-06463c60.js";import{s as ee}from"./searchbar-3bdb3315.js";import{_ as te}from"./search-file-ab3e1046.js";import"./footer-7e4f68d9.js";import"./app-cb082573.js";const se={data(){return{rightOffcanvas:!1}},components:{Layout:Q,PageHeader:Z,Head:H,Pagination:X,Multiselect:E,flatPickr:U,Link:I,search:$,searchbar:ee},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object,required:!0}},setup(u){const e=b(""),B=W({all:"",locked:""}),a=b([]),v=b({}),w=b(!1),k=b(!1),R=b(null),m=b(u.successMessage||""),M=b(u.alertMessage||""),C=()=>{m.value="",M.value=""},h=()=>{k.value=!0},_=()=>{B.reset(),y(),k.value=!1},p=()=>{w.value=!1},P=async r=>{try{await F.delete(`/service-locations/delete/${r}`);const d=a.value.findIndex(f=>f.id===r);d!==-1&&a.value.splice(d,1),w.value=!1,S.fire("Success","Service Location deleted successfully","success")}catch{S.fire("Error","Failed to delete Service Location","error")}},O=async r=>{S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async d=>{if(d.isConfirmed)try{await P(r)}catch(f){console.error("Error deleting data:",f),S.fire("Error","Failed to delete the data","error")}})};z(e,K.debounce(function(r){y(e.value)},300));const y=async(r=1)=>{try{const d=B.data();d.search=e.value,d.page=r;const f=await F.get("/service-locations/list",{params:d});a.value=f.data.results,v.value=f.data.paginator,k.value=!1}catch(d){console.error("Error fetching Service-locations:",d)}};return{results:a,modalShow:w,deleteItemId:R,successMessage:m,alertMessage:M,filterData:h,deleteModal:O,closeModal:p,deleteData:P,dismissMessage:C,searchTerm:e,paginator:v,modalFilter:k,clearFilter:_,fetchDatas:y,filter:B,handlePageChanged:async r=>{y(r)},editData:async r=>{j.get(`/service-locations/edit/${r.id}`)}}},mounted(){this.fetchDatas()}},le={class:"d-flex align-items-center gap-2"},ae={class:"table-responsive"},oe={class:"table align-middle position-relative table-nowrap"},ne={key:0},ie={key:1},re={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},de={class:"alert-content"},ce={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},ue={class:"alert-content"},me={class:"offcanvas-body"},pe={class:"mb-4"},fe={class:"mb-4"},be={class:"mb-4"},ge={class:"mb-4"},ve={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function ke(u,e,B,a,v,w){const k=n("Head"),R=n("PageHeader"),m=n("BCol"),M=n("searchbar"),C=n("BButton"),h=n("BRow"),_=n("BCardHeader"),p=n("BBadge"),P=n("BCardBody"),O=n("BCard"),y=n("flat-pickr"),V=n("Multiselect"),D=n("BFrom"),r=n("BOffcanvas"),d=n("Pagination"),f=n("Layout");return c(),g(f,null,{default:s(()=>[l(k,{title:"Scheduled Rides"}),l(R,{title:"Scheduled Rides",pageTitle:"Scheduled Rides"}),l(h,null,{default:s(()=>[l(m,{lg:"12"},{default:s(()=>[l(O,{"no-body":"",id:"tasksList"},{default:s(()=>[l(_,{class:"border-0"},{default:s(()=>[l(h,{class:"g-2"},{default:s(()=>[l(m,{md:"3"}),l(m,{md:"auto",class:"ms-auto"},{default:s(()=>[t("div",le,[l(M),l(C,{variant:"danger",onClick:e[0]||(e[0]=o=>v.rightOffcanvas=!0)},{default:s(()=>[...e[7]||(e[7]=[t("i",{class:"ri-filter-2-line me-1 align-bottom"},null,-1),i(" Filters",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),l(P,{class:"border border-dashed border-end-0 border-start-0"},{default:s(()=>[t("div",ae,[t("table",oe,[e[22]||(e[22]=t("thead",{class:"table-active"},[t("tr",null,[t("th",{scope:"col"},"S.NO"),t("th",{scope:"col"},"Request Id"),t("th",{scope:"col"},"Date"),t("th",{scope:"col"},"User Name"),t("th",{scope:"col"},"Driver Name"),t("th",{scope:"col"},"No of Attempts"),t("th",{scope:"col"},"Trip Status"),t("th",{scope:"col"},"Paid"),t("th",{scope:"col"},"Payment Option"),t("th",{scope:"col"},"Action")])],-1)),a.results.length>0?(c(),x("tbody",ne,[(c(!0),x(q,null,G(a.results,(o,A)=>(c(),x("tr",{key:A},[e[14]||(e[14]=t("td",null,"1",-1)),e[15]||(e[15]=t("td",null,"REQ_1719468991",-1)),e[16]||(e[16]=t("td",null,"11/07/2024",-1)),e[17]||(e[17]=t("td",null,"Test",-1)),e[18]||(e[18]=t("td",null,"Test",-1)),e[19]||(e[19]=t("td",null,"-",-1)),t("td",null,[o.active==1?(c(),g(p,{key:0,variant:"success",class:"text-uppercase"},{default:s(()=>[...e[8]||(e[8]=[i("Completed",-1)])]),_:1})):(c(),g(p,{key:1,variant:"danger",class:"text-uppercase"},{default:s(()=>[...e[9]||(e[9]=[i("Cancelled",-1)])]),_:1}))]),t("td",null,[o.active==1?(c(),g(p,{key:0,variant:"success",class:"text-uppercase"},{default:s(()=>[...e[10]||(e[10]=[i("Paid",-1)])]),_:1})):(c(),g(p,{key:1,variant:"danger",class:"text-uppercase"},{default:s(()=>[...e[11]||(e[11]=[i("Not Paid",-1)])]),_:1}))]),t("td",null,[o.active==1?(c(),g(p,{key:0,variant:"success",class:"text-uppercase"},{default:s(()=>[...e[12]||(e[12]=[i("Cash",-1)])]),_:1})):(c(),g(p,{key:1,variant:"danger",class:"text-uppercase"},{default:s(()=>[...e[13]||(e[13]=[i("Card/Online",-1)])]),_:1}))]),e[20]||(e[20]=t("td",null,[t("div",{class:"dropdown"},[t("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted fs-18"},[t("i",{class:"mdi mdi-dots-vertical"})])]),t("div",{class:"dropdown-menu dropdown-menu-end"},[t("a",{class:"dropdown-item",href:"#"},[t("i",{class:"bx bx-show-alt align-center text-muted me-2"}),i(" View")])])])],-1))]))),128))])):(c(),x("tbody",ie,[...e[21]||(e[21]=[t("tr",null,[t("td",{colspan:"10",class:"text-center"},[t("img",{src:te,alt:"Loading...",style:{width:"100px"}}),t("h5",null,"No data found")])],-1)])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[a.successMessage?(c(),x("div",re,[t("div",de,[e[23]||(e[23]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[24]||(e[24]=i()),e[25]||(e[25]=t("strong",null,"Success",-1)),i(" - "+L(a.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[1]||(e[1]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Success Message"})])])):N("",!0),a.alertMessage?(c(),x("div",ce,[t("div",ue,[e[26]||(e[26]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[27]||(e[27]=i()),e[28]||(e[28]=t("strong",null,"Alert",-1)),i(" - "+L(a.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[2]||(e[2]=(...o)=>a.dismissMessage&&a.dismissMessage(...o)),"aria-label":"Close Alert Message"})])])):N("",!0)]),l(r,{modelValue:v.rightOffcanvas,"onUpdate:modelValue":e[6]||(e[6]=o=>v.rightOffcanvas=o),placement:"end",title:"Leads Filters","header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:s(()=>[l(D,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:s(()=>[t("div",me,[t("div",pe,[e[30]||(e[30]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Process",-1)),Y(t("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":e[3]||(e[3]=o=>u.status=o)},[...e[29]||(e[29]=[t("option",{value:"All Tasks"},"All",-1),t("option",{value:"Completed"},"Completed",-1),t("option",{value:"Inprogress"},"Inprogress",-1),t("option",{value:"Pending"},"Pending",-1),t("option",{value:"Pending"},"Cancelled",-1)])],512),[[J,u.status]])]),e[38]||(e[38]=t("div",{class:"mb-4"},[t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Payment"),t("div",null,[t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Online")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Card")]),t("div",{class:"form-check form-check-inline"},[t("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"WithoutinlineRadio3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineRadio1"},"Cash")])])],-1)),t("div",fe,[e[31]||(e[31]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Date",-1)),l(y,{placeholder:"Select date",modelValue:u.date,"onUpdate:modelValue":e[4]||(e[4]=o=>u.date=o),config:u.rangeDateconfig,class:"form-control flatpickr-input",id:"demo-datepicker"},null,8,["modelValue","config"])]),t("div",be,[e[32]||(e[32]=t("label",{for:"country-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Country",-1)),l(V,{class:"form-control",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Select country"},{value:"Argentina",label:"Argentina"},{value:"Belgium",label:"Belgium"},{value:"Brazil",label:"Brazil"},{value:"Colombia",label:"Colombia"},{value:"Denmark",label:"Denmark"},{value:"France",label:"France"},{value:"Germany",label:"Germany"},{value:"Mexico",label:"Mexico"},{value:"Russia",label:"Russia"},{value:"Spain",label:"Spain"},{value:"Syria",label:"Syria"},{value:"United Kingdom",label:"United Kingdom"}]},null,8,["modelValue"])]),t("div",ge,[e[37]||(e[37]=t("label",{for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Status",-1)),l(h,{class:"g-2"},{default:s(()=>[l(m,{lg:"6"},{default:s(()=>[...e[33]||(e[33]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox1",value:"option1"}),t("label",{class:"form-check-label",for:"inlineCheckbox1"},"Active")],-1)])]),_:1}),l(m,{lg:"6"},{default:s(()=>[...e[34]||(e[34]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox2",value:"option2"}),t("label",{class:"form-check-label",for:"inlineCheckbox2"},"Inactive")],-1)])]),_:1}),l(m,{lg:"6"},{default:s(()=>[...e[35]||(e[35]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox3",value:"option3"}),t("label",{class:"form-check-label",for:"inlineCheckbox3"},"Cash")],-1)])]),_:1}),l(m,{lg:"6"},{default:s(()=>[...e[36]||(e[36]=[t("div",{class:"form-check"},[t("input",{class:"form-check-input",type:"checkbox",id:"inlineCheckbox4",value:"option4"}),t("label",{class:"form-check-label",for:"inlineCheckbox4"},"Card")],-1)])]),_:1})]),_:1})]),e[39]||(e[39]=t("div",null,null,-1))]),t("div",ve,[l(C,{variant:"light",class:"w-100"},{default:s(()=>[...e[40]||(e[40]=[i("Clear Filter",-1)])]),_:1}),l(C,{type:"submit",variant:"success",class:"w-100"},{default:s(()=>[...e[41]||(e[41]=[i(" Apply ",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue"]),l(d,{paginator:a.paginator,onPageChanged:a.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const Re=T(se,[["render",ke]]);export{Re as default};
