import{_ as J,Z as K,O as Q,P as W,B as X,D as Z,r as h,T as $,S as ee,g as c,i as m,y as E,w as n,a as U,W as S,N as te,l,n as t,J as r,z as _,C as w,t as b,K as R,k as f,L as j,F as Y,p as q,X as H}from"./vendor-54d6cb1e.js";import{L as se}from"./main-b839be26.js";import{P as ae}from"./page-header-ff719701.js";import{P as oe}from"./Pagination-b5e3d5c9.js";import{s as le}from"./searchbar-3bdb3315.js";import{I as ne}from"./ImageModal-532e5539.js";import{l as ie}from"./footer-7e4f68d9.js";import{_ as re}from"./search-file-ab3e1046.js";import"./app-cb082573.js";const de={data(){return{rightOffcanvas:!1,SearchQuery:""}},methods:{editData(o){this.$inertia.get(this.route("landing_home.edit",{id:o.id}))},stripHtmlTags(o){return new DOMParser().parseFromString(o,"text/html").body.textContent||""}},components:{Layout:se,PageHeader:ae,Head:K,Pagination:oe,Multiselect:Q,flatPickr:W,Link:X,searchbar:le,ImageModal:ne},props:{successMessage:String,alertMessage:String,landingHome:{type:Object,required:!0}},setup(o){const{t:e}=Z(),y=h(""),s=$({transport_type:null,dispatch_type:null,status:null,limit:10}),g=h([]),B=h({}),k=h(!1),C=h(!1),D=h(null),p=h({}),v=h(o.successMessage||""),M=h(o.alertMessage||""),x=()=>{v.value="",M.value=""},V=async(i,d)=>{try{await U.post("/landing-home/update-status",{id:i,status:d});const u=g.value.findIndex(G=>G.id===i);u!==-1&&(g.value[u].active=d)}catch(u){console.error(e("error_updating_status"),u)}},O=()=>{C.value=!0},L=()=>{s.reset(),a()},T=()=>{k.value=!1},P=async i=>{try{await U.delete(`/landing-home/delete/${i}`);const d=g.value.findIndex(u=>u.id===i);d!==-1&&g.value.splice(d,1),k.value=!1,S.fire(e("success"),e("landingHome_deleted_successfully"),"success")}catch{S.fire(e("error"),e("failed_to_delete_landingHome"),"error")}},I=async i=>{S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, delete it!"}).then(async d=>{if(d.isConfirmed)try{await P(i)}catch(u){console.error(e("error_deleting_data"),u),S.fire(e("error"),e("failed_to_delete_the_data"),"error")}})},F=async i=>{y.value=i,a()},a=async(i=1)=>{try{const d=s.data();d.search=y.value,d.page=i;const u=await U.get("/landing-home/list",{params:d});g.value=u.data.results,B.value=u.data.paginator,z(B.value.total),C.value=!1}catch(d){console.error(e("error_fetching_landingHome"),d)}},A=async i=>{localStorage.setItem("/landing-home/list",i),a(i)},N=async i=>{te.get(`/landing-home/edit/${i.id}`)},z=()=>{p.value=[10,25,50,100,200,500]};return{results:g,modalShow:k,deleteItemId:D,successMessage:v,alertMessage:M,filterData:O,deleteModal:I,closeModal:T,deleteData:P,dismissMessage:x,searchTerm:y,fetchSearch:F,paginator:B,modalFilter:C,clearFilter:L,fetchDatas:a,filter:s,handlePageChanged:A,toggleActiveStatus:V,editData:N,paginatorOption:p,changeEntriesPerPage:()=>{a()}}},computed:{...ie,...ee(["permissions"])},mounted(){this.fetchDatas();const o=localStorage.getItem("/landing-home/list");o?this.handlePageChanged(Number(o)):this.handlePageChanged(1)}},ce={class:"card",height:"100px"},me={class:"card-body"},ue={class:"card-title mb-2"},fe={class:"d-flex align-items-center gap-2"},ge={class:"d-flex align-items-center mt-3"},pe={class:"me-2 text-muted"},he=["value"],_e={class:"ms-2 text-muted"},ve={class:"table-responsive"},be={class:"table align-middle position-relative table-nowrap"},ye={class:"table-active"},ke={scope:"col"},Ce={scope:"col"},xe={scope:"col"},we={key:0},Be={class:"dropdown"},Me={class:"dropdown-menu dropdown-menu-end"},Pe=["onClick"],Se=["onClick"],He={key:1},De={colspan:"4",class:"text-center"},Ve={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Oe={class:"alert-content"},Le={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Te={class:"alert-content"},Ie={class:"offcanvas-body"},Fe={class:"mb-4"},Ae={class:"mb-4"},Ne={class:"form-check form-check-inline"},Ue={class:"form-check form-check-inline"},Ee={class:"mb-4"},Re={class:"form-check form-check-inline"},je={class:"form-check form-check-inline"},Ye={class:"offcanvas-footer border-top p-3 text-center hstack gap-2"};function qe(o,e,y,s,g,B){const k=c("Head"),C=c("PageHeader"),D=c("ImageModal"),p=c("BCol"),v=c("BButton"),M=c("Link"),x=c("BRow"),V=c("BCardHeader"),O=c("BCardBody"),L=c("BCard"),T=c("BFrom"),P=c("BOffcanvas"),I=c("Pagination"),F=c("Layout");return m(),E(F,null,{default:n(()=>[l(k,{title:"Landing Home"}),l(C,{title:o.$t("index"),pageTitle:o.$t("landing_home")},null,8,["title","pageTitle"]),l(x,null,{default:n(()=>[l(p,{lg:"12"},{default:n(()=>[l(L,{"no-body":"",id:"tasksList"},{default:n(()=>[l(V,{class:"border-0"},{default:n(()=>[l(x,{class:"g-2"},{default:n(()=>[l(p,{class:"col-12",md:"6"},{default:n(()=>[t("div",ce,[l(D,{imageSrc:"/images/home.png",imageAlt:"Home",width:"100px"}),t("div",me,[t("h4",ue,r(o.$t("homepage")),1)])])]),_:1}),l(p,{md:"auto",class:"ms-auto"},{default:n(()=>[t("div",fe,[o.permissions.includes("add_landing_home")?(m(),E(M,{key:0,href:"/landing-home/create"},{default:n(()=>[l(v,{variant:"primary",class:"float-end"},{default:n(()=>[e[10]||(e[10]=t("i",{class:"ri-add-line align-bottom me-1"},null,-1)),_(" "+r(o.$t("add")),1)]),_:1})]),_:1})):w("",!0)])]),_:1})]),_:1}),l(p,{md:"3"},{default:n(()=>[t("div",ge,[t("label",pe,r(o.$t("show")),1),b(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.filter.limit=a),onChange:e[1]||(e[1]=(...a)=>s.changeEntriesPerPage&&s.changeEntriesPerPage(...a)),class:"form-select form-select-sm w-auto"},[(m(!0),f(Y,null,j(s.paginatorOption,a=>(m(),f("option",{key:a,value:a},r(a),9,he))),128))],544),[[R,s.filter.limit]]),t("label",_e,r(o.$t("entries")),1)])]),_:1})]),_:1}),l(O,{class:"border border-dashed border-end-0 border-start-0"},{default:n(()=>[t("div",ve,[t("table",be,[t("thead",ye,[t("tr",null,[t("th",ke,r(o.$t("title")),1),t("th",Ce,r(o.$t("language")),1),t("th",xe,r(o.$t("action")),1)])]),s.results.length>0?(m(),f("tbody",we,[(m(!0),f(Y,null,j(s.results,(a,A)=>(m(),f("tr",{key:A},[t("td",null,r(a.hero_title),1),t("td",null,r(a.language),1),t("td",null,[t("div",Be,[e[13]||(e[13]=t("a",{class:"text-reset",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[t("span",{class:"text-muted fs-18"},[t("i",{class:"mdi mdi-dots-vertical"})])],-1)),t("div",Me,[o.permissions.includes("edit_landing_home")?(m(),f("a",{key:0,class:"dropdown-item",href:"#",onClick:q(N=>s.editData(a),["prevent"])},[e[11]||(e[11]=t("i",{class:"bx bxs-edit-alt align-center text-muted me-2"},null,-1)),_(r(o.$t("edit")),1)],8,Pe)):w("",!0),o.permissions.includes("delete_landing_home")&&s.results.length>1?(m(),f("a",{key:1,class:"dropdown-item",href:"#",onClick:q(N=>s.deleteModal(a.id),["prevent"])},[e[12]||(e[12]=t("i",{class:"bx bxs-trash align-center text-muted me-2"},null,-1)),_(r(o.$t("delete")),1)],8,Se)):w("",!0)])])])]))),128))])):(m(),f("tbody",He,[t("tr",null,[t("td",De,[e[14]||(e[14]=t("img",{src:re,alt:"Loading...",style:{width:"100px"}},null,-1)),t("h5",null,r(o.$t("no_data_found")),1)])])]))])])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",null,[s.successMessage?(m(),f("div",Ve,[t("div",Oe,[e[15]||(e[15]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[16]||(e[16]=_()),e[17]||(e[17]=t("strong",null,"Success",-1)),_(" - "+r(s.successMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-success",onClick:e[2]||(e[2]=(...a)=>s.dismissMessage&&s.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):w("",!0),s.alertMessage?(m(),f("div",Le,[t("div",Te,[e[18]||(e[18]=t("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[19]||(e[19]=_()),e[20]||(e[20]=t("strong",null,"Alert",-1)),_(" - "+r(s.alertMessage)+" ",1),t("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[3]||(e[3]=(...a)=>s.dismissMessage&&s.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):w("",!0)]),l(P,{modelValue:g.rightOffcanvas,"onUpdate:modelValue":e[9]||(e[9]=a=>g.rightOffcanvas=a),placement:"end",title:"Vehicle Type Filters","header-class":"bg-light","body-class":"p-0 overflow-hidden","footer-class":"border-top p-3 text-center"},{default:n(()=>[l(T,{action:"",class:"d-flex flex-column justify-content-end h-100"},{default:n(()=>[t("div",Ie,[t("div",Fe,[e[22]||(e[22]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Transport Type",-1)),b(t("select",{class:"form-control","data-choices":"","data-choices-search-false":"",name:"choices-select-status",id:"choices-select-status","onUpdate:modelValue":e[4]||(e[4]=a=>s.filter.transport_type=a)},[...e[21]||(e[21]=[t("option",{value:"all"},"All",-1),t("option",{value:"taxi"},"Taxi",-1),t("option",{value:"delivery"},"Delivery",-1)])],512),[[R,s.filter.transport_type]])]),t("div",Ae,[e[25]||(e[25]=t("label",{for:"datepicker-range",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Status",-1)),t("div",null,[t("div",Ne,[b(t("input",{class:"form-check-input","onUpdate:modelValue":e[5]||(e[5]=a=>s.filter.status=a),type:"radio",name:"inlineRadioOptions",id:"active",value:"1"},null,512),[[H,s.filter.status]]),e[23]||(e[23]=t("label",{class:"form-check-label",for:"active"},"Active",-1))]),t("div",Ue,[b(t("input",{class:"form-check-input","onUpdate:modelValue":e[6]||(e[6]=a=>s.filter.status=a),type:"radio",name:"inlineRadioOptions",id:"inactive",value:"0"},null,512),[[H,s.filter.status]]),e[24]||(e[24]=t("label",{class:"form-check-label",for:"inactive"},"Inactive",-1))])])]),t("div",Ee,[e[28]||(e[28]=t("label",{for:"status-select",class:"form-label text-muted text-uppercase fw-semibold mb-3"},"Dispatch Type",-1)),l(x,{class:"g-2"},{default:n(()=>[l(p,{lg:"6"},{default:n(()=>[t("div",Re,[b(t("input",{class:"form-check-input","onUpdate:modelValue":e[7]||(e[7]=a=>s.filter.dispatch_type=a),type:"radio",id:"inlineCheckbox1",value:"bidding"},null,512),[[H,s.filter.dispatch_type]]),e[26]||(e[26]=t("label",{class:"form-check-label",for:"inlineCheckbox1"},"Bidding",-1))])]),_:1}),l(p,{lg:"6"},{default:n(()=>[t("div",je,[b(t("input",{class:"form-check-input","onUpdate:modelValue":e[8]||(e[8]=a=>s.filter.dispatch_type=a),type:"radio",id:"inlineCheckbox2",value:"normal"},null,512),[[H,s.filter.dispatch_type]]),e[27]||(e[27]=t("label",{class:"form-check-label",for:"inlineCheckbox2"},"Normal",-1))])]),_:1})]),_:1})]),e[29]||(e[29]=t("div",null,null,-1))]),t("div",Ye,[l(v,{variant:"light",onClick:s.clearFilter,class:"w-100"},{default:n(()=>[...e[30]||(e[30]=[_("Clear Filter",-1)])]),_:1},8,["onClick"]),l(v,{type:"submit",onClick:s.fetchDatas,variant:"success",class:"w-100"},{default:n(()=>[...e[31]||(e[31]=[_(" Apply ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["modelValue"]),l(I,{paginator:s.paginator,onPageChanged:s.handlePageChanged},null,8,["paginator","onPageChanged"])]),_:1})}const tt=J(de,[["render",qe]]);export{tt as default};
