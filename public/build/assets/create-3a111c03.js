import{_ as S,Z as F,O as H,D as N,T as R,r as v,g as f,i as a,y as O,w as b,a as U,N as L,l as y,n as e,J as i,t as _,K as g,k as l,z as m,L as c,F as u,M as z,p as j,C as P}from"./vendor-8caf5d52.js";import{L as A}from"./main-cc7bd0ce.js";import{P as D}from"./page-header-18309276.js";import{F as E}from"./FormValidation-f14f6003.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const I={data(){return{}},components:{Layout:A,PageHeader:D,Head:F,Multiselect:H,FormValidation:E},props:{successMessage:String,alertMessage:String,zones:Array,zoneTypePrice:Object,zoneType:Object,setprice:Object},setup(o){var w,M,t;const{t:s}=N(),d=R({zone_id:o.zoneType?o.zoneType.zone_id||"":(w=o.setprice)==null?void 0:w.zone_id,transport_type:o.zoneType?o.zoneType.transport_type||"":(M=o.setprice)==null?void 0:M.transport_type,vehicle_type:o.zoneType?o.zoneType.type_id||"":(t=o.setprice)==null?void 0:t.type_id,payment_type:o.zoneType?o.zoneType.payment_type.split(",")||[]:[],admin_commision_type:o.zoneType&&o.zoneType.admin_commision_type||"",admin_commision:o.zoneType?o.zoneType.admin_commision??0:"",admin_commission_type_from_driver:o.zoneType&&o.zoneType.admin_commission_type_from_driver||"",admin_commission_from_driver:o.zoneType?o.zoneType.admin_commission_from_driver||0:"",admin_commission_type_for_owner:o.zoneType&&o.zoneType.admin_commission_type_for_owner||"",admin_commission_for_owner:o.zoneType?o.zoneType.admin_commission_for_owner||0:"",service_tax:o.zoneType?o.zoneType.service_tax||0:"",order_number:o.zoneType?o.zoneType.order_number||0:"",base_price:o.zoneTypePrice?o.zoneTypePrice.base_price||0:"",drop_zone:o.zoneType&&o.zoneType.drop_zone||""}),n={zone_id:{required:!0},transport_type:{required:!0},vehicle_type:{required:!0},payment_type:{required:!0},admin_commision_type:{required:!0},admin_commision:{required:!0},admin_commission_type_from_driver:{required:!0},admin_commission_from_driver:{required:!0},admin_commission_type_for_owner:{required:!0},admin_commission_for_owner:{required:!0},service_tax:{required:!0},order_number:{required:!0},base_price:{required:!0},drop_zone:{required:!0}},k=v(null),h=v({}),T=v(o.successMessage||""),p=v(o.alertMessage||""),V=v(),x=v(o.zones);return{form:d,zones:x,successMessage:T,alertMessage:p,handleSubmit:async()=>{if(h.value=k.value.validate(d),!(Object.keys(h.value).length>0))try{let r;o.zoneTypePrice&&o.zoneTypePrice.id?r=await U.post(`/farefix/update/${o.zoneTypePrice.id}`,d.data()):r=await U.post("/farefix/store",d.data()),r.status===201?(T.value=s("vehicle_price_created_successfully"),d.reset(),L.get(`/farefix/${o.setprice.id}`)):p.value=s("failed_to_create_vehicle_price")}catch(r){r.response&&r.response.status===422?h.value=r.response.data.errors:r.response&&r.response.status==403?(p.value=r.response.data.alertMessage,setTimeout(()=>{L.get(`/farefix/${o.setprice.id}`)},5e3)):(console.error(s("error_creating_vehicle_price"),r),p.value=s("failed_to_create_vehicle_price"))}},dismissMessage:()=>{T.value="",p.value=""},validationRules:n,validationRef:k,errors:h,capitalizeFirstLetter:r=>r.charAt(0).toUpperCase()+r.slice(1),unit:V}}},J={class:"row"},K={class:"col-sm-6"},Z={class:"mb-3"},G={for:"select_zone",class:"form-label"},Q=["value"],W={class:"col-sm-6"},X={class:"mb-3"},Y={for:"select_vehicle_type",class:"form-label"},$=["value"],ee={class:"col-sm-6"},oe={class:"mb-3"},se={for:"select_drop_zone",class:"form-label"},te={disabled:"",value:""},ne=["value"],ie={class:"col-sm-6"},re={class:"mb-3"},ae={for:"base_price",class:"form-label"},le=["placeholder"],de={class:"col-sm-6"},me={class:"mb-3"},_e={for:"admin_commision_type",class:"form-label"},ce={disabled:"",value:""},ue={value:"1"},fe={value:"2"},ye={class:"col-sm-6"},pe={class:"mb-3"},ve={for:"admin_commision",class:"form-label"},be=["placeholder","max"],ge={class:"col-sm-6"},ze={class:"mb-3"},he={for:"admin_commission_type_from_driver",class:"form-label"},Te={disabled:"",value:""},we={value:"1"},Me={value:"2"},ke={class:"col-sm-6"},Ve={class:"mb-3"},xe={for:"admin_commission_from_driver",class:"form-label"},Ce=["placeholder","max"],qe={class:"col-sm-6"},Be={class:"mb-3"},Ue={for:"admin_commission_type_for_owner",class:"form-label"},Le={disabled:"",value:""},Pe={value:"1"},Se={value:"2"},Fe={class:"col-sm-6"},He={class:"mb-3"},Ne={for:"admin_commission_for_owner",class:"form-label"},Re=["placeholder","max"],Oe={class:"col-sm-6"},je={class:"mb-3"},Ae={for:"select_payment_type",class:"form-label"},De={class:"col-sm-6"},Ee={class:"mb-3"},Ie={for:"service_tax",class:"form-label"},Je=["placeholder"],Ke={class:"col-sm-6"},Ze={class:"mb-3"},Ge={for:"order_number",class:"form-label"},Qe=["placeholder"],We={class:"col-12 text-end"},Xe={type:"submit",class:"btn btn-success"},Ye={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},$e={class:"alert-content"},eo={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},oo={class:"alert-content"};function so(o,s,d,n,k,h){const T=f("Head"),p=f("PageHeader"),V=f("Multiselect"),x=f("FormValidation"),C=f("BCardBody"),q=f("BCard"),B=f("BCol"),w=f("BRow"),M=f("Layout");return a(),O(M,null,{default:b(()=>[y(T,{title:o.$t("farefix")},null,8,["title"]),y(p,{title:d.zoneTypePrice?o.$t("edit"):o.$t("create"),pageTitle:o.$t("set_prices"),pageLink:`/farefix/${d.setprice.id}`},null,8,["title","pageTitle","pageLink"]),y(w,null,{default:b(()=>[y(B,{lg:"12"},{default:b(()=>[y(q,{"no-body":"",id:"tasksList"},{default:b(()=>[y(C,{class:"border border-dashed border-end-0 border-start-0"},{default:b(()=>[e("form",{onSubmit:s[13]||(s[13]=j((...t)=>n.handleSubmit&&n.handleSubmit(...t),["prevent"]))},[y(x,{form:n.form,rules:n.validationRules,ref:"validationRef"},{default:b(()=>[e("div",J,[e("div",K,[e("div",Z,[e("label",G,i(o.$t("zone")),1),_(e("select",{id:"select_zone",disabled:"",class:"form-select","onUpdate:modelValue":s[0]||(s[0]=t=>n.form.zone_id=t)},[(a(),l("option",{key:d.setprice.zone_id,value:d.setprice.zone_id,selected:""},i(d.setprice.zone_name),9,Q))],512),[[g,n.form.zone_id]])])]),e("div",W,[e("div",X,[e("label",Y,i(o.$t("vehicle_type")),1),_(e("select",{id:"select_vehicle_type",disabled:"",class:"form-select","onUpdate:modelValue":s[1]||(s[1]=t=>n.form.vehicle_type=t)},[(a(),l("option",{key:d.setprice.type_id,value:d.setprice.type_id,selected:""},i(d.setprice.vehicle_type_name),9,$))],512),[[g,n.form.vehicle_type]])])]),e("div",ee,[e("div",oe,[e("label",se,[m(i(o.$t("drop_zone"))+" ",1),s[16]||(s[16]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"select_drop_zone",class:"form-select","onUpdate:modelValue":s[2]||(s[2]=t=>n.form.drop_zone=t)},[e("option",te,i(o.$t("select_zone")),1),(a(!0),l(u,null,c(n.zones,t=>(a(),l("option",{key:t.id,value:t.id},i(t.name),9,ne))),128))],512),[[g,n.form.drop_zone]]),(a(!0),l(u,null,c(n.errors.drop_zone,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",ie,[e("div",re,[e("label",ae,[m(i(o.$t("base_price"))+" ",1),s[17]||(s[17]=e("span",{class:"text-danger"},"* ",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_base_price"),id:"base_price","onUpdate:modelValue":s[3]||(s[3]=t=>n.form.base_price=t)},null,8,le),[[z,n.form.base_price,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.base_price,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",de,[e("div",me,[e("label",_e,[m(i(o.$t("admin_commission_type_from_customer"))+" ",1),s[18]||(s[18]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"admin_commision_type",class:"form-select","onUpdate:modelValue":s[4]||(s[4]=t=>n.form.admin_commision_type=t)},[e("option",ce,i(o.$t("select_admin_commission_type_from_customer")),1),e("option",ue,i(o.$t("percentage")),1),e("option",fe,i(o.$t("fixed_amount")),1)],512),[[g,n.form.admin_commision_type]]),(a(!0),l(u,null,c(n.errors.admin_commision_type,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",ye,[e("div",pe,[e("label",ve,[m(i(o.$t("admin_commission_from_customer"))+" ",1),s[19]||(s[19]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_admin_commission_from_customer"),id:"admin_commision","onUpdate:modelValue":s[5]||(s[5]=t=>n.form.admin_commision=t),max:n.form.admin_commision_type=="1"?100:null},null,8,be),[[z,n.form.admin_commision,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.admin_commision,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",ge,[e("div",ze,[e("label",he,[m(i(o.$t("admin_commission_type_from_driver"))+" ",1),s[20]||(s[20]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"admin_commission_type_from_driver",class:"form-select","onUpdate:modelValue":s[6]||(s[6]=t=>n.form.admin_commission_type_from_driver=t)},[e("option",Te,i(o.$t("select_admin_commission_type_from_driver")),1),e("option",we,i(o.$t("percentage")),1),e("option",Me,i(o.$t("fixed_amount")),1)],512),[[g,n.form.admin_commission_type_from_driver]]),(a(!0),l(u,null,c(n.errors.admin_commission_type_from_driver,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",ke,[e("div",Ve,[e("label",xe,[m(i(o.$t("admin_commission_from_driver"))+" ",1),s[21]||(s[21]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_admin_commission_from_driver"),id:"admin_commission_from_driver","onUpdate:modelValue":s[7]||(s[7]=t=>n.form.admin_commission_from_driver=t),max:n.form.admin_commission_type_from_driver=="1"?100:null},null,8,Ce),[[z,n.form.admin_commission_from_driver,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.admin_commission_from_driver,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",qe,[e("div",Be,[e("label",Ue,[m(i(o.$t("admin_commission_type_for_owner"))+" ",1),s[22]||(s[22]=e("span",{class:"text-danger"},"*",-1))]),_(e("select",{id:"admin_commission_type_for_owner",class:"form-select","onUpdate:modelValue":s[8]||(s[8]=t=>n.form.admin_commission_type_for_owner=t)},[e("option",Le,i(o.$t("select_admin_commission_type_for_owner")),1),e("option",Pe,i(o.$t("percentage")),1),e("option",Se,i(o.$t("fixed_amount")),1)],512),[[g,n.form.admin_commission_type_for_owner]]),(a(!0),l(u,null,c(n.errors.admin_commission_type_for_owner,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",Fe,[e("div",He,[e("label",Ne,[m(i(o.$t("admin_commission_for_owner"))+" ",1),s[23]||(s[23]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_admin_commission_for_owner"),id:"admin_commission_for_owner","onUpdate:modelValue":s[9]||(s[9]=t=>n.form.admin_commission_for_owner=t),max:n.form.admin_commission_type_for_owner=="1"?100:null},null,8,Re),[[z,n.form.admin_commission_for_owner,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.admin_commission_for_owner,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",Oe,[e("div",je,[e("label",Ae,[m(i(o.$t("payment_type"))+" ",1),s[24]||(s[24]=e("span",{class:"text-danger"},"*",-1))]),y(V,{id:"select_payment_type",mode:"tags",modelValue:n.form.payment_type,"onUpdate:modelValue":s[10]||(s[10]=t=>n.form.payment_type=t),"close-on-select":!1,searchable:!0,"create-option":!1,options:[{value:"cash",label:o.$t("cash")},{value:"online",label:o.$t("online")},{value:"wallet",label:o.$t("wallet")}],placeholder:o.$t("select_payment_type")},null,8,["modelValue","options","placeholder"]),(a(!0),l(u,null,c(n.errors.payment_type,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",De,[e("div",Ee,[e("label",Ie,[m(i(o.$t("service_tax"))+" ",1),s[25]||(s[25]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_service_tax"),id:"service_tax","onUpdate:modelValue":s[11]||(s[11]=t=>n.form.service_tax=t)},null,8,Je),[[z,n.form.service_tax,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.service_tax,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",Ke,[e("div",Ze,[e("label",Ge,[m(i(o.$t("order_number"))+" ",1),s[26]||(s[26]=e("span",{class:"text-danger"},"*",-1))]),_(e("input",{type:"number",step:"any",class:"form-control",placeholder:o.$t("enter_order_number"),id:"order_number","onUpdate:modelValue":s[12]||(s[12]=t=>n.form.order_number=t)},null,8,Qe),[[z,n.form.order_number,void 0,{number:!0}]]),(a(!0),l(u,null,c(n.errors.order_number,(t,r)=>(a(),l("span",{key:r,class:"text-danger"},i(t),1))),128))])]),e("div",We,[e("button",Xe,i(o.$t("save")),1)])])]),_:1},8,["form","rules"])],32),n.successMessage?(a(),l("div",Ye,[e("div",$e,[s[27]||(s[27]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[28]||(s[28]=e("strong",null,"Success",-1)),m(" - "+i(n.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[14]||(s[14]=(...t)=>n.dismissMessage&&n.dismissMessage(...t)),"aria-label":"Close Success Message"})])])):P("",!0),n.alertMessage?(a(),l("div",eo,[e("div",oo,[s[29]||(s[29]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[30]||(s[30]=e("strong",null,"Alert",-1)),m(" - "+i(n.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[15]||(s[15]=(...t)=>n.dismissMessage&&n.dismissMessage(...t)),"aria-label":"Close Alert Message"})])])):P("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const mo=S(I,[["render",so]]);export{mo as default};
