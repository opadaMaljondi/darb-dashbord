import{_ as ne,Z as _e,O as ue,P as me,B as he,D as ve,r as f,o as be,g as x,i as o,y as se,w as u,a as ae,W as V,l as m,n as e,J as t,z as v,k as i,F as P,L as j,C as n,q as te,p as fe}from"./vendor-8caf5d52.js";import{L as ge}from"./dispatchmain-dd968ef5.js";import{P as ye}from"./page-header-18309276.js";import{s as pe}from"./search-769502e2.js";import{s as xe}from"./searchbar-e42e22fa.js";import{g as we}from"./googleMap-9b9e9a11.js";import{_ as de,a as ke,b as qe,c as Be}from"./mark-f25bae14.js";import"./footer-502c2797.js";import"./dispatchHorizontal-e3ea663d.js";import"./app-974c65a1.js";const De={data(){return{rightOffcanvas:!1}},components:{Layout:ge,PageHeader:ye,Head:_e,Multiselect:ue,flatPickr:me,Link:he,search:pe,searchbar:xe,googleMap:we},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object},googleMapKey:String,app_for:String,rejected_drivers:Object,firebaseConfig:Object,baseUrl:String,request:Object},setup(l){var H,F,z,U;const{t:r}=ve(),a=f(l.request),s=f(l.rejected_drivers),N=f(!1),le=f(l.request.requestProofs.data),$=f(l.request.requestStops.data),G=f(l.successMessage||""),k=f(l.alertMessage||""),I=f("**********"),K=f("**********"),M=f("**********"),T=f("**********"),S=f({}),O=()=>{G.value="",k.value=""},ee=c=>{const h="0123456789bcdefghjkmnpqrstuvwxyz",b=[16,8,4,2,1];let g=!0,C=-90,y=90,_=-180,B=180,w,A;if(c){for(let L=0;L<c.length;L++){let X=c.charAt(L),d=h.indexOf(X);for(let p=0;p<5;p++){let R=b[p];if(g){let D=(_+B)/2;d&R?_=D:B=D}else{let D=(C+y)/2;d&R?C=D:y=D}g=!g}}return w=(C+y)/2,A=(_+B)/2,{lat:w,lon:A}}},Y=()=>{N.value=!1},J=async c=>{try{const h=await ae.get(`/rides-request/cancel/${c}`);a.value=h.data.request,N.value=!1,V.fire(r("success"),r("trip_cancelled_successfully"),"success")}catch{V.fire(r("error"),r("failed_to_cancel_trip"),"error")}},W=c=>c.is_cancelled?{text:r("cancelled"),colorClass:"text-danger"}:c.is_completed?{text:r("completed"),colorClass:"text-success"}:c.is_trip_start?{text:r("on_trip"),colorClass:"text-primary"}:c.is_driver_arrived?{text:r("driver_arrived"),colorClass:"text-warning"}:c.is_later&&c.is_driver_started?{text:r("driver_started"),colorClass:"text-info"}:c.driver_id?{text:r("accepted"),colorClass:"text-secondary"}:c.is_later?{text:r("upcoming"),colorClass:"text-dark"}:{text:r("searching"),colorClass:"text-muted"},Z=c=>c.cancel_method==0?r("automatic"):c.cancel_method==1?r("cancelled_by_user"):c.cancel_method==2?r("cancelled_by_driver"):r("cancelled_by_dispatcher"),E=()=>{const c=new Date,h={weekday:"short",day:"numeric",month:"short",year:"numeric"};return c.toLocaleDateString("en-US",h)},Q=async c=>{V.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async h=>{if(h.isConfirmed)try{const b=await ae.get(`/dispatcher/rides_request/cancel/${c}`);if(b.data.success){const g=b.data.request;h.value=g,V.fire(r("success"),r("trip_cancelled_successfully"),"success")}}catch(b){console.error(r("error_deleting_data"),b),V.fire(r("error"),r("failed_to_delete_the_data"),"error")}})};be(async()=>{var c,h;if(!a.value.is_cancelled&&!a.value.is_completed)try{const b=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(b);const g=firebase.database();g.ref(`requests/${a.value.id}`).on("value",y=>{const _=y.val();_&&(_.hasOwnProperty("is_completed")&&(a.value.is_completed=!0),_.accept!==1&&(a.value.driver_id=null),_.driver_id&&a.value.driver_id&&!l.request.driverDetail&&window.location.reload(),a.value.is_later&&_.hasOwnProperty("modified_by_driver")&&(a.value.is_driver_started=1),_.trip_arrived==1&&(a.value.is_driver_arrived=!0,a.value.converted_arrived_at||(a.value.converted_arrived_at=E())),_.trip_start==1&&(a.value.is_trip_start=!0,a.value.converted_trip_start_time||(a.value.converted_trip_start_time=E())),(_.is_cancelled||_.is_cancel)&&(a.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)),setTimeout(()=>{_.driver_id&&a.value.driver_id&&!l.request.driverDetail&&window.location.reload()},3e3))}),(c=a.value.driverDetail)!=null&&c.data&&a.value.is_driver_started&&g.ref(`drivers/driver_${(h=a.value.driverDetail.data)==null?void 0:h.id}`).on("value",y=>{const _=y.val(),B=_.g,w=ee(B);_&&w&&(S.value={lat:w.lat,lng:w.lon,type_icon:_.vehicle_type_icon,bearing:_.bearing})})}catch(b){console.error("Error initializing Firebase or fetching settings:",b)}}),l.app_for!="demo"&&(a.value.userDetail&&(I.value=(H=a.value.userDetail.data)==null?void 0:H.mobile,K.value=(F=a.value.userDetail.data)==null?void 0:F.email),a.value.driverDetail&&(M.value=(z=a.value.driverDetail.data)==null?void 0:z.mobile,T.value=(U=a.value.driverDetail.data)==null?void 0:U.email));const q=f(r("normal"));return a.value.is_bid_ride&&(q.value=r("bidding")),a.value.is_rental&&(q.value=r("rental")),a.value.is_out_station&&(a.value.is_round_trip?q.value=r("round_trip_outstation_trip"):q.value=r("one_way_outstation_trip")),{result:a,modalShow:N,successMessage:G,alertMessage:k,rejected_drivers:s,deleteModal:Q,closeModal:Y,deleteData:J,stops:$,proof:le,rideStatus:W,user_mobile:I,user_email:K,driver_mobile:M,driverOption:S,dispatch_type:q,driver_email:T,dismissMessage:O,cancelledBy:Z}}},Ce={class:"mb-1"},Me={class:"row"},Te={class:"col-sm-12"},Se={class:"card"},Oe={class:"card-body"},Le={style:{height:"400px"}},Pe={class:"col-xxl-4 col-md-6"},je={class:"card card-animate border border-dashed border-primary"},Ee={class:"card-body text-center"},He={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Fe={class:"mb-3 fs-18"},ze={class:"fs-14 mb-4"},Ue={key:0,class:"col-xxl-4 col-md-6"},Ae={class:"card card-animate border border-dashed border-primary"},Re={class:"card-body text-center"},Ve={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ne={class:"mb-3 fs-18"},Ge={class:"fs-14 mb-4"},Ie={key:1,class:"col-xxl-4 col-md-6"},Ke={class:"card card-animate border border-dashed border-primary"},Ye={class:"card-body text-center"},Je={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},We={class:"mb-3 fs-18"},Ze={class:"fs-14 mb-4"},Qe={class:"col-xxl-4 col-md-6"},Xe={class:"card card-animate border border-dashed border-primary"},$e={class:"card-body text-center"},es={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ss={key:0,class:"fs-14 text-danger"},ts={class:"mb-1"},ls={class:"row"},rs={class:"col-xxl-4 col-md-6"},os={class:"card card-animate border border-dashed border-primary"},is={class:"card-body"},as={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ds={class:"d-flex align-items-center mb-2"},cs={class:"flex-shrink-0"},ns={class:"text-muted mb-0"},_s={class:"flex-grow-1 ms-2"},us={class:"mb-0"},ms={class:"d-flex align-items-center mb-2"},hs={class:"flex-shrink-0"},vs={class:"text-muted mb-0"},bs={class:"flex-grow-1 ms-2"},fs={class:"mb-0"},gs={key:0},ys={key:1},ps={key:2},xs={class:"d-flex align-items-center mb-2"},ws={class:"flex-shrink-0"},ks={class:"text-muted mb-0"},qs={class:"flex-grow-1 ms-2"},Bs={class:"mb-0"},Ds={class:"d-flex align-items-center mb-2"},Cs={class:"flex-shrink-0"},Ms={class:"text-muted mb-0"},Ts={class:"flex-grow-1 ms-2"},Ss={class:"mb-0"},Os={key:0,class:"d-flex align-items-center mb-2"},Ls={class:"flex-shrink-0"},Ps={class:"text-muted mb-0"},js={class:"flex-grow-1 ms-2"},Es={class:"mb-0"},Hs={class:"d-flex align-items-center mb-2"},Fs={class:"flex-shrink-0"},zs={class:"text-muted mb-0"},Us={class:"flex-grow-1 ms-2"},As={class:"mb-0"},Rs={key:1,class:"d-flex align-items-center mb-2"},Vs={class:"flex-shrink-0"},Ns={class:"text-muted mb-0"},Gs={class:"flex-grow-1 ms-2"},Is={class:"mb-0"},Ks={key:2,class:"d-flex align-items-center mb-2"},Ys={class:"flex-shrink-0"},Js={class:"text-muted mb-0"},Ws={class:"mb-0"},Zs={key:3,class:"d-flex align-items-center mb-2"},Qs={class:"flex-shrink-0"},Xs={class:"text-muted mb-0"},$s={class:"flex-grow-1 ms-2"},et={class:"mb-0"},st={class:"col-xxl-4 col-md-6"},tt={class:"card card-animate border border-dashed border-primary"},lt={class:"card-body"},rt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ot={class:"flex-grow-1 mt-2 text-center"},it=["src"],at={class:"d-flex align-items-center mb-2"},dt={class:"flex-shrink-0"},ct={class:"text-muted mb-0"},nt={class:"flex-grow-1 ms-2"},_t={class:"mb-0"},ut={class:"d-flex align-items-center mb-2"},mt={class:"flex-shrink-0"},ht={class:"text-muted mb-0"},vt={class:"flex-grow-1 ms-2"},bt={class:"mb-0"},ft={class:"d-flex align-items-center mb-2"},gt={class:"flex-shrink-0"},yt={class:"text-muted mb-0"},pt={class:"flex-grow-1 ms-2"},xt={class:"mb-0"},wt={key:0,class:"col-xxl-4 col-md-6"},kt={class:"card card-animate border border-dashed border-primary"},qt={class:"card-body"},Bt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Dt={class:"flex-grow-1 mt-2 text-center"},Ct=["src"],Mt={class:"d-flex align-items-center mb-2"},Tt={class:"flex-shrink-0"},St={class:"text-muted mb-0"},Ot={class:"flex-grow-1 ms-2"},Lt={class:"mb-0"},Pt={class:"d-flex align-items-center mb-2"},jt={class:"flex-shrink-0"},Et={class:"text-muted mb-0"},Ht={class:"flex-grow-1 ms-2"},Ft={class:"mb-0"},zt={class:"d-flex align-items-center mb-2"},Ut={class:"flex-shrink-0"},At={class:"text-muted mb-0"},Rt={class:"flex-grow-1 ms-2"},Vt={class:"mb-0"},Nt={class:"mb-1"},Gt={class:"col-lg-6"},It={class:"card border mt-3"},Kt={class:"table-responsive"},Yt={class:"table align-middle position-relative table-nowrap"},Jt={class:"table-active"},Wt={class:"fs-16"},Zt={scope:"col"},Qt={scope:"col"},Xt={scope:"col"},$t={key:0},el={key:0},sl={key:1},tl={key:0},ll={key:1,class:"text-danger"},rl={key:2},ol={key:3},il={key:4},al={class:"bg-body bg-success-subtle"},dl={colspan:"2",class:"text-success"},cl={class:"text-success"},nl={class:"text-success"},_l={class:"text-success"},ul={class:"col-lg-6"},ml={class:"card border mt-3"},hl={class:"table-responsive"},vl={class:"table align-middle position-relative table-nowrap"},bl={class:"table-active"},fl={class:"fs-16"},gl={scope:"col"},yl={scope:"col"},pl={class:"text-danger"},xl={colspan:"2"},wl={class:"text-danger"},kl={colspan:"2"},ql={class:"text-danger"},Bl={colspan:"2"},Dl={colspan:"2"},Cl={class:"bg-body bg-success-subtle"},Ml={colspan:"2",class:"text-success"},Tl={class:"text-success"},Sl={class:"text-success"},Ol={class:"text-success"},Ll={class:"card"},Pl={class:"mb-1"},jl={class:"card-body"},El={class:"profile-timeline"},Hl={class:"accordion accordion-flush",id:"accordionFlushExample"},Fl={class:"accordion-item border-0"},zl={class:"accordion-header",id:"headingOne"},Ul={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},Al={class:"d-flex align-items-center"},Rl={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Vl=["src"],Nl={class:"flex-grow-1 ms-3"},Gl={class:"fs-15 mb-0 fw-semibold text-primary"},Il={class:"fw-normal text-muted"},Kl={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Yl={class:"accordion-body ms-5 ps-5 pt-0"},Jl={key:0,class:"mb-1 text-warning"},Wl={key:1,class:"mb-1 text-success"},Zl={class:"accordion-item border-0"},Ql={class:"accordion-header",id:"headingTwo"},Xl={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},$l={class:"d-flex align-items-center"},er={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},sr=["src"],tr={class:"flex-grow-1 ms-3"},lr={class:"fs-15 mb-1 fw-semibold text-danger"},rr={class:"fw-normal"},or={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},ir={class:"accordion-body ms-5 ps-5 pt-0"},ar={class:"mb-1"},dr={class:"badge bg-light text-body fs-14 fw-large"},cr={key:0,class:"accordion-item border-0"},nr={class:"accordion-header",id:"headingThree"},_r={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},ur={class:"d-flex align-items-center"},mr={class:"flex-shrink-0 border border-4 border-success rounded-circle"},hr=["src"],vr={class:"flex-grow-1 ms-3"},br={class:"fs-15 mb-1 fw-semibold text-success"},fr={class:"fw-normal"},gr={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},yr={class:"accordion-body ms-5 ps-5 pt-0"},pr={class:"mb-1"},xr={class:"badge bg-light text-body fs-14 fw-large"},wr={key:1,class:"accordion-item border-0"},kr={class:"accordion-header",id:"headingThree"},qr={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Br={class:"d-flex align-items-center"},Dr={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Cr=["src"],Mr={class:"flex-grow-1 ms-3"},Tr={class:"fs-15 mb-1 fw-semibold text-warning"},Sr={class:"fw-normal"},Or={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Lr={class:"accordion-body ms-5 ps-5 pt-0"},Pr={class:"mb-1"},jr={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Er={class:"accordion-body ms-5 ps-5 pt-0"},Hr={class:"mb-1 text-success"},Fr={key:2,class:"accordion-item border-0"},zr={class:"accordion-header",id:"headingThree"},Ur={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Ar={class:"d-flex align-items-center"},Rr={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Vr=["src"],Nr={class:"flex-grow-1 ms-3"},Gr={class:"fs-15 mb-1 fw-semibold text-success"},Ir={class:"fw-normal"},Kr={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Yr={class:"accordion-body ms-5 ps-5 pt-0"},Jr={class:"mb-1"},Wr={key:3,class:"accordion-item border-0"},Zr={class:"accordion-header",id:"headingFour"},Qr={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},Xr={class:"d-flex align-items-center"},$r={class:"flex-shrink-0 border border-4 border-success rounded-circle"},eo=["src"],so={class:"flex-grow-1 ms-3"},to={class:"fs-14 mb-0 fw-semibold text-success"},lo={class:"fw-normal text-muted"},ro={key:4,class:"accordion-item border-0"},oo={class:"accordion-header",id:"headingFour"},io={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},ao={class:"d-flex align-items-center"},co={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},no=["src"],_o={class:"flex-grow-1 ms-3"},uo={class:"fs-14 mb-0 fw-semibold text-danger"},mo={class:"fw-normal text-muted"},ho={key:1,class:"card"},vo={class:"card-body border-top border-top-dashed p-4"},bo={class:"text-muted text-uppercase fw-semibold mb-4"},fo={class:"card-body"},go={class:"text-muted text-uppercase fw-semibold mb-2"},yo={class:"d-flex"},po={class:"flex-shrink-0 avatar-sm"},xo={class:"avatar-title bg-light rounded"},wo=["src"],ko={class:"flex-grow-1 ms-3"},qo={class:"text-muted mb-1 fst-italic"},Bo={class:"text-muted mb-1 fst-italic"},Do={class:"fs-11 align-middle text-warning"},Co=["id"],Mo={class:"card-body"},To={class:"text-muted text-uppercase fw-semibold mb-4"},So={class:"d-flex"},Oo={class:"flex-shrink-0 avatar-sm"},Lo={class:"avatar-title bg-light rounded"},Po=["src"],jo={class:"flex-grow-1 ms-3"},Eo={class:"text-muted mb-1 fst-italic"},Ho={class:"text-muted mb-1 fst-italic"},Fo={class:"fs-11 align-middle text-warning"},zo=["id"],Uo={key:2,class:"card"},Ao={class:"mb-1"},Ro={class:"card-body"},Vo={class:"row"},No={class:"col-lg-4"},Go=["src"],Io={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Ko={class:"alert-content"},Yo={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Jo={class:"alert-content"};function Wo(l,r,a,s,N,le){const $=x("Head"),G=x("PageHeader"),k=x("BCardHeader"),I=x("googleMap"),K=x("BButton"),M=x("BCardBody"),T=x("BCard"),S=x("BCol"),O=x("BRow"),ee=x("Layout");return o(),se(ee,null,{default:u(()=>{var Y,J,W,Z,E,Q,q,H,F,z,U,c,h,b,g,C,y,_,B,w,A,L,X;return[m($,{title:"View Details"}),m(G,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/dispatcher/rides_request"},null,8,["title","pageTitle"]),m(O,null,{default:u(()=>[m(S,{lg:"12"},{default:u(()=>[m(T,{"no-body":"",id:"tasksList"},{default:u(()=>[m(k,null,{default:u(()=>[e("h4",Ce,t(l.$t("map_view")),1)]),_:1}),m(M,null,{default:u(()=>[e("div",Me,[r[8]||(r[8]=e("div",{class:"mt-3"},null,-1)),e("div",Te,[e("div",Se,[e("div",Oe,[e("div",Le,[m(I,{baseUrl:a.baseUrl,pick_location:{lat:s.result.pick_lat,lng:s.result.pick_lng},drop_location:{lat:s.result.drop_lat,lng:s.result.drop_lng},stops:s.result.stops,driver:s.driverOption,polyline:s.result.poly_line,map_key:a.googleMapKey,libraries:["marker","geometry","geocoding"]},{default:u(()=>[v(t(l.$t("map_loading")),1)]),_:1},8,["baseUrl","pick_location","drop_location","stops","driver","polyline","map_key"])])])])]),e("div",Pe,[e("div",je,[e("div",Ee,[e("h4",He,t(l.$t("pickup_details")),1),r[3]||(r[3]=e("div",{class:"flex-grow-1"},[e("img",{src:de,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Fe,t(l.$t("location"))+":",1),e("h6",ze,t(s.result.pick_address),1)])])]),s.stops.length>0?(o(),i("div",Ue,[e("div",Ae,[e("div",Re,[e("h4",Ve,t(l.$t("stop_details")),1),r[4]||(r[4]=e("div",{class:"flex-grow-1"},[e("img",{src:de,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ne,t(l.$t("location"))+":",1),(o(!0),i(P,null,j(s.stops,(d,p)=>(o(),i("h6",Ge,t(d.address),1))),256))])])])):n("",!0),s.result.drop_address?(o(),i("div",Ie,[e("div",Ke,[e("div",Ye,[e("h4",Je,t(l.$t("drop_details")),1),r[5]||(r[5]=e("div",{class:"flex-grow-1"},[e("img",{src:ke,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",We,t(l.$t("location"))+":",1),e("h6",Ze,t(s.result.drop_address),1)])])])):n("",!0),e("div",Qe,[e("div",Xe,[e("div",$e,[e("h4",es,t(l.$t("trip_status"))+" "+t(s.result.is_bid_ride?l.$t("bidding"):""),1),r[7]||(r[7]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:qe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",{class:te(["mt-5 mb-3 fs-18",s.rideStatus(s.result).colorClass])},t(s.rideStatus(s.result).text),3),s.result.is_cancelled?(o(),i("h5",ss,"( "+t(s.cancelledBy(s.result))+" )",1)):n("",!0),!s.result.is_cancelled&&!s.result.is_completed?(o(),se(K,{key:1,class:"btn btn-danger btn-md",type:"button",onClick:r[0]||(r[0]=fe(d=>s.deleteModal(s.result.id),["prevent"]))},{default:u(()=>[r[6]||(r[6]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),v(" "+t(l.$t("cancel")),1)]),_:1,__:[6]})):n("",!0)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),m(O,null,{default:u(()=>[m(S,{lg:"12"},{default:u(()=>[m(T,{"no-body":"",id:"tasksList"},{default:u(()=>[m(k,null,{default:u(()=>[e("h4",ts,t(l.$t("request_details")),1)]),_:1}),m(M,null,{default:u(()=>{var d,p,R,D,re;return[e("div",ls,[e("div",rs,[e("div",os,[e("div",is,[e("h4",as,t(l.$t("request")),1),r[9]||(r[9]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:Be,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",ds,[e("div",cs,[e("p",ns,t(l.$t("zone"))+":",1)]),e("div",_s,[e("h6",us,t(s.result.zone_name??"-"),1)])]),e("div",ms,[e("div",hs,[e("p",vs,t(l.$t("transport_type"))+":",1)]),e("div",bs,[e("h6",fs,[s.result.transport_type==="taxi"?(o(),i("span",gs,t(l.$t("taxi")),1)):s.result.transport_type==="delivery"?(o(),i("span",ys,t(l.$t("delivery")),1)):(o(),i("span",ps,t(l.$t("all")),1))])])]),e("div",xs,[e("div",ws,[e("p",ks,t(l.$t("vehicle_type"))+":",1)]),e("div",qs,[e("h6",Bs,t(s.result.vehicle_type_name??"-"),1)])]),e("div",Ds,[e("div",Cs,[e("p",Ms,t(l.$t("trip_time"))+":",1)]),e("div",Ts,[e("h6",Ss,t(s.result.is_later?s.result.converted_trip_start_time:s.result.converted_created_at),1)])]),s.result.rental_package_name!=="-"?(o(),i("div",Os,[e("div",Ls,[e("p",Ps,t(l.$t("rental_pack"))+":",1)]),e("div",js,[e("h6",Es,t(s.result.rental_package_name),1)])])):n("",!0),e("div",Hs,[e("div",Fs,[e("p",zs,t(l.$t("ride_type"))+":",1)]),e("div",Us,[e("h6",As,t(s.dispatch_type),1)])]),s.result.is_round_trip?(o(),i("div",Rs,[e("div",Vs,[e("p",Ns,t(l.$t("return_time"))+":",1)]),e("div",Gs,[e("h6",Is,t(s.result.return_time),1)])])):n("",!0),((d=s.result.requestPreferences.data)==null?void 0:d.length)>0?(o(),i("div",Ks,[e("div",Ys,[e("p",Js,t(l.$t("preferences"))+":",1)]),(o(!0),i(P,null,j(s.result.requestPreferences.data,(ce,oe)=>{var ie;return o(),i("div",{class:"ms-2",key:oe},[e("h6",Ws,t(ce.name)+" "+t(oe+1==((ie=s.result.requestPreferences)==null?void 0:ie.data.length)?"":","),1)])}),128))])):n("",!0),s.result.shared_ride?(o(),i("div",Zs,[e("div",Qs,[e("p",Xs,t(l.$t("occupants"))+":",1)]),e("div",$s,[e("h6",et,t(s.result.seats_taken),1)])])):n("",!0)])])]),e("div",st,[e("div",tt,[e("div",lt,[e("h4",rt,t(l.$t("user_details")),1),e("div",ot,[e("img",{src:s.result.userDetail?(p=s.result.userDetail.data)==null?void 0:p.profile_picture:"@assets/images/user.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,it)]),e("div",at,[e("div",dt,[e("p",ct,t(l.$t("name"))+":",1)]),e("div",nt,[e("h6",_t,t(s.result.userDetail?(R=s.result.userDetail.data)==null?void 0:R.name:"-"),1)])]),e("div",ut,[e("div",mt,[e("p",ht,t(l.$t("email"))+":",1)]),e("div",vt,[e("h6",bt,t(s.user_email),1)])]),e("div",ft,[e("div",gt,[e("p",yt,t(l.$t("mobile"))+":",1)]),e("div",pt,[e("h6",xt,t(s.user_mobile),1)])])])])]),s.result.driverDetail?(o(),i("div",wt,[e("div",kt,[e("div",qt,[e("h4",Bt,t(l.$t("driver_details")),1),e("div",Dt,[e("img",{src:s.result.driverDetail?(D=s.result.driverDetail.data)==null?void 0:D.profile_picture:"@assets/images/driver.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,Ct)]),e("div",Mt,[e("div",Tt,[e("p",St,t(l.$t("name"))+":",1)]),e("div",Ot,[e("h6",Lt,t(s.result.driverDetail?(re=s.result.driverDetail.data)==null?void 0:re.name:"-"),1)])]),e("div",Pt,[e("div",jt,[e("p",Et,t(l.$t("email"))+":",1)]),e("div",Ht,[e("h6",Ft,t(s.driver_email),1)])]),e("div",zt,[e("div",Ut,[e("p",At,t(l.$t("mobile"))+":",1)]),e("div",Rt,[e("h6",Vt,t(s.driver_mobile),1)])])])])])):n("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),s.result.requestBill?(o(),se(O,{key:0},{default:u(()=>[m(S,{lg:"col-12"},{default:u(()=>[m(T,null,{default:u(()=>[m(k,null,{default:u(()=>[e("h4",Nt,t(l.$t("bill_details")),1)]),_:1}),m(M,null,{default:u(()=>[m(O,null,{default:u(()=>[e("div",Gt,[e("div",It,[e("div",Kt,[e("table",Yt,[e("thead",Jt,[e("tr",Wt,[e("th",Zt,t(l.$t("title")),1),e("th",Qt,t(l.$t("description")),1),e("th",Xt,t(l.$t("price")),1)])]),s.result.accepted_ride_fare>0?(o(),i("tbody",$t,[e("tr",null,[e("td",null,t(l.$t("bid_fare")),1),r[10]||(r[10]=e("td",null," -",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.accepted_ride_fare),1)]),s.result.additional_charges_amount>0?(o(),i("tr",el,[e("td",null,t(s.result.additional_charges_reason),1),r[11]||(r[11]=e("td",null,"-",-1)),e("td",null,t(s.result.additional_charges_amount),1)])):n("",!0)])):(o(),i("tbody",sl,[e("tr",null,[e("td",null,t(l.$t("base_price")),1),e("td",null,t(l.$t("for_first"))+" "+t(s.result.requestBill.data.base_distance)+" "+t(l.$t("km")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,t(l.$t("distance_price")),1),e("td",null,t(s.result.requestBill.data.total_distance>s.result.requestBill.data.base_distance?s.result.requestBill.data.total_distance-s.result.requestBill.data.base_distance:0)+" "+t(l.$t("km"))+" * "+t(s.result.requested_currency_symbol)+" "+t(s.result.requestBill.data.price_per_distance)+" / "+t(l.$t("km")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,t(l.$t("time_price")),1),e("td",null,t(s.result.requestBill.data.total_time)+" "+t(l.$t("min"))+" * "+t(s.result.requested_currency_symbol)+" "+t(s.result.requestBill.data.price_per_time)+" / "+t(l.$t("min")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.time_price),1)]),s.result.requestBill.data.cancellation_fee>0?(o(),i("tr",tl,[e("td",null,t(l.$t("cancellation_fee")),1),r[12]||(r[12]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.cancellation_fee),1)])):n("",!0),e("tr",null,[e("td",null,t(l.$t("service_tax")),1),r[13]||(r[13]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.service_tax),1)]),s.result.requestBill.data.promo_discount>0?(o(),i("tr",ll,[e("td",null,t(l.$t("promo_discount")),1),r[14]||(r[14]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.promo_discount),1)])):n("",!0),e("tr",null,[e("td",null,t(l.$t("admin_commission")),1),r[15]||(r[15]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision),1)]),s.result.additional_charges_amount>0?(o(),i("tr",rl,[e("td",null,t(s.result.additional_charges_reason),1),r[16]||(r[16]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.additional_charges_amount),1)])):n("",!0),s.result.airport_surge_fee>0?(o(),i("tr",ol,[e("td",null,t(l.$t("airport_surge_fee")),1),r[17]||(r[17]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.airport_surge_fee),1)])):n("",!0),s.result.requestBill.data.preference_price_total>0?(o(),i("tr",il,[e("td",null,t(l.$t("preferences_total")),1),r[18]||(r[18]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.preference_price_total),1)])):n("",!0)])),e("tfoot",al,[e("tr",null,[e("td",dl,[e("h4",cl,t(l.$t("total")),1)]),e("td",nl,[e("h4",_l,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.total_amount),1)])])])])])])]),e("div",ul,[e("div",ml,[e("div",hl,[e("table",vl,[e("thead",bl,[e("tr",fl,[e("th",gl,t(l.$t("title")),1),r[19]||(r[19]=e("th",{scope:"col"},null,-1)),e("th",yl,t(l.$t("price")),1)])]),e("tbody",null,[e("tr",pl,[e("td",xl,t(l.$t("admin_commission")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision),1)]),e("tr",wl,[e("td",kl,t(l.$t("service_tax")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.service_tax),1)]),e("tr",ql,[e("td",Bl,t(l.$t("admin_commission_from_driver")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",Dl,t(l.$t("driver_commission")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.driver_commision),1)])]),e("tfoot",Cl,[e("tr",null,[e("td",Ml,[e("h4",Tl,t(l.$t("total")),1)]),e("td",Sl,[e("h4",Ol,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),e("div",Ll,[m(k,null,{default:u(()=>[e("h4",Pl,t(l.$t("request_timeline")),1)]),_:1}),e("div",jl,[e("div",El,[e("div",Hl,[e("div",Fl,[e("div",zl,[e("a",Ul,[e("div",Al,[e("div",Rl,[e("img",{src:s.result.userDetail?(Y=s.result.userDetail.data)==null?void 0:Y.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,Vl)]),e("div",Nl,[e("h6",Gl,[v(t(l.$t("ride_created"))+" -",1),e("span",Il,t(s.result.converted_created_at),1)])])])])]),!s.result.driver_id&&!s.result.is_cancelled?(o(),i("div",Kl,[e("div",Yl,[s.result.is_later&&!s.result.onSearch?(o(),i("h6",Jl,t(l.$t("yet_to_search")),1)):!s.result.driverDetail&&!s.result.is_cancelled&&!s.result.is_completed?(o(),i("h6",Wl,t(l.$t("searching")),1)):n("",!0)])])):n("",!0)]),(o(!0),i(P,null,j(s.rejected_drivers,(d,p)=>(o(),i("div",Zl,[e("div",Ql,[e("a",Xl,[e("div",$l,[e("div",er,[e("img",{src:d.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,sr)]),e("div",tr,[e("h6",lr,[v(t(l.$t("rejected"))+" - ",1),e("span",rr,t(d.converted_created_at),1)])])])])]),e("div",or,[e("div",ir,[e("h5",ar,t(d.driver_name),1),e("span",null,[e("span",dr,[v(t(d.driver_rating),1),r[20]||(r[20]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])]))),256)),s.result.driverDetail?(o(),i("div",cr,[e("div",nr,[e("a",_r,[e("div",ur,[e("div",mr,[e("img",{src:(W=(J=s.result.driverDetail)==null?void 0:J.data)==null?void 0:W.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,hr)]),e("div",vr,[e("h6",br,[v(t(l.$t("accepted"))+" - ",1),e("span",fr,t(s.result.converted_accepted_at),1)])])])])]),e("div",gr,[e("div",yr,[e("h5",pr,t((Z=s.result.driverDetail.data)==null?void 0:Z.name),1),e("span",null,[e("span",xr,[v(t((E=s.result.driverDetail.data)==null?void 0:E.rating),1),r[21]||(r[21]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])])):n("",!0),s.result.is_driver_arrived&&!s.result.instant_ride?(o(),i("div",wr,[e("div",kr,[e("a",qr,[e("div",Br,[e("div",Dr,[e("img",{src:(q=(Q=s.result.driverDetail)==null?void 0:Q.data)==null?void 0:q.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Cr)]),e("div",Mr,[e("h6",Tr,[v(t(l.$t("arrived"))+" - ",1),e("span",Sr,t(s.result.converted_arrived_at),1)])])])])]),e("div",Or,[e("div",Lr,[e("h5",Pr,t((F=(H=s.result.driverDetail)==null?void 0:H.data)==null?void 0:F.name),1)])]),s.result.is_trip_start?n("",!0):(o(),i("div",jr,[e("div",Er,[e("h6",Hr,t(l.$t("waiting")),1)])]))])):n("",!0),s.result.is_trip_start?(o(),i("div",Fr,[e("div",zr,[e("a",Ur,[e("div",Ar,[e("div",Rr,[e("img",{src:(U=(z=s.result.driverDetail)==null?void 0:z.data)==null?void 0:U.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Vr)]),e("div",Nr,[e("h6",Gr,[v(t(s.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",Ir,t(s.result.converted_trip_start_time),1)])])])])]),e("div",Kr,[e("div",Yr,[e("h5",Jr,t((h=(c=s.result.driverDetail)==null?void 0:c.data)==null?void 0:h.name),1)])])])):n("",!0),s.result.is_completed?(o(),i("div",Wr,[e("div",Zr,[e("a",Qr,[e("div",Xr,[e("div",$r,[e("img",{src:(g=(b=s.result.driverDetail)==null?void 0:b.data)==null?void 0:g.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,eo)]),e("div",so,[e("h6",to,[v(t(s.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",lo,t(s.result.converted_completed_at),1)])])])])])])):n("",!0),s.result.is_cancelled?(o(),i("div",ro,[e("div",oo,[e("a",io,[e("div",ao,[e("div",co,[e("img",{src:(y=(C=s.result.userDetail)==null?void 0:C.data)==null?void 0:y.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,no)]),e("div",_o,[e("h6",uo,[v(t(l.$t("ride_cancelled"))+" -",1),e("span",mo,t(s.result.converted_cancelled_at),1)])])])])])])):n("",!0)])])])]),s.result.ride_user_rating>0||s.result.ride_driver_rating>0?(o(),i("div",ho,[e("div",vo,[e("div",null,[e("h6",bo,t(l.$t("ratings")),1),e("div",fo,[e("h6",go,t(l.$t("user_ratings")),1),e("div",yo,[e("div",po,[e("div",xo,[e("img",{src:(B=(_=s.result.userDetail)==null?void 0:_.data)==null?void 0:B.profile_picture,alt:"User",height:"30"},null,8,wo)])]),e("div",ko,[e("div",null,[e("p",qo,t(s.result.userDetail?(w=s.result.userDetail.data)==null?void 0:w.name:"-"),1),e("p",Bo,t(s.result.ride_user_comment),1),e("div",Do,[(o(),i(P,null,j(5,d=>e("i",{key:d,id:"id-"+d,class:te({"ri-star-fill":d<=s.result.ride_user_rating,"ri-star-line":d>s.result.ride_user_rating})},null,10,Co)),64))])])])])]),e("div",Mo,[e("h6",To,t(l.$t("driver_ratings")),1),e("div",So,[e("div",Oo,[e("div",Lo,[e("img",{src:(L=(A=s.result.driverDetail)==null?void 0:A.data)==null?void 0:L.profile_picture,alt:"Driver",height:"30"},null,8,Po)])]),e("div",jo,[e("div",null,[e("p",Eo,t(s.result.driverDetail?(X=s.result.driverDetail.data)==null?void 0:X.name:"-"),1),e("p",Ho,t(s.result.ride_driver_comment),1),e("div",Fo,[(o(),i(P,null,j(5,(d,p)=>e("i",{key:d,id:"id-"+d,class:te({"ri-star-fill":d<=s.result.ride_driver_rating,"ri-star-line":d>s.result.ride_driver_rating})},null,10,zo)),64))])])])])])])])])):n("",!0),s.proof.length>0?(o(),i("div",Uo,[m(k,null,{default:u(()=>[e("h4",Ao,t(l.$t("request_proof")),1)]),_:1}),e("div",Ro,[e("div",Vo,[(o(!0),i(P,null,j(s.proof,(d,p)=>(o(),i("div",No,[e("img",{src:d.proof_image,style:{height:"100%",width:"100%"}},null,8,Go)]))),256))])])])):n("",!0),e("div",null,[s.successMessage?(o(),i("div",Io,[e("div",Ko,[r[22]||(r[22]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),r[23]||(r[23]=v()),r[24]||(r[24]=e("strong",null,"Success",-1)),v(" - "+t(s.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:r[1]||(r[1]=(...d)=>s.dismissMessage&&s.dismissMessage(...d)),"aria-label":"Close Success Message"})])])):n("",!0),s.alertMessage?(o(),i("div",Yo,[e("div",Jo,[r[25]||(r[25]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),r[26]||(r[26]=v()),r[27]||(r[27]=e("strong",null,"Alert",-1)),v(" - "+t(s.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:r[2]||(r[2]=(...d)=>s.dismissMessage&&s.dismissMessage(...d)),"aria-label":"Close Alert Message"})])])):n("",!0)])]}),_:1})}const ii=ne(De,[["render",Wo]]);export{ii as default};
