import{T as E,r as C,Q as V,o as I,g as c,i as f,k as v,l as a,u as o,Z as P,n as s,w as r,F as D,p as N,q as w,t as F,x as L,y as R,z as y,B as $,C as g,a as q,N as U}from"./vendor-8caf5d52.js";import{_ as b,a as M,b as B,c as S}from"./TextInput-c8fd55ab.js";const T={id:"bodyContainer"},z={class:"container-fluid"},Q={class:"form_field text-white"},W={class:"mt-5"},Z={class:"mb-2"},j={class:"mb-2"},A={class:"position-relative auth-pass-inputgroup mb-3"},G=["type"],H={class:"float-end"},J={key:0,class:"credential-panel credential-row"},K={class:"form-check form-check-success mt-3"},O={class:"mt-2"},es={__name:"DispatchLogin",props:{canResetPassword:Boolean,status:String},setup(h){const t=E({email:"",password:"",remember:!1}),_=C(!1),k=V().props.app_for,x=async()=>{t.clearErrors();try{(await q.post("/dispatch-login",t.data())).status==200&&U.get("/dispatcher/bookride")}catch(l){l.response.status===422?(t.setError("email",l.response.data.errors.email?l.response.data.errors.email[0]:""),t.setError("password",l.response.data.errors.password?l.response.data.errors.password[0]:"")):console.error("Unexpected error:",l)}};return I(()=>{var p,u;const l=(p=document.getElementById("display-email"))==null?void 0:p.textContent.trim(),e=(u=document.getElementById("display-password"))==null?void 0:u.textContent.trim(),i=document.getElementById("fillBtn"),m=document.getElementById("email-input"),d=document.getElementById("password-input");i==null||i.addEventListener("click",()=>{m&&d&&(m.value=l,d.value=e,t.email=l,t.password=e,d.focus())})}),(l,e)=>{const i=c("BButton"),m=c("BCardBody"),d=c("Bcard"),p=c("BCol"),u=c("BRow");return f(),v(D,null,[a(o(P),{title:"Log in"}),s("body",T,[e[11]||(e[11]=s("div",{class:"bg-overlay"},null,-1)),s("div",z,[a(u,null,{default:r(()=>[a(p,{lg:"5"},{default:r(()=>[s("div",Q,[a(d,null,{default:r(()=>[a(m,{class:"BcardBody"},{default:r(()=>[e[9]||(e[9]=s("h1",{class:"display-6",style:{color:"white"}},[s("b",null,"Dispatcher Signin")],-1)),e[10]||(e[10]=s("p",{class:""},"Welcome To Dispatch",-1)),s("div",W,[s("form",{onSubmit:N(x,["prevent"])},[s("div",Z,[a(b,{for:"email",value:"Email"}),a(M,{id:"email-input",modelValue:o(t).email,"onUpdate:modelValue":e[0]||(e[0]=n=>o(t).email=n),type:"email",class:w(["form-control p-3",{"is-invalid":o(t).errors.email}]),autofocus:"",placeholder:"Please enter email",autocomplete:"email",required:""},null,8,["modelValue","class"]),a(B,{message:o(t).errors.email},null,8,["message"])]),s("div",j,[a(b,{for:"password",value:"Password"}),s("div",A,[F(s("input",{type:_.value?"text":"password",class:w(["form-control pe-5 p-3",{"is-invalid":o(t).errors.password}]),placeholder:"Enter password",id:"password-input","onUpdate:modelValue":e[1]||(e[1]=n=>o(t).password=n),autocomplete:"password",required:""},null,10,G),[[L,o(t).password]]),a(i,{variant:"link",class:"position-absolute end-0 mt-2 top-0 text-decoration-none text-muted",type:"button",id:"password-addon",onClick:e[2]||(e[2]=n=>_.value=!_.value)},{default:r(()=>e[4]||(e[4]=[s("i",{class:"ri-eye-fill align-middle ri-lg"},null,-1)])),_:1,__:[4]}),a(B,{message:o(t).errors.password},null,8,["message"])])]),s("div",H,[h.canResetPassword?(f(),R(o($),{key:0,href:l.route("password.request"),class:"text-white"},{default:r(()=>e[5]||(e[5]=[y("Forgot password? ")])),_:1,__:[5]},8,["href"])):g("",!0)]),o(k)==="demo"?(f(),v("div",J,e[6]||(e[6]=[s("div",{class:"col"},[s("div",{class:"credential-item"},[s("span",{class:"label"},"Email:"),s("span",{class:"value",id:"display-email"},"dispatch@admin.com")])],-1),s("div",{class:"col"},[s("div",{class:"credential-item"},[s("span",{class:"label1"},"Password:"),s("span",{class:"value",id:"display-password"},"123456789")])],-1),s("button",{class:"copy-btn",id:"fillBtn",title:"Fill form",type:"button"},[s("i",{class:"ri-file-copy-line icon text-muted"})],-1)]))):g("",!0),s("div",K,[a(S,{checked:o(t).remember,"onUpdate:checked":e[3]||(e[3]=n=>o(t).remember=n),name:"remember",class:"form-check-input",id:"auth-remember-check"},null,8,["checked"]),e[7]||(e[7]=s("label",{class:"form-check-label",for:"auth-remember-check"},"Remember me",-1))]),s("div",O,[a(i,{variant:"success",class:w(["w-100 mt-3",{"opacity-25":o(t).processing}]),type:"submit",disabled:o(t).processing,style:{height:"45px","border-radius":"10px"}},{default:r(()=>e[8]||(e[8]=[y("Login")])),_:1,__:[8]},8,["class","disabled"])])],32)])]),_:1,__:[9,10]})]),_:1})])]),_:1})]),_:1})])])],64)}}};export{es as default};
