import{_ as L,Z as N,O as P,D as A,r as v,T as O,o as j,g as m,i as l,y as D,w as y,a as R,N as q,l as c,n as e,z as _,J as a,t as h,M as k,k as i,L as g,F as p,K as F,p as E,C as H}from"./vendor-8caf5d52.js";import{L as z}from"./main-cc7bd0ce.js";import{P as J}from"./page-header-18309276.js";import{P as K}from"./Pagination-0518e4bd.js";import{F as Z}from"./FormValidation-f14f6003.js";import{u as G}from"./footer-502c2797.js";import{I as Q}from"./ImageUpload-fc3b7bc8.js";import"./app-974c65a1.js";const W={components:{Layout:z,PageHeader:J,Head:N,Pagination:K,Multiselect:P,FormValidation:Z,ImageUpload:Q},props:{successMessage:String,alertMessage:String,setting:Object,validate:Function,languages:Array,settings:Array},setup(s){const{t}=A(),{languages:B,fetchData:o}=G(),S=v("English"),U=r=>{S.value=r},u=O({name:s.setting&&s.setting.name||"",transport_type:s.setting&&s.setting.transport_type||"",short_description:s.setting&&s.setting.short_description||"",description:s.setting&&s.setting.description||"",service_type:s.setting&&s.setting.service_type||"",mobile_menu_icon:s.setting&&s.setting.mobile_menu_icon||"",order_by:s.setting&&s.setting.order_by||""}),w={name:{required:!0},transport_type:{required:!0},description:{required:!0},short_description:{required:!0},service_type:{required:!0},order_by:{required:!0},mobile_menu_icon:{required:!s.setting}},I=v([]),C=v(null),f=v({}),M=v(s.successMessage||""),b=v(s.alertMessage||""),V=()=>{M.value="",b.value=""},x=async()=>{if(f.value=C.value.validate(),Object.keys(f.value).length>0){console.log(f.value);return}try{var r=u.data();let d;s.setting&&s.setting.id?d=await R.post(`/app_modules/update/${s.setting.id}`,r,{headers:{"Content-Type":"multipart/form-data"}}):d=await R.post("/app_modules/store",r,{headers:{"Content-Type":"multipart/form-data"}}),d.status===201?(M.value=t("app_modules_created_successfully"),u.reset(),q.get("/app_modules")):b.value=t("failed_to_create_app_modules")}catch(d){d.response&&d.response.status===403?(b.value=d.response.data.alertMessage,setTimeout(()=>{q.get("/app_modules")},5e3)):console.error(t("error_creating_app_modules"),d)}};j(async()=>{Object.keys(B).length==0&&await o()});const T=(r,d)=>{u[d]=r},n=r=>{u[r]=null};return{form:u,successMessage:M,alertMessage:b,handleSubmit:x,dismissMessage:V,validationRules:w,validationRef:C,errors:f,setting:s.setting,setActiveTab:U,activeTab:S,categories:I,languages:B,handleImageSelected:T,handleImageRemoved:n}}},X={class:"row"},Y={class:"col-sm-6"},$={class:"mb-3"},ee={for:"name",class:"form-label"},te={class:"col-sm-6"},se={class:"mb-3"},oe={for:"service_type",class:"form-label"},ne={disabled:"",value:""},ae={value:"normal"},re={value:"rental"},le={value:"outstation"},ie={class:"col-sm-6"},de={class:"mb-3"},me={for:"transport_type",class:"form-label"},ce={disabled:"",value:""},_e={value:"taxi"},ue={value:"delivery"},ge={class:"col-sm-6"},pe={class:"mb-3"},fe={for:"order_by",class:"form-label"},be=["placeholder"],ve={class:"col-sm-6"},ye={class:"mb-3"},he={for:"short_description",class:"form-label"},Me=["placeholder"],Ce={class:"col-sm-6"},ke={class:"mb-3"},Be={for:"description",class:"form-label"},Se=["placeholder"],we={class:"col-sm-12"},Ie={class:"row"},Ve={class:"col-sm-6"},xe={class:"mb-3"},Te={for:"mobile_menu_icon",class:"form-label d-flex"},Ue={class:"col-lg-12"},Re={class:"text-end"},qe={type:"submit",class:"btn btn-primary"},Fe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},He={class:"alert-content"},Le={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Ne={class:"alert-content"};function Pe(s,t,B,o,S,U){const u=m("Head"),w=m("PageHeader"),I=m("BCardHeader"),C=m("ImageUpload"),f=m("FormValidation"),M=m("BCardBody"),b=m("BCard"),V=m("BCol"),x=m("BRow"),T=m("Layout");return l(),D(T,null,{default:y(()=>[c(u,{title:s.$t("app_modules")},null,8,["title"]),c(w,{title:o.setting?s.$t("edit"):s.$t("create"),pageTitle:s.$t("app_modules"),pageLink:"/app_modules"},null,8,["title","pageTitle"]),c(x,null,{default:y(()=>[c(V,{lg:"12"},{default:y(()=>[c(b,{"no-body":"",id:"tasksList"},{default:y(()=>[c(I,{class:"border-0"}),c(M,{class:"border border-dashed border-end-0 border-start-0"},{default:y(()=>[e("form",{onSubmit:t[8]||(t[8]=E((...n)=>o.handleSubmit&&o.handleSubmit(...n),["prevent"])),enctype:"multipart/form-data"},[c(f,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:y(()=>[e("div",X,[e("div",Y,[e("div",$,[e("label",ee,[_(a(s.$t("name"))+" ",1),t[11]||(t[11]=e("span",{class:"text-danger"},"*",-1))]),h(e("input",{type:"text",class:"form-control",placeholder:"Enter Name",id:"name","onUpdate:modelValue":t[0]||(t[0]=n=>o.form.name=n),required:""},null,512),[[k,o.form.name]]),(l(!0),i(p,null,g(o.errors.name,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",te,[e("div",se,[e("label",oe,[_(a(s.$t("service_type"))+" ",1),t[12]||(t[12]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"service_type",class:"form-select","onUpdate:modelValue":t[1]||(t[1]=n=>o.form.service_type=n)},[e("option",ne,a(s.$t("choose_service_type")),1),e("option",ae,a(s.$t("normal")),1),e("option",re,a(s.$t("rental")),1),e("option",le,a(s.$t("outstation")),1)],512),[[F,o.form.service_type]]),(l(!0),i(p,null,g(o.errors.service_type,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",ie,[e("div",de,[e("label",me,[_(a(s.$t("transport_type"))+" ",1),t[13]||(t[13]=e("span",{class:"text-danger"},"*",-1))]),h(e("select",{id:"transport_type",class:"form-select","onUpdate:modelValue":t[2]||(t[2]=n=>o.form.transport_type=n)},[e("option",ce,a(s.$t("choose_transport_type")),1),e("option",_e,a(s.$t("taxi")),1),e("option",ue,a(s.$t("delivery")),1)],512),[[F,o.form.transport_type]]),(l(!0),i(p,null,g(o.errors.transport_type,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",ge,[e("div",pe,[e("label",fe,[_(a(s.$t("order_by"))+" ",1),t[14]||(t[14]=e("span",{class:"text-danger"},"*",-1))]),h(e("input",{type:"number",step:"any",class:"form-control",placeholder:s.$t("enter_order_by"),id:"order_by","onUpdate:modelValue":t[3]||(t[3]=n=>o.form.order_by=n)},null,8,be),[[k,o.form.order_by,void 0,{number:!0}]]),(l(!0),i(p,null,g(o.errors.order_by,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",ve,[e("div",ye,[e("label",he,[_(a(s.$t("short_description"))+" ",1),t[15]||(t[15]=e("span",{class:"text-danger"},"*",-1))]),h(e("input",{type:"text",class:"form-control",placeholder:s.$t("enter_short_description"),id:"short_description","onUpdate:modelValue":t[4]||(t[4]=n=>o.form.short_description=n)},null,8,Me),[[k,o.form.short_description]]),(l(!0),i(p,null,g(o.errors.short_description,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",Ce,[e("div",ke,[e("label",Be,[_(a(s.$t("description"))+" ",1),t[16]||(t[16]=e("span",{class:"text-danger"},"*",-1))]),h(e("textarea",{class:"form-control",id:"description",rows:"3",placeholder:s.$t("enter_description"),"onUpdate:modelValue":t[5]||(t[5]=n=>o.form.description=n)},null,8,Se),[[k,o.form.description]]),(l(!0),i(p,null,g(o.errors.description,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])]),e("div",we,[e("div",Ie,[e("div",Ve,[e("div",xe,[e("label",Te,[_(a(s.$t("mobile_menu_icon"))+" ",1),t[17]||(t[17]=e("span",null,[e("h5",{class:"text-muted mt-1 mb-0 fs-13"},"(512px x 512px)")],-1)),t[18]||(t[18]=e("span",{class:"text-danger"},"*",-1))]),c(C,{imageType:"types",initialImageUrl:o.form.mobile_menu_icon,flexStyle:"0 0 calc(50% - 20px)",aspectRatio:"5 / 5",onImageSelected:t[6]||(t[6]=n=>o.handleImageSelected(n,"mobile_menu_icon")),onImageRemoved:t[7]||(t[7]=()=>o.handleImageRemoved("mobile_menu_icon")),onChange:s.onFileChange},null,8,["initialImageUrl","onChange"]),(l(!0),i(p,null,g(o.errors.mobile_menu_icon,(n,r)=>(l(),i("span",{key:r,class:"text-danger"},a(n),1))),128))])])])])]),e("div",Ue,[e("div",Re,[e("button",qe,a(o.setting?s.$t("update"):s.$t("save")),1)])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[o.successMessage?(l(),i("div",Fe,[e("div",He,[t[19]||(t[19]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[20]||(t[20]=e("strong",null,"Success",-1)),_(" - "+a(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[9]||(t[9]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Success Message"})])])):H("",!0),o.alertMessage?(l(),i("div",Le,[e("div",Ne,[t[21]||(t[21]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[22]||(t[22]=e("strong",null,"Alert",-1)),_(" - "+a(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[10]||(t[10]=(...n)=>o.dismissMessage&&o.dismissMessage(...n)),"aria-label":"Close Alert Message"})])])):H("",!0)])]),_:1})}const Ze=L(W,[["render",Pe]]);export{Ze as default};
