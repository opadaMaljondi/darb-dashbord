import{_ as U,Z as N,D,r as w,T as L,g as m,i as u,y as M,w as c,W as x,a as T,N as P,l as _,n as s,z as n,J as i,C as y,t as f,M as p,x as b,p as E,k as B}from"./vendor-54d6cb1e.js";import{L as A}from"./main-b839be26.js";import{P as F}from"./page-header-ff719701.js";import"./footer-7e4f68d9.js";import"./app-cb082573.js";const I={components:{Layout:A,PageHeader:F,Head:N},props:{successMessage:String,alertMessage:String,app_for:String,settings:{type:Object,required:!1,default:()=>({})}},setup(o){const{t:e}=D(),l=w(o.successMessage||""),a=w(o.alertMessage||""),d=L({mail_mailer:o.settings.mail_mailer||"",mail_host:o.settings.mail_host||"",mail_port:o.settings.mail_port||"",mail_username:o.settings.mail_username||"",mail_password:o.settings.mail_password||"",mail_encryption:o.settings.mail_encryption||"",mail_from_address:o.settings.mail_from_address||"",mail_from_name:o.settings.mail_from_name||""});return{successMessage:l,alertMessage:a,dismissMessage:()=>{l.value="",a.value=""},handleSubmit:async()=>{if(o.app_for=="demo"){x.fire(e("error"),e("you_are_not_authorised"),"error");return}try{let r=new FormData;r.append("mail_mailer",d.mail_mailer),r.append("mail_host",d.mail_host),r.append("mail_port",d.mail_port),r.append("mail_username",d.mail_username),r.append("mail_password",d.mail_password),r.append("mail_encryption",d.mail_encryption),r.append("mail_from_address",d.mail_from_address),r.append("mail_from_name",d.mail_from_name),(await T.post("/mail-configuration/update",r)).status===201?(l.value=e("mail_configuration_updated_successfully"),d.reset(),P.get("/mail-configuration")):a.value=e("failed_to_update_mail_configuration")}catch(r){console.error(e("error_updating_mail_configuration"),r),a.value=e("failed_to_update_mail_configuration_catch")}},form:d}},mounted(){const o=document.getElementById("mail_password");new MutationObserver(l=>{l.forEach(a=>{a.attributeName==="type"&&o.type!=="password"&&(o.type="password")})}).observe(o,{attributes:!0})}},O={class:"alert bg-warning border-warning fs-18",role:"alert"},R={class:"row"},j={class:"col-sm-6"},q={class:"mb-3"},z={for:"mail_mailer",class:"form-label"},J=["readonly","placeholder"],W={class:"col-sm-6"},Z={class:"mb-3"},G={for:"mail_host",class:"form-label"},K=["readonly","placeholder"],Q={class:"col-sm-6"},X={class:"mb-3"},Y={for:"mail_port",class:"form-label"},$=["type","readonly","placeholder"],ee={class:"col-sm-6"},se={class:"mb-3"},oe={for:"mail_username",class:"form-label"},ae=["type","readonly","placeholder"],te={class:"col-sm-6"},le={class:"mb-3"},re={for:"mail_password",class:"form-label"},ne={class:"input-group"},ie=["readonly","placeholder"],de={class:"col-sm-6"},me={class:"mb-3"},_e={for:"mail_encryption",class:"form-label"},fe=["type","readonly","placeholder"],ce={class:"col-sm-6"},pe={class:"mb-3"},ue={for:"mail_from_address",class:"form-label"},ge=["readonly","placeholder"],ye={class:"col-sm-6"},be={class:"mb-3"},ve={for:"mail_from_name",class:"form-label"},he=["readonly","placeholder"],we={class:"col-lg-12"},Me={class:"text-end"},Be={type:"submit",class:"btn btn-primary"},Ce={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Se={class:"alert-content"},Ve={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},ke={class:"alert-content"};function He(o,e,l,a,d,C){const v=m("Head"),r=m("PageHeader"),g=m("BCardHeader"),h=m("BCard"),S=m("BCardBody"),V=m("BCol"),k=m("BRow"),H=m("Layout");return u(),M(H,null,{default:c(()=>[_(v,{title:"Mail Configuration"}),_(r,{title:o.$t("mail-configuration"),pageTitle:o.$t("mail-configuration")},null,8,["title","pageTitle"]),_(k,null,{default:c(()=>[l.app_for==="demo"?(u(),M(h,{key:0,"no-body":"",id:"tasksList"},{default:c(()=>[_(g,{class:"border-0"},{default:c(()=>[s("div",O,[s("strong",null,[n(i(o.$t("note"))+" : ",1),s("em",null,i(o.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):y("",!0),_(V,{lg:"12"},{default:c(()=>[_(h,{"no-body":"",id:"tasksList"},{default:c(()=>[_(g,{class:"border-0"}),_(S,{class:"border border-dashed border-end-0 border-start-0"},{default:c(()=>[s("form",{onSubmit:e[8]||(e[8]=E((...t)=>a.handleSubmit&&a.handleSubmit(...t),["prevent"]))},[s("div",R,[s("div",j,[s("div",q,[s("label",z,[n(i(o.$t("mailer_name"))+" ",1),e[11]||(e[11]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mailer_name"),id:"mail_mailer","onUpdate:modelValue":e[0]||(e[0]=t=>a.form.mail_mailer=t)},null,8,J),[[p,a.form.mail_mailer]])])]),s("div",W,[s("div",Z,[s("label",G,[n(i(o.$t("mail_host"))+" ",1),e[12]||(e[12]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_host"),id:"mail_host","onUpdate:modelValue":e[1]||(e[1]=t=>a.form.mail_host=t)},null,8,K),[[p,a.form.mail_host]])])]),s("div",Q,[s("div",X,[s("label",Y,[n(i(o.$t("mail_port"))+" ",1),e[13]||(e[13]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:l.app_for==="demo"?"password":"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_port"),id:"mail_port","onUpdate:modelValue":e[2]||(e[2]=t=>a.form.mail_port=t)},null,8,$),[[b,a.form.mail_port]])])]),s("div",ee,[s("div",se,[s("label",oe,[n(i(o.$t("mail_username"))+" ",1),e[14]||(e[14]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:l.app_for==="demo"?"password":"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_username"),id:"mail_username","onUpdate:modelValue":e[3]||(e[3]=t=>a.form.mail_username=t)},null,8,ae),[[b,a.form.mail_username]])])]),s("div",te,[s("div",le,[s("label",re,[n(i(o.$t("mail_password"))+" ",1),e[15]||(e[15]=s("span",{class:"text-danger"},"*",-1))]),s("div",ne,[f(s("input",{type:"password",readonly:l.app_for==="demo",autocomplete:"off",class:"form-control",placeholder:o.$t("enter_mail_password"),id:"mail_password","onUpdate:modelValue":e[4]||(e[4]=t=>a.form.mail_password=t)},null,8,ie),[[p,a.form.mail_password]])])])]),s("div",de,[s("div",me,[s("label",_e,[n(i(o.$t("mail_encryption"))+" ",1),e[16]||(e[16]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:l.app_for==="demo"?"password":"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_encryption"),id:"mail_encryption","onUpdate:modelValue":e[5]||(e[5]=t=>a.form.mail_encryption=t)},null,8,fe),[[b,a.form.mail_encryption]])])]),s("div",ce,[s("div",pe,[s("label",ue,[n(i(o.$t("mail_from_address"))+" ",1),e[17]||(e[17]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_from_address"),id:"mail_from_address","onUpdate:modelValue":e[6]||(e[6]=t=>a.form.mail_from_address=t)},null,8,ge),[[p,a.form.mail_from_address]])])]),s("div",ye,[s("div",be,[s("label",ve,[n(i(o.$t("mail_from_name"))+" ",1),e[18]||(e[18]=s("span",{class:"text-danger"},"*",-1))]),f(s("input",{type:"text",readonly:l.app_for==="demo",class:"form-control",placeholder:o.$t("enter_mail_from_name"),id:"mail_from_name","onUpdate:modelValue":e[7]||(e[7]=t=>a.form.mail_from_name=t)},null,8,he),[[p,a.form.mail_from_name]])])]),s("div",we,[s("div",Me,[s("button",Be,i(l.settings?o.$t("update"):o.$t("save")),1)])])])],32)]),_:1})]),_:1})]),_:1})]),_:1}),s("div",null,[a.successMessage?(u(),B("div",Ce,[s("div",Se,[e[19]||(e[19]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[20]||(e[20]=n()),e[21]||(e[21]=s("strong",null,"Success",-1)),n(" - "+i(a.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[9]||(e[9]=(...t)=>a.dismissMessage&&a.dismissMessage(...t)),"aria-label":"Close Success Message"})])])):y("",!0),a.alertMessage?(u(),B("div",Ve,[s("div",ke,[e[22]||(e[22]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[23]||(e[23]=n()),e[24]||(e[24]=s("strong",null,"Alert",-1)),n(" - "+i(a.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[10]||(e[10]=(...t)=>a.dismissMessage&&a.dismissMessage(...t)),"aria-label":"Close Alert Message"})])])):y("",!0)])]),_:1})}const Te=U(I,[["render",He]]);export{Te as default};
