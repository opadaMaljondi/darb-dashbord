import{_ as _e,Z as ue,O as he,P as me,B as ve,D as be,r as f,o as fe,g as p,i as a,y as se,w as n,a as de,W as G,l as _,n as e,J as t,z as h,k as i,F as j,L as E,C as d,q as te,p as ge}from"./vendor-8caf5d52.js";import{L as ye}from"./main-cc7bd0ce.js";import{P as pe}from"./page-header-18309276.js";import{s as xe}from"./search-769502e2.js";import{s as we}from"./searchbar-e42e22fa.js";import{g as ke}from"./googleMap-9b9e9a11.js";import{_ as ce,a as qe,b as Be,c as De}from"./mark-f25bae14.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const Me={data(){return{rightOffcanvas:!1}},components:{Layout:ye,PageHeader:pe,Head:ue,Multiselect:he,flatPickr:me,Link:ve,search:xe,searchbar:we,googleMap:ke},props:{successMessage:String,alertMessage:String,serviceLocations:{type:Object},googleMapKey:String,app_for:String,rejected_drivers:Object,firebaseConfig:Object,baseUrl:String,request:Object},setup(l){var z,U,A,R;const{t:r}=be(),o=f(l.request),s=f(l.rejected_drivers),I=f(!1),le=f(l.request.requestProofs.data),$=f(l.request.requestStops.data),K=f(l.successMessage||""),q=f(l.alertMessage||""),Y=f("**********"),J=f("**********"),S=f("**********"),O=f("**********"),F=()=>{K.value="",q.value=""},C=f({}),L=m=>{const b="0123456789bcdefghjkmnpqrstuvwxyz",g=[16,8,4,2,1];let y=!0,T=-90,x=90,u=-180,D=180,w,V;if(m){for(let P=0;P<m.length;P++){let X=m.charAt(P),N=b.indexOf(X);for(let c=0;c<5;c++){let k=g[c];if(y){let M=(u+D)/2;N&k?u=M:D=M}else{let M=(T+x)/2;N&k?T=M:x=M}y=!y}}return w=(T+x)/2,V=(u+D)/2,{lat:w,lon:V}}},ee=()=>{I.value=!1},W=async m=>{try{const b=await de.get(`/rides-request/cancel/${m}`);o.value=b.data.request,I.value=!1,G.fire(r("success"),r("trip_cancelled_successfully"),"success")}catch{G.fire(r("error"),r("failed_to_cancel_trip"),"error")}},v=f(""),Z=m=>m.cancel_method==0?r("automatic"):m.cancel_method==1?r("cancelled_by_user"):m.cancel_method==2?r("cancelled_by_driver"):r("cancelled_by_dispatcher"),H=()=>{const m=new Date,b={weekday:"short",day:"numeric",month:"short",year:"numeric"};return m.toLocaleDateString("en-US",b)},Q=async m=>{G.fire({title:"Are you sure?",text:"You want to be cancel this ride!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#34c38f",cancelButtonColor:"#f46a6a",confirmButtonText:"Yes, Cancel it!",cancelButtonText:"Close"}).then(async b=>{if(b.isConfirmed)try{const g=await de.get(`/rides-request/cancel/${m}`);if(g.data.success){const y=g.data.request;b.value=y,G.fire(r("success"),r("trip_cancelled_successfully"),"success")}}catch(g){console.error(r("error_deleting_data"),g),G.fire(r("error"),r("failed_to_delete_the_data"),"error")}})};fe(async()=>{var m,b;if(!o.value.is_cancelled&&!o.value.is_completed)try{const g=l.firebaseConfig;firebase.apps.length||firebase.initializeApp(g);const y=firebase.database();y.ref(`requests/${o.value.id}`).on("value",x=>{const u=x.val();u&&(u.hasOwnProperty("is_completed")&&(o.value.is_completed=!0,v.value=r("ride_completed"),setTimeout(()=>{window.location.reload()},2e3)),u.accept!==1&&(o.value.driver_id=null,v.value=r("searching")),u.driver_id&&o.value.driver_id&&!l.request.driverDetail&&window.location.reload(),o.value.is_later&&u.hasOwnProperty("modified_by_driver")&&(v.value=r("driver_started"),o.value.is_driver_started=1),u.trip_arrived==1&&(v.value=r("driver_arrived"),o.value.is_driver_arrived=!0,o.value.converted_arrived_at||(o.value.converted_arrived_at=H())),u.trip_start==1&&(v.value=r("on_trip"),o.value.is_trip_start=!0,o.value.converted_trip_start_time||(o.value.converted_trip_start_time=H())),(u.is_cancelled||u.is_cancel)&&(o.value.is_cancelled=!0,setTimeout(()=>{window.location.reload()},2e3)),setTimeout(()=>{u.driver_id&&!l.request.driverDetail&&window.location.reload()},3e3))}),(m=o.value.driverDetail)!=null&&m.data&&o.value.is_driver_started&&y.ref(`drivers/driver_${(b=l.request.driverDetail.data)==null?void 0:b.id}`).on("value",x=>{const u=x.val(),D=u.g,w=L(D);u&&w&&(C.value={lat:w.lat,lng:w.lon,type_icon:u.vehicle_type_icon,bearing:u.bearing})})}catch(g){console.error("Error initializing Firebase or fetching settings:",g)}else o.value.is_cancelled?v.value=r("ride_cancelled"):o.value.is_completed?v.value=r("ride_completed"):o.value.is_trip_start?v.value=r("on_trip"):o.value.is_driver_arrived?v.value=r("driver_arrived"):o.value.is_later&&o.value.is_driver_started?v.value=r("driver_started"):o.value.driver_id?v.value=r("accepted"):o.value.is_later?v.value=r("upcoming"):v.value=r("searching")}),l.app_for!="demo"&&(o.value.userDetail&&(Y.value=(z=o.value.userDetail.data)==null?void 0:z.mobile,J.value=(U=o.value.userDetail.data)==null?void 0:U.email),o.value.driverDetail&&(S.value=(A=o.value.driverDetail.data)==null?void 0:A.mobile,O.value=(R=o.value.driverDetail.data)==null?void 0:R.email));const B=f(r("normal"));return o.value.is_bid_ride&&(B.value=r("bidding")),o.value.is_rental&&(B.value=r("rental")),o.value.is_out_station&&(o.value.is_round_trip?B.value=r("round_trip_outstation_trip"):B.value=r("one_way_outstation_trip")),{result:o,modalShow:I,successMessage:K,alertMessage:q,rejected_drivers:s,deleteModal:Q,closeModal:ee,deleteData:W,stops:$,proof:le,rideStatus:v,user_mobile:Y,user_email:J,driver_mobile:S,dispatch_type:B,driver_email:O,dismissMessage:F,driverOption:C,cancelledBy:Z}}},Ce={class:"mb-1"},Te={class:"row"},Se={class:"col-sm-12"},Oe={class:"card"},Le={class:"card-body"},Pe={style:{height:"400px"}},je={class:"col-xxl-4 col-md-6"},Ee={class:"card card-animate border border-dashed border-primary"},Fe={class:"card-body text-center"},He={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ze={class:"mb-3 fs-18"},Ue={class:"fs-14 mb-4"},Ae={key:0,class:"col-xxl-4 col-md-6"},Re={class:"card card-animate border border-dashed border-primary"},Ve={class:"card-body text-center"},Ne={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ge={class:"mb-3 fs-18"},Ie={class:"fs-14 mb-4"},Ke={key:1,class:"col-xxl-4 col-md-6"},Ye={class:"card card-animate border border-dashed border-primary"},Je={class:"card-body text-center"},We={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Ze={class:"mb-3 fs-18"},Qe={class:"fs-14 mb-4"},Xe={class:"col-xxl-4 col-md-6"},$e={class:"card card-animate border border-dashed border-primary"},es={class:"card-body text-center"},ss={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},ts={key:0,class:"fs-14 text-danger"},ls={class:"mb-1"},rs={class:"row"},as={class:"col-xxl-4 col-md-6"},is={class:"card card-animate border border-dashed border-primary"},os={class:"card-body"},ds={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},cs={class:"d-flex align-items-center mb-2 mt-1"},ns={class:"flex-shrink-0"},_s={class:"text-muted mb-0"},us={class:"flex-grow-1 ms-2"},hs={class:"mb-0"},ms={class:"d-flex align-items-center mb-2"},vs={class:"flex-shrink-0"},bs={class:"text-muted mb-0"},fs={class:"flex-grow-1 ms-2"},gs={class:"mb-0"},ys={class:"d-flex align-items-center mb-2"},ps={class:"flex-shrink-0"},xs={class:"text-muted mb-0"},ws={class:"flex-grow-1 ms-2"},ks={class:"mb-0"},qs={key:0},Bs={key:1},Ds={key:2},Ms={class:"d-flex align-items-center mb-2"},Cs={class:"flex-shrink-0"},Ts={class:"text-muted mb-0"},Ss={class:"flex-grow-1 ms-2"},Os={class:"mb-0"},Ls={class:"d-flex align-items-center mb-2"},Ps={class:"flex-shrink-0"},js={class:"text-muted mb-0"},Es={class:"flex-grow-1 ms-2"},Fs={class:"mb-0"},Hs={key:0,class:"d-flex align-items-center mb-2"},zs={class:"flex-shrink-0"},Us={class:"text-muted mb-0"},As={class:"flex-grow-1 ms-2"},Rs={class:"mb-0"},Vs={class:"d-flex align-items-center mb-2"},Ns={class:"flex-shrink-0"},Gs={class:"text-muted mb-0"},Is={class:"flex-grow-1 ms-2"},Ks={class:"mb-0"},Ys={key:1,class:"d-flex align-items-center mb-2"},Js={class:"flex-shrink-0"},Ws={class:"text-muted mb-0"},Zs={class:"flex-grow-1 ms-2"},Qs={class:"mb-0"},Xs={key:2,class:"d-flex align-items-center mb-2"},$s={class:"flex-shrink-0"},et={class:"text-muted mb-0"},st={class:"mb-0"},tt={key:3,class:"d-flex align-items-center mb-2"},lt={class:"flex-shrink-0"},rt={class:"text-muted mb-0"},at={class:"flex-grow-1 ms-2"},it={class:"mb-0"},ot={class:"col-xxl-4 col-md-6"},dt={class:"card card-animate border border-dashed border-primary"},ct={class:"card-body"},nt={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},_t={class:"flex-grow-1 mt-2 text-center"},ut=["src"],ht={class:"d-flex align-items-center mb-2"},mt={class:"flex-shrink-0"},vt={class:"text-muted mb-0"},bt={class:"flex-grow-1 ms-2"},ft={class:"mb-0"},gt={class:"d-flex align-items-center mb-2"},yt={class:"flex-shrink-0"},pt={class:"text-muted mb-0"},xt={class:"flex-grow-1 ms-2"},wt={class:"mb-0"},kt={class:"d-flex align-items-center mb-2"},qt={class:"flex-shrink-0"},Bt={class:"text-muted mb-0"},Dt={class:"flex-grow-1 ms-2"},Mt={class:"mb-0"},Ct={key:0,class:"col-xxl-4 col-md-6"},Tt={class:"card card-animate border border-dashed border-primary"},St={class:"card-body"},Ot={class:"mb-3 flex-grow-1 text-start text-muted badge bg-secondary-subtle fs-18"},Lt={class:"flex-grow-1 mt-2 text-center"},Pt=["src"],jt={class:"d-flex align-items-center mb-2"},Et={class:"flex-shrink-0"},Ft={class:"text-muted mb-0"},Ht={class:"flex-grow-1 ms-2"},zt={class:"mb-0"},Ut={class:"d-flex align-items-center mb-2"},At={class:"flex-shrink-0"},Rt={class:"text-muted mb-0"},Vt={class:"flex-grow-1 ms-2"},Nt={class:"mb-0"},Gt={class:"d-flex align-items-center mb-2"},It={class:"flex-shrink-0"},Kt={class:"text-muted mb-0"},Yt={class:"flex-grow-1 ms-2"},Jt={class:"mb-0"},Wt={class:"mb-1"},Zt={class:"col-lg-6"},Qt={class:"card border mt-3"},Xt={class:"table-responsive"},$t={class:"table align-middle position-relative table-nowrap"},el={class:"table-active"},sl={class:"fs-16"},tl={scope:"col"},ll={scope:"col"},rl={scope:"col"},al={key:0},il={key:0},ol={key:1},dl={key:1},cl={key:0},nl={key:1,class:"text-danger"},_l={key:2},ul={key:3},hl={key:4},ml={key:5},vl={key:6},bl={key:7},fl={key:0},gl={key:1},yl={key:2},pl={key:3},xl={class:"bg-body bg-success-subtle"},wl={colspan:"2",class:"text-success"},kl={class:"text-success"},ql={class:"text-success"},Bl={class:"text-success"},Dl={class:"col-lg-6"},Ml={class:"card border mt-3"},Cl={class:"table-responsive"},Tl={class:"table align-middle position-relative table-nowrap"},Sl={class:"table-active"},Ol={class:"fs-16"},Ll={scope:"col"},Pl={scope:"col"},jl={class:"text-danger"},El={colspan:"2"},Fl={class:"text-danger"},Hl={colspan:"2"},zl={class:"text-danger"},Ul={colspan:"2"},Al={colspan:"2"},Rl={key:0},Vl={key:1},Nl={class:"bg-body bg-success-subtle"},Gl={colspan:"2",class:"text-success"},Il={class:"text-success"},Kl={class:"text-success"},Yl={class:"text-success"},Jl={class:"card"},Wl={class:"mb-1"},Zl={class:"card-body"},Ql={class:"profile-timeline"},Xl={class:"accordion accordion-flush",id:"accordionFlushExample"},$l={class:"accordion-item border-0"},er={class:"accordion-header",id:"headingOne"},sr={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"true","aria-controls":"collapseOne"},tr={class:"d-flex align-items-center"},lr={class:"flex-shrink-0 border border-4 border-success rounded-circle"},rr=["src"],ar={class:"flex-grow-1 ms-3"},ir={class:"fs-15 mb-0 fw-semibold text-primary"},or={class:"fw-normal text-muted"},dr={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},cr={class:"accordion-body ms-5 ps-5 pt-0"},nr={key:0,class:"mb-1 text-warning"},_r={key:1,class:"mb-1 text-success"},ur={class:"accordion-item border-0"},hr={class:"accordion-header",id:"headingTwo"},mr={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseTwo"},vr={class:"d-flex align-items-center"},br={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},fr=["src"],gr={class:"flex-grow-1 ms-3"},yr={class:"fs-15 mb-1 fw-semibold text-danger"},pr={class:"fw-normal"},xr={id:"collapseTwo",class:"accordion-collapse collapse show","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"},wr={class:"accordion-body ms-5 ps-5 pt-0"},kr={class:"mb-1"},qr={class:"badge bg-light text-body fs-14 fw-large"},Br={key:0,class:"accordion-item border-0"},Dr={class:"accordion-header",id:"headingThree"},Mr={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Cr={class:"d-flex align-items-center"},Tr={class:"flex-shrink-0 border border-4 border-success rounded-circle"},Sr=["src"],Or={class:"flex-grow-1 ms-3"},Lr={class:"fs-15 mb-1 fw-semibold text-success"},Pr={class:"fw-normal"},jr={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Er={class:"accordion-body ms-5 ps-5 pt-0"},Fr={class:"mb-1"},Hr={class:"badge bg-light text-body fs-14 fw-large"},zr={key:1,class:"accordion-item border-0"},Ur={class:"accordion-header",id:"headingThree"},Ar={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},Rr={class:"d-flex align-items-center"},Vr={class:"flex-shrink-0 border border-4 border-warning rounded-circle"},Nr=["src"],Gr={class:"flex-grow-1 ms-3"},Ir={class:"fs-15 mb-1 fw-semibold text-warning"},Kr={class:"fw-normal"},Yr={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},Jr={class:"accordion-body ms-5 ps-5 pt-0"},Wr={class:"mb-1"},Zr={key:0,id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},Qr={class:"accordion-body ms-5 ps-5 pt-0"},Xr={class:"mb-1 text-success"},$r={key:2,class:"accordion-item border-0"},ea={class:"accordion-header",id:"headingThree"},sa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#","aria-expanded":"false","aria-controls":"collapseThree"},ta={class:"d-flex align-items-center"},la={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ra=["src"],aa={class:"flex-grow-1 ms-3"},ia={class:"fs-15 mb-1 fw-semibold text-success"},oa={class:"fw-normal"},da={id:"collapseThree",class:"accordion-collapse collapse show","aria-labelledby":"headingThree","data-bs-parent":"#accordionExample"},ca={class:"accordion-body ms-5 ps-5 pt-0"},na={class:"mb-1"},_a={key:3,class:"accordion-item border-0"},ua={class:"accordion-header",id:"headingFour"},ha={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},ma={class:"d-flex align-items-center"},va={class:"flex-shrink-0 border border-4 border-success rounded-circle"},ba=["src"],fa={class:"flex-grow-1 ms-3"},ga={class:"fs-14 mb-0 fw-semibold text-success"},ya={class:"fw-normal text-muted"},pa={key:4,class:"accordion-item border-0"},xa={class:"accordion-header",id:"headingFour"},wa={class:"accordion-button p-2 shadow-none","data-bs-toggle":"collapse",href:"#collapseFour","aria-expanded":"false"},ka={class:"d-flex align-items-center"},qa={class:"flex-shrink-0 border border-4 border-danger rounded-circle"},Ba=["src"],Da={class:"flex-grow-1 ms-3"},Ma={class:"fs-14 mb-0 fw-semibold text-danger"},Ca={class:"fw-normal text-muted"},Ta={key:1,class:"card"},Sa={class:"card-body border-top border-top-dashed p-4"},Oa={class:"text-muted text-uppercase fw-semibold mb-4"},La={class:"card-body"},Pa={class:"text-muted text-uppercase fw-semibold mb-2"},ja={class:"d-flex"},Ea={class:"flex-shrink-0 avatar-sm"},Fa={class:"avatar-title bg-light rounded"},Ha=["src"],za={class:"flex-grow-1 ms-3"},Ua={class:"text-muted mb-1 fst-italic"},Aa={class:"text-muted mb-1 fst-italic"},Ra={class:"fs-11 align-middle text-warning"},Va=["id"],Na={class:"card-body"},Ga={class:"text-muted text-uppercase fw-semibold mb-4"},Ia={class:"d-flex"},Ka={class:"flex-shrink-0 avatar-sm"},Ya={class:"avatar-title bg-light rounded"},Ja=["src"],Wa={class:"flex-grow-1 ms-3"},Za={class:"text-muted mb-1 fst-italic"},Qa={class:"text-muted mb-1 fst-italic"},Xa={class:"fs-11 align-middle text-warning"},$a=["id"],ei={key:2,class:"card"},si={class:"mb-1"},ti={class:"card-body"},li={class:"row"},ri={class:"col-sm-auto"},ai={class:"avatar-xl bg-light rounded p-1",style:{width:"300px",height:"300px"}},ii=["src"],oi={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},di={class:"alert-content"},ci={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},ni={class:"alert-content"};function _i(l,r,o,s,I,le){const $=p("Head"),K=p("PageHeader"),q=p("BCardHeader"),Y=p("googleMap"),J=p("BButton"),S=p("BCardBody"),O=p("BCard"),F=p("BCol"),C=p("BRow"),L=p("BBadge"),ee=p("Layout");return a(),se(ee,null,{default:n(()=>{var W,v,Z,H,Q,B,z,U,A,R,m,b,g,y,T,x,u,D,w,V,P,X,N;return[_($,{title:"View Details"}),_(K,{title:l.$t("view_details"),pageTitle:l.$t("view_details"),pageLink:"/rides-request"},null,8,["title","pageTitle"]),_(C,null,{default:n(()=>[_(F,{lg:"12"},{default:n(()=>[_(O,{"no-body":"",id:"tasksList"},{default:n(()=>[_(q,null,{default:n(()=>[e("h4",Ce,t(l.$t("map_view")),1)]),_:1}),_(S,null,{default:n(()=>[e("div",Te,[r[8]||(r[8]=e("div",{class:"mt-3"},null,-1)),e("div",Se,[e("div",Oe,[e("div",Le,[e("div",Pe,[_(Y,{baseUrl:o.baseUrl,pick_location:{lat:s.result.pick_lat,lng:s.result.pick_lng},drop_location:{lat:s.result.drop_lat,lng:s.result.drop_lng},driver:s.driverOption,stops:s.result.stops,polyline:s.result.poly_line,libraries:["marker","geometry"],map_key:o.googleMapKey},{default:n(()=>[h(t(l.$t("map_loading")),1)]),_:1},8,["baseUrl","pick_location","drop_location","driver","stops","polyline","map_key"])])])])]),e("div",je,[e("div",Ee,[e("div",Fe,[e("h4",He,t(l.$t("pickup_details")),1),r[3]||(r[3]=e("div",{class:"flex-grow-1"},[e("img",{src:ce,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",ze,t(l.$t("location"))+":",1),e("h6",Ue,t(s.result.pick_address),1)])])]),s.stops.length>0?(a(),i("div",Ae,[e("div",Re,[e("div",Ve,[e("h4",Ne,t(l.$t("stop_details")),1),r[4]||(r[4]=e("div",{class:"flex-grow-1"},[e("img",{src:ce,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ge,t(l.$t("location"))+":",1),(a(!0),i(j,null,E(s.stops,(c,k)=>(a(),i("h6",Ie,t(c.address),1))),256))])])])):d("",!0),s.result.drop_address?(a(),i("div",Ke,[e("div",Ye,[e("div",Je,[e("h4",We,t(l.$t("drop_details")),1),r[5]||(r[5]=e("div",{class:"flex-grow-1"},[e("img",{src:qe,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",Ze,t(l.$t("location"))+":",1),e("h6",Qe,t(s.result.drop_address),1)])])])):d("",!0),e("div",Xe,[e("div",$e,[e("div",es,[e("h4",ss,t(l.$t("trip_status"))+" "+t(s.result.is_bid_ride?l.$t("bidding"):""),1),r[7]||(r[7]=e("div",{class:"flex-grow-1 mt-2"},[e("img",{src:Be,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("h5",{class:te(["mt-5 mb-3 fs-18",{"text-danger":s.result.is_cancelled,"text-success":s.result.is_completed,"text-warning":!s.result.is_cancelled&&!s.result.is_completed}])},t(s.rideStatus),3),s.result.is_cancelled?(a(),i("h5",ts,"( "+t(s.cancelledBy(s.result))+" )",1)):d("",!0),!s.result.is_cancelled&&!s.result.is_completed?(a(),se(J,{key:1,class:"btn btn-danger btn-md",type:"button",onClick:r[0]||(r[0]=ge(c=>s.deleteModal(s.result.id),["prevent"]))},{default:n(()=>[r[6]||(r[6]=e("i",{class:"bx bx-show-alt align-center text-muted me-2"},null,-1)),h(" "+t(l.$t("cancel")),1)]),_:1,__:[6]})):d("",!0)])])])])]),_:1})]),_:1})]),_:1})]),_:1}),_(C,null,{default:n(()=>[_(F,{lg:"12"},{default:n(()=>[_(O,{"no-body":"",id:"tasksList"},{default:n(()=>[_(q,null,{default:n(()=>[e("h4",ls,t(l.$t("request_details")),1)]),_:1}),_(S,null,{default:n(()=>{var c,k,M,re,ae;return[e("div",rs,[e("div",as,[e("div",is,[e("div",os,[e("h4",ds,t(l.$t("request")),1),r[9]||(r[9]=e("div",{class:"flex-grow-1 mt-2 text-center"},[e("img",{src:De,class:"img-fluid",style:{width:"55px",height:"55px"}})],-1)),e("div",cs,[e("div",ns,[e("p",_s,t(l.$t("request_id"))+":",1)]),e("div",us,[e("h6",hs,t(s.result.request_number??"-"),1)])]),e("div",ms,[e("div",vs,[e("p",bs,t(l.$t("zone"))+":",1)]),e("div",fs,[e("h6",gs,t(s.result.zone_name??"-"),1)])]),e("div",ys,[e("div",ps,[e("p",xs,t(l.$t("transport_type"))+":",1)]),e("div",ws,[e("h6",ks,[s.result.transport_type==="taxi"?(a(),i("span",qs,t(l.$t("taxi")),1)):s.result.transport_type==="delivery"?(a(),i("span",Bs,t(l.$t("delivery")),1)):(a(),i("span",Ds,t(l.$t("all")),1))])])]),e("div",Ms,[e("div",Cs,[e("p",Ts,t(l.$t("vehicle_type"))+":",1)]),e("div",Ss,[e("h6",Os,t(s.result.vehicle_type_name??"-"),1)])]),e("div",Ls,[e("div",Ps,[e("p",js,t(l.$t("trip_time"))+":",1)]),e("div",Es,[e("h6",Fs,t(s.result.is_later?s.result.converted_trip_start_time:s.result.converted_created_at),1)])]),s.result.rental_package_name!=="-"?(a(),i("div",Hs,[e("div",zs,[e("p",Us,t(l.$t("rental_pack"))+":",1)]),e("div",As,[e("h6",Rs,t(s.result.rental_package_name),1)])])):d("",!0),e("div",Vs,[e("div",Ns,[e("p",Gs,t(l.$t("ride_type"))+":",1)]),e("div",Is,[e("h6",Ks,t(s.dispatch_type),1)])]),s.result.is_round_trip?(a(),i("div",Ys,[e("div",Js,[e("p",Ws,t(l.$t("return_time"))+":",1)]),e("div",Zs,[e("h6",Qs,t(s.result.return_time),1)])])):d("",!0),((c=s.result.requestPreferences.data)==null?void 0:c.length)>0?(a(),i("div",Xs,[e("div",$s,[e("p",et,t(l.$t("preferences"))+":",1)]),(a(!0),i(j,null,E(s.result.requestPreferences.data,(ne,ie)=>{var oe;return a(),i("div",{class:"ms-2",key:ie},[e("h6",st,t(ne.name)+" "+t(ie+1==((oe=s.result.requestPreferences)==null?void 0:oe.data.length)?"":","),1)])}),128))])):d("",!0),s.result.shared_ride?(a(),i("div",tt,[e("div",lt,[e("p",rt,t(l.$t("occupants"))+":",1)]),e("div",at,[e("h6",it,t(s.result.seats_taken),1)])])):d("",!0)])])]),e("div",ot,[e("div",dt,[e("div",ct,[e("h4",nt,t(l.$t("user_details")),1),e("div",_t,[e("img",{src:s.result.userDetail?(k=s.result.userDetail.data)==null?void 0:k.profile_picture:"@assets/images/user.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,ut)]),e("div",ht,[e("div",mt,[e("p",vt,t(l.$t("name"))+":",1)]),e("div",bt,[e("h6",ft,t(s.result.userDetail?(M=s.result.userDetail.data)==null?void 0:M.name:"-"),1)])]),e("div",gt,[e("div",yt,[e("p",pt,t(l.$t("email"))+":",1)]),e("div",xt,[e("h6",wt,t(s.user_email),1)])]),e("div",kt,[e("div",qt,[e("p",Bt,t(l.$t("mobile"))+":",1)]),e("div",Dt,[e("h6",Mt,t(s.user_mobile),1)])])])])]),s.result.driverDetail?(a(),i("div",Ct,[e("div",Tt,[e("div",St,[e("h4",Ot,t(l.$t("driver_details")),1),e("div",Lt,[e("img",{src:s.result.driverDetail?(re=s.result.driverDetail.data)==null?void 0:re.profile_picture:"@assets/images/driver.gif",class:"img-fluid",style:{width:"55px",height:"55px"}},null,8,Pt)]),e("div",jt,[e("div",Et,[e("p",Ft,t(l.$t("name"))+":",1)]),e("div",Ht,[e("h6",zt,t(s.result.driverDetail?(ae=s.result.driverDetail.data)==null?void 0:ae.name:"-"),1)])]),e("div",Ut,[e("div",At,[e("p",Rt,t(l.$t("email"))+":",1)]),e("div",Vt,[e("h6",Nt,t(s.driver_email),1)])]),e("div",Gt,[e("div",It,[e("p",Kt,t(l.$t("mobile"))+":",1)]),e("div",Yt,[e("h6",Jt,t(s.driver_mobile),1)])])])])])):d("",!0)])]}),_:1})]),_:1})]),_:1})]),_:1}),s.result.requestBill?(a(),se(C,{key:0},{default:n(()=>[_(F,{lg:"col-12"},{default:n(()=>[_(O,null,{default:n(()=>[_(q,null,{default:n(()=>[e("h4",Wt,t(l.$t("bill_details")),1)]),_:1}),_(S,null,{default:n(()=>[_(C,null,{default:n(()=>[e("div",Zt,[e("div",Qt,[e("div",Xt,[e("table",$t,[e("thead",el,[e("tr",sl,[e("th",tl,t(l.$t("title")),1),e("th",ll,t(l.$t("description")),1),e("th",rl,t(l.$t("price")),1)])]),s.result.accepted_ride_fare>0?(a(),i("tbody",al,[e("tr",null,[e("td",null,t(l.$t("bid_fare")),1),r[10]||(r[10]=e("td",null," - ",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.accepted_ride_fare),1)]),s.result.requestBill.data.additional_charges_amount>0?(a(),i("tr",il,[e("td",null,t(s.result.requestBill.data.additional_charges_reason),1),r[11]||(r[11]=e("td",null,"-",-1)),e("td",null,t(s.result.requestBill.data.additional_charges_amount),1)])):d("",!0),s.result.requestBill.data.tips>0?(a(),i("tr",ol,[e("td",null,t(l.$t("driver_tips")),1),r[12]||(r[12]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.tips),1)])):d("",!0)])):(a(),i("tbody",dl,[e("tr",null,[e("td",null,t(l.$t("base_price")),1),e("td",null,t(l.$t("for_first"))+" "+t(s.result.requestBill.data.base_distance)+" "+t(l.$t("km")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.base_price),1)]),e("tr",null,[e("td",null,t(l.$t("distance_price")),1),e("td",null,t(s.result.requestBill.data.total_distance)+" "+t(l.$t("km"))+" * "+t(s.result.requested_currency_symbol)+" "+t(s.result.requestBill.data.price_per_distance)+" / "+t(l.$t("km")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.distance_price),1)]),e("tr",null,[e("td",null,t(l.$t("time-price")),1),e("td",null,t(s.result.requestBill.data.total_time)+" "+t(l.$t("min"))+" * "+t(s.result.requested_currency_symbol)+" "+t(s.result.requestBill.data.price_per_time)+" / "+t(l.$t("min")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.time_price),1)]),s.result.requestBill.data.cancellation_fee>0?(a(),i("tr",cl,[e("td",null,t(l.$t("cancellation_fee")),1),r[13]||(r[13]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.cancellation_fee),1)])):d("",!0),e("tr",null,[e("td",null,t(l.$t("tax")),1),r[14]||(r[14]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.service_tax),1)]),s.result.requestBill.data.promo_discount>0?(a(),i("tr",nl,[e("td",null,t(l.$t("promo_discount")),1),r[15]||(r[15]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.promo_discount),1)])):d("",!0),e("tr",null,[e("td",null,t(l.$t("convenience_fee")),1),r[16]||(r[16]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision),1)]),s.result.requestBill.data.additional_charges_amount>0?(a(),i("tr",_l,[e("td",null,t(s.result.requestBill.data.additional_charges_reason),1),r[17]||(r[17]=e("td",null,"-",-1)),e("td",null,t(s.result.requestBill.data.additional_charges_amount),1)])):d("",!0),s.result.requestBill.data.tips>0?(a(),i("tr",ul,[e("td",null,t(l.$t("driver_tips")),1),r[18]||(r[18]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.tips),1)])):d("",!0),s.result.requestBill.data.waiting_charge>0?(a(),i("tr",hl,[e("td",null,t(l.$t("waiting_charge")),1),e("td",null,t(l.$t("For"))+" "+t(s.result.requestBill.data.waiting_charge)+" min",1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.waiting_charge),1)])):d("",!0),s.result.requestBill.data.airport_surge_fee>0&&s.result.transport_type==="taxi"?(a(),i("tr",ml,[e("td",null,t(l.$t("airport_surge_fee")),1),r[19]||(r[19]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.airport_surge_fee),1)])):d("",!0),s.result.requestBill.data.preference_price_total>0?(a(),i("tr",vl,[e("td",null,t(l.$t("preferences_total")),1),r[20]||(r[20]=e("td",null,"-",-1)),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.preference_price_total),1)])):d("",!0),s.result.payment_opt?(a(),i("tr",bl,[e("td",null,t(l.$t("payment_option")),1),r[21]||(r[21]=e("td",null,"-",-1)),s.result.payment_opt==0?(a(),i("td",fl,[_(L,{variant:"success",class:"text-uppercase"},{default:n(()=>[h(t(l.$t("card")),1)]),_:1})])):d("",!0),s.result.payment_opt==1?(a(),i("td",gl,[_(L,{variant:"success",class:"text-uppercase"},{default:n(()=>[h(t(l.$t("cash")),1)]),_:1})])):d("",!0),s.result.payment_opt==2?(a(),i("td",yl,[_(L,{variant:"success",class:"text-uppercase"},{default:n(()=>[h(t(l.$t("wallet")),1)]),_:1})])):d("",!0),s.result.payment_opt==3?(a(),i("td",pl,[_(L,{variant:"success",class:"text-uppercase"},{default:n(()=>[h(t(l.$t("wallet/cash")),1)]),_:1})])):d("",!0)])):d("",!0)])),e("tfoot",xl,[e("tr",null,[e("td",wl,[e("h4",kl,t(l.$t("total")),1)]),e("td",ql,[e("h4",Bl,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.total_amount),1)])])])])])])]),e("div",Dl,[e("div",Ml,[e("div",Cl,[e("table",Tl,[e("thead",Sl,[e("tr",Ol,[e("th",Ll,t(l.$t("title")),1),e("th",Pl,t(l.$t("price")),1)])]),e("tbody",null,[e("tr",jl,[e("td",El,t(l.$t("user_convenience_fee")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision),1)]),e("tr",Fl,[e("td",Hl,t(l.$t("tax")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.service_tax),1)]),e("tr",zl,[e("td",Ul,t(l.$t("convenience_fee")),1),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.admin_commision_from_driver),1)]),e("tr",null,[e("td",Al,[h(t(l.$t("trip_earnings"))+" ("+t(l.$t("included"))+" - ",1),s.result.requestBill.data.driver_tips>0?(a(),i("div",Rl," ("+t(l.$t("driver_tips"))+" -"+t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.driver_tips)+") ",1)):d("",!0),s.result.requestBill.data.airport_surge_fee>0&&s.result.transport_type==="taxi"?(a(),i("div",Vl," ("+t(l.$t("airport_surge_fee"))+" - "+t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.airport_surge_fee)+") ",1)):d("",!0),r[22]||(r[22]=h(") "))]),e("td",null,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.driver_commision),1)])]),e("tfoot",Nl,[e("tr",null,[e("td",Gl,[e("h4",Il,t(l.$t("total")),1)]),e("td",Kl,[e("h4",Yl,t(s.result.requested_currency_symbol)+t(s.result.requestBill.data.total_amount),1)])])])])])])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):d("",!0),e("div",Jl,[_(q,null,{default:n(()=>[e("h4",Wl,t(l.$t("request_timeline")),1)]),_:1}),e("div",Zl,[e("div",Ql,[e("div",Xl,[e("div",$l,[e("div",er,[e("a",sr,[e("div",tr,[e("div",lr,[e("img",{src:s.result.userDetail?(W=s.result.userDetail.data)==null?void 0:W.profile_picture:"/assets/images/default-profile-picture.png",alt:"",class:"avatar-md rounded-circle"},null,8,rr)]),e("div",ar,[e("h6",ir,[h(t(l.$t("ride_created"))+" -",1),e("span",or,t(s.result.converted_created_at),1)])])])])]),!s.result.driver_id&&!s.result.is_cancelled?(a(),i("div",dr,[e("div",cr,[s.result.is_later&&!s.result.onSearch?(a(),i("h6",nr,t(l.$t("yet_to_search")),1)):!s.result.driverDetail&&!s.result.is_cancelled&&!s.result.is_completed?(a(),i("h6",_r,t(l.$t("searching")),1)):d("",!0)])])):d("",!0)]),(a(!0),i(j,null,E(s.rejected_drivers,(c,k)=>(a(),i("div",ur,[e("div",hr,[e("a",mr,[e("div",vr,[e("div",br,[e("img",{src:c.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,fr)]),e("div",gr,[e("h6",yr,[h(t(l.$t("rejected"))+" - ",1),e("span",pr,t(c.converted_created_at),1)])])])])]),e("div",xr,[e("div",wr,[e("h5",kr,t(c.driver_name),1),e("span",null,[e("span",qr,[h(t(c.driver_rating),1),r[23]||(r[23]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])]))),256)),s.result.driverDetail?(a(),i("div",Br,[e("div",Dr,[e("a",Mr,[e("div",Cr,[e("div",Tr,[e("img",{src:(Z=(v=s.result.driverDetail)==null?void 0:v.data)==null?void 0:Z.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Sr)]),e("div",Or,[e("h6",Lr,[h(t(l.$t("accepted"))+" - ",1),e("span",Pr,t(s.result.converted_accepted_at),1)])])])])]),e("div",jr,[e("div",Er,[e("h5",Fr,t((H=s.result.driverDetail.data)==null?void 0:H.name),1),e("span",null,[e("span",Hr,[h(t((Q=s.result.driverDetail.data)==null?void 0:Q.rating),1),r[24]||(r[24]=e("i",{class:"mdi mdi-star text-warning ms-1"},null,-1))])])])])])):d("",!0),s.result.is_driver_arrived&&!s.result.instant_ride?(a(),i("div",zr,[e("div",Ur,[e("a",Ar,[e("div",Rr,[e("div",Vr,[e("img",{src:(z=(B=s.result.driverDetail)==null?void 0:B.data)==null?void 0:z.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Nr)]),e("div",Gr,[e("h6",Ir,[h(t(l.$t("arrived"))+" - ",1),e("span",Kr,t(s.result.converted_arrived_at),1)])])])])]),e("div",Yr,[e("div",Jr,[e("h5",Wr,t((A=(U=s.result.driverDetail)==null?void 0:U.data)==null?void 0:A.name),1)])]),s.result.is_trip_start?d("",!0):(a(),i("div",Zr,[e("div",Qr,[e("h6",Xr,t(l.$t("waiting")),1)])]))])):d("",!0),s.result.is_trip_start?(a(),i("div",$r,[e("div",ea,[e("a",sa,[e("div",ta,[e("div",la,[e("img",{src:(m=(R=s.result.driverDetail)==null?void 0:R.data)==null?void 0:m.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ra)]),e("div",aa,[e("h6",ia,[h(t(s.result.transport_type=="delivery"?l.$t("tripLoaded"):l.$t("tripStarted"))+" - ",1),e("span",oa,t(s.result.converted_trip_start_time),1)])])])])]),e("div",da,[e("div",ca,[e("h5",na,t((g=(b=s.result.driverDetail)==null?void 0:b.data)==null?void 0:g.name),1)])])])):d("",!0),s.result.is_completed?(a(),i("div",_a,[e("div",ua,[e("a",ha,[e("div",ma,[e("div",va,[e("img",{src:(T=(y=s.result.driverDetail)==null?void 0:y.data)==null?void 0:T.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,ba)]),e("div",fa,[e("h6",ga,[h(t(s.result.transport_type=="delivery"?l.$t("tripUnloaded"):l.$t("ride_completed"))+" -",1),e("span",ya,t(s.result.converted_completed_at),1)])])])])])])):d("",!0),s.result.is_cancelled?(a(),i("div",pa,[e("div",xa,[e("a",wa,[e("div",ka,[e("div",qa,[e("img",{src:(u=(x=s.result.userDetail)==null?void 0:x.data)==null?void 0:u.profile_picture,alt:"",class:"avatar-md rounded-circle"},null,8,Ba)]),e("div",Da,[e("h6",Ma,[h(t(l.$t("ride_cancelled"))+" -",1),e("span",Ca,t(s.result.converted_cancelled_at),1)])])])])])])):d("",!0)])])])]),s.result.ride_user_rating>0||s.result.ride_driver_rating>0?(a(),i("div",Ta,[e("div",Sa,[e("div",null,[e("h6",Oa,t(l.$t("ratings")),1),e("div",La,[e("h6",Pa,t(l.$t("user_ratings")),1),e("div",ja,[e("div",Ea,[e("div",Fa,[e("img",{src:(w=(D=s.result.userDetail)==null?void 0:D.data)==null?void 0:w.profile_picture,alt:"User",height:"30"},null,8,Ha)])]),e("div",za,[e("div",null,[e("p",Ua,t(s.result.userDetail?(V=s.result.userDetail.data)==null?void 0:V.name:"-"),1),e("p",Aa,t(s.result.ride_user_comment),1),e("div",Ra,[(a(),i(j,null,E(5,c=>e("i",{key:c,id:"id-"+c,class:te({"ri-star-fill":c<=s.result.ride_user_rating,"ri-star-line":c>s.result.ride_user_rating})},null,10,Va)),64))])])])])]),e("div",Na,[e("h6",Ga,t(l.$t("driver_ratings")),1),e("div",Ia,[e("div",Ka,[e("div",Ya,[e("img",{src:(X=(P=s.result.driverDetail)==null?void 0:P.data)==null?void 0:X.profile_picture,alt:"Driver",height:"30"},null,8,Ja)])]),e("div",Wa,[e("div",null,[e("p",Za,t(s.result.driverDetail?(N=s.result.driverDetail.data)==null?void 0:N.name:"-"),1),e("p",Qa,t(s.result.ride_driver_comment),1),e("div",Xa,[(a(),i(j,null,E(5,(c,k)=>e("i",{key:c,id:"id-"+c,class:te({"ri-star-fill":c<=s.result.ride_driver_rating,"ri-star-line":c>s.result.ride_driver_rating})},null,10,$a)),64))])])])])])])])])):d("",!0),s.proof.length>0?(a(),i("div",ei,[_(q,null,{default:n(()=>[e("h4",si,t(l.$t("request_proof")),1)]),_:1}),e("div",ti,[e("div",li,[(a(!0),i(j,null,E(s.proof,(c,k)=>(a(),i("div",ri,[e("div",ai,[e("img",{src:c.proof_image,style:{width:"300px",height:"300px"},class:"avatar-xl img-fluid rounded m-auto",alt:"..."},null,8,ii)])]))),256))])])])):d("",!0),e("div",null,[s.successMessage?(a(),i("div",oi,[e("div",di,[r[25]||(r[25]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),r[26]||(r[26]=h()),r[27]||(r[27]=e("strong",null,"Success",-1)),h(" - "+t(s.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:r[1]||(r[1]=(...c)=>s.dismissMessage&&s.dismissMessage(...c)),"aria-label":"Close Success Message"})])])):d("",!0),s.alertMessage?(a(),i("div",ci,[e("div",ni,[r[28]||(r[28]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),r[29]||(r[29]=h()),r[30]||(r[30]=e("strong",null,"Alert",-1)),h(" - "+t(s.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:r[2]||(r[2]=(...c)=>s.dismissMessage&&s.dismissMessage(...c)),"aria-label":"Close Alert Message"})])])):d("",!0)])]}),_:1})}const xi=_e(Me,[["render",_i]]);export{xi as default};
