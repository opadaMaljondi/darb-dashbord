import{_ as L,Z as N,O as R,D,r as w,T,g as n,i as _,y as q,w as i,a as C,N as P,l as d,k as g,n as o,z as p,J as c,C as b,t as k,M as S,p as U}from"./vendor-8caf5d52.js";import{L as A}from"./main-cc7bd0ce.js";import{P as I}from"./page-header-18309276.js";import{i as O}from"./vehicletypeIcon-0a5dbd69.js";import{I as j}from"./ImageUpload-fc3b7bc8.js";import{F as x}from"./FormValidation-f14f6003.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const z={components:{Layout:A,PageHeader:I,Head:N,Multiselect:R,imageUpload:O,ImageUpload:j,FormValidation:x},props:{owner:Object,successMessage:String,alertMessage:String,app_for:String},setup(e){const{t:s}=D(),u=w({}),t=w(null),m=T({password:e.owner&&e.owner.password||"",confirm_password:e.owner&&e.owner.password||""}),v=w(e.successMessage||""),y=w(e.alertMessage||""),f={password:{required:!0},confirm_password:{required:!0,sameAs:"password"}},M=()=>{const r={};for(const a in f)f[a].required&&!m[a]&&(r[a]=s("this_field_is_required"));return r};return{form:m,successMessage:v,alertMessage:y,errors:u,handleSubmit:async()=>{if(u.value=M(),Object.keys(u.value).length===0)try{const r=new FormData;r.append("password",m.password),r.append("confirm_password",m.confirm_password);let a;e.owner?a=await C.post(`/manage-owners/password/update/${e.owner.id}`,r):a=await C.post("store",r),a.status===200||a.status===201?(v.value=a.data.successMessage,m.reset(),P.get("/manage-owners")):console.error(s("unexpected_response_status"),a.status)}catch(r){console.error(s("error_handling_form_submission"),r),r.response&&r.response.status===422?u.value=r.response.data.errors:console.error(s("an_unexpected_error_occurred"),r)}},validationRef:t,validationRules:f}}},E={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},J={class:"alert-content"},Z={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},G={class:"alert-content"},K={class:"row"},Q={class:"col-sm-6"},W={class:"mb-3"},X={for:"password",class:"form-label"},Y=["placeholder"],$={key:0,class:"text-danger"},ss={class:"col-sm-6"},es={class:"mb-3"},os={for:"confirm_password",class:"form-label"},ts=["placeholder"],rs={key:0,class:"text-danger"},as={class:"col-sm-12 text-end"},ns={type:"submit",class:"btn btn-primary"};function ls(e,s,u,t,m,v){const y=n("Head"),f=n("PageHeader"),M=n("tab"),B=n("BCardHeader"),r=n("FormValidation"),a=n("BCardBody"),h=n("BCard"),V=n("BCol"),H=n("BRow"),F=n("Layout");return _(),q(F,null,{default:i(()=>[d(y,{title:"manage-owners"}),d(f,{title:e.manage-e.owners?e.$t("edit"):e.$t("create"),pageTitle:e.$t("owner"),pageLink:"/manage-owners"},null,8,["title","pageTitle"]),d(H,null,{default:i(()=>[d(V,{lg:"12"},{default:i(()=>[d(h,{"no-body":"",id:"tasksList"},{default:i(()=>[d(B,{class:"border-0"},{default:i(()=>[d(M),t.successMessage?(_(),g("div",E,[o("div",J,[s[5]||(s[5]=o("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[6]||(s[6]=p()),s[7]||(s[7]=o("strong",null,"Success",-1)),p(" - "+c(t.successMessage)+" ",1),o("button",{type:"button",class:"btn-close btn-close-success",onClick:s[0]||(s[0]=(...l)=>e.dismissMessage&&e.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):b("",!0),t.alertMessage?(_(),g("div",Z,[o("div",G,[s[8]||(s[8]=o("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[9]||(s[9]=p()),s[10]||(s[10]=o("strong",null,"Alert",-1)),p(" - "+c(t.alertMessage)+" ",1),o("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[1]||(s[1]=(...l)=>e.dismissMessage&&e.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):b("",!0)]),_:1}),d(a,{class:"border border-dashed border-end-0 border-start-0"},{default:i(()=>[o("form",{onSubmit:s[4]||(s[4]=U((...l)=>t.handleSubmit&&t.handleSubmit(...l),["prevent"])),enctype:"multipart/form-data"},[d(r,{form:t.form,rules:t.validationRules,ref:"validationRef"},{default:i(()=>[o("div",K,[o("div",Q,[o("div",W,[o("label",X,[p(c(e.$t("password"))+" ",1),s[11]||(s[11]=o("span",{class:"text-danger"},"*",-1))]),k(o("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[2]||(s[2]=l=>t.form.password=l),placeholder:e.$t("enter_password")},null,8,Y),[[S,t.form.password]]),t.errors.password?(_(),g("span",$,c(t.errors.password),1)):b("",!0)])]),o("div",ss,[o("div",es,[o("label",os,[p(c(e.$t("confirm_password"))+" ",1),s[12]||(s[12]=o("span",{class:"text-danger"},"*",-1))]),k(o("input",{type:"password",class:"form-control",id:"confirm_password","onUpdate:modelValue":s[3]||(s[3]=l=>t.form.confirm_password=l),placeholder:e.$t("confirm_password")},null,8,ts),[[S,t.form.confirm_password]]),t.errors.confirm_password?(_(),g("span",rs,c(t.errors.confirm_password),1)):b("",!0)])]),o("div",as,[o("button",ns,c(e.$t("submit")),1)])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ws=L(z,[["render",ls]]);export{ws as default};
