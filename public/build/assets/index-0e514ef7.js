import{_ as H,Z as R,O as N,D as P,T,r as p,g as _,i as g,y as C,w as n,W as U,a as D,N as O,l as r,n as e,z as v,J as i,C as B,t as h,X as x,M as S,k,L as E,F as j,p as A}from"./vendor-54d6cb1e.js";import{L as I}from"./main-b839be26.js";import{P as q}from"./page-header-ff719701.js";import{P as z}from"./Pagination-b5e3d5c9.js";import{i as J}from"./imageUpload-bad454a2.js";import{F as W}from"./FormValidation-cabc17c8.js";import{_ as X}from"./google-map-ba92cb17.js";import"./footer-7e4f68d9.js";import"./app-cb082573.js";/* empty css                                                    */const Z=""+new URL("open-street-map-8e53db0a.png",import.meta.url).href;const G={components:{Layout:I,PageHeader:q,Head:R,Pagination:z,Multiselect:N,FormValidation:W,imageUpload:J},props:{successMessage:String,alertMessage:String,app_for:String,settings:Object,validate:Function},setup(s){console.log(s.settings);const{t}=P(),l=T({map_type:s.settings&&s.settings.map_type||"",google_map_key:s.settings&&s.settings.google_map_key||"",google_map_key_for_distance_matrix:s.settings&&s.settings.google_map_key_for_distance_matrix||""}),o={map_type:{required:!0}},w=p(null),u=p({}),f=p(s.successMessage||""),c=p(s.alertMessage||""),y=p();return{form:l,successMessage:f,alertMessage:c,handleSubmit:async()=>{if(s.app_for=="demo"){U.fire(t("error"),t("you_are_not_authorised"),"error");return}if(u.value=w.value.validate(),!(Object.keys(u.value).length>0))try{let d,m=new FormData;m.append("map_type",l.map_type),m.append("enable_vase_map",l.enable_vase_map),m.append("google_map_key",l.google_map_key),m.append("google_map_key_for_distance_matrix",l.google_map_key_for_distance_matrix),d=await D.post("/map-setting/update",m),d.status===201?(f.value=t("map_settings_created_successfully"),l.reset(),O.get("/map-setting")):c.value=t("failed_to_create_map_settings")}catch(d){d.response&&d.response.status===422?u.value=d.response.data.errors:(console.error(t("error_creating_map_settings"),d),c.value=t("failed_to_create_map_settings_catch"))}},dismissMessage:()=>{f.value="",c.value=""},selectedMapType:p(null),validationRules:o,validationRef:w,errors:u,map_type:y}},mounted(){const s=document.getElementById("google_map_key");new MutationObserver(l=>{l.forEach(o=>{o.attributeName==="type"&&s.type!=="password"&&(s.type="password")})}).observe(s,{attributes:!0})}},K={class:"alert bg-warning border-warning fs-18",role:"alert"},Q={class:"border-0"},Y={class:"row"},$={class:"col-lg-6"},ee={class:"mb-5"},te={class:"card rounded border border-2 shadow-lg",style:{width:"19rem"}},se={class:"google_map"},oe={class:"text-center mt-3"},ae={class:"form-check form-check-success",style:{"margin-left":"140px"}},le=["disabled"],ne={class:"col-lg-6"},re={class:"mb-5"},ie={class:"card rounded border border-2 shadow-lg",style:{width:"19rem"}},de={class:"open-street-map"},_e={class:"text-center mt-3"},me={class:"form-check form-check-success",style:{"margin-left":"140px"}},ce=["disabled"],pe={class:"border-0"},ge={class:"row"},ue={class:"col-sm-6"},fe={class:"mb-3"},ye={for:"google_map_key",class:"form-label"},be=["readonly","placeholder"],ve={class:"col-sm-6"},he={class:"mb-3"},ke={for:"google_map_key_for_distance_matrix",class:"form-label"},we=["placeholder"],Me={class:"col-lg-12"},Be={class:"text-end"},Ce={type:"submit",class:"btn btn-primary"},xe={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Se={class:"alert-content"},Ve={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Le={class:"alert-content"};function Fe(s,t,l,o,w,u){const f=_("Head"),c=_("PageHeader"),y=_("BCardHeader"),b=_("BCard"),M=_("BCardBody"),d=_("FormValidation"),m=_("BCol"),V=_("BRow"),L=_("Layout");return g(),C(L,null,{default:n(()=>[r(f,{title:"Map Settings"}),r(c,{title:s.$t("map_settings"),pageTitle:s.$t("map_settings")},null,8,["title","pageTitle"]),r(V,null,{default:n(()=>[l.app_for==="demo"?(g(),C(b,{key:0,"no-body":"",id:"tasksList"},{default:n(()=>[r(y,{class:"border-0"},{default:n(()=>[e("div",K,[e("strong",null,[v(i(s.$t("note"))+" : ",1),e("em",null,i(s.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):B("",!0),r(m,{lg:"12"},{default:n(()=>[e("form",{onSubmit:t[4]||(t[4]=A((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"]))},[r(d,{form:o.form,rules:o.validationRules,ref:"validationRef"},{default:n(()=>[r(b,{"no-body":"",id:"tasksList"},{default:n(()=>[r(y,null,{default:n(()=>[e("h4",Q,i(s.$t("choose_map_type")),1)]),_:1}),r(M,null,{default:n(()=>[e("div",Y,[e("div",$,[e("div",ee,[e("div",te,[e("label",se,[t[7]||(t[7]=e("img",{class:"rounded p-2",alt:"google_map",src:X,width:"100%",height:"250px"},null,-1)),e("h5",oe,i(s.$t("google_map")),1),e("div",ae,[h(e("input",{type:"radio",disabled:l.app_for==="demo",name:"map_type",value:"google_map",class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=a=>o.form.map_type=a)},null,8,le),[[x,o.form.map_type]])])])])])]),e("div",ne,[e("div",re,[e("div",ie,[e("label",de,[t[8]||(t[8]=e("img",{class:"rounded p-2",alt:"open-street-map",src:Z,width:"100%",height:"250px"},null,-1)),e("h5",_e,i(s.$t("open_Street")),1),e("div",me,[h(e("input",{type:"radio",disabled:l.app_for==="demo",name:"map_type",value:"open_street_map",class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=a=>o.form.map_type=a)},null,8,ce),[[x,o.form.map_type]])])])])])])])]),_:1})]),_:1}),r(b,null,{default:n(()=>[r(y,null,{default:n(()=>[e("h4",pe,i(s.$t("google_map_apis")),1)]),_:1}),r(M,null,{default:n(()=>[e("div",ge,[e("div",ue,[e("div",fe,[e("label",ye,[v(i(s.$t("google_map_key_for_web_apps"))+" ",1),t[9]||(t[9]=e("span",{class:"text-danger"},"*",-1))]),h(e("input",{type:"password",readonly:l.app_for==="demo",class:"form-control",placeholder:s.$t("enter_google_map_key_for_web_apps"),id:"google_map_key","onUpdate:modelValue":t[2]||(t[2]=a=>o.form.google_map_key=a)},null,8,be),[[S,o.form.google_map_key]])])]),e("div",ve,[e("div",he,[e("label",ke,i(s.$t("google_map_key_for_distance_matrix")),1),h(e("input",{type:"password",class:"form-control",placeholder:s.$t("enter_google_map_key_for_distance_matrix"),id:"google_map_key_for_distance_matrix","onUpdate:modelValue":t[3]||(t[3]=a=>o.form.google_map_key_for_distance_matrix=a)},null,8,we),[[S,o.form.google_map_key_for_distance_matrix]]),(g(!0),k(j,null,E(o.errors.name,(a,F)=>(g(),k("span",{key:F,class:"text-danger"},i(a),1))),128))])]),e("div",Me,[e("div",Be,[e("button",Ce,i(l.settings?s.$t("update"):s.$t("save")),1)])])])]),_:1})]),_:1})]),_:1},8,["form","rules"])],32)]),_:1})]),_:1}),e("div",null,[o.successMessage?(g(),k("div",xe,[e("div",Se,[t[10]||(t[10]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[11]||(t[11]=e("strong",null,"Success",-1)),v(" - "+i(o.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:t[5]||(t[5]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):B("",!0),o.alertMessage?(g(),k("div",Ve,[e("div",Le,[t[12]||(t[12]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),t[13]||(t[13]=e("strong",null,"Alert",-1)),v(" - "+i(o.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:t[6]||(t[6]=(...a)=>o.dismissMessage&&o.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):B("",!0)])]),_:1})}const Ae=H(G,[["render",Fe]]);export{Ae as default};
