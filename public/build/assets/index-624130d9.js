import{_ as N,Z as x,O as R,D as T,T as D,r as y,g as u,i as r,k as l,l as _,w as p,a6 as O,F as k,a as H,W as B,N as j,y as A,n as e,z as f,J as n,C as b,t as v,H as Z,p as L,M as z,L as w}from"./vendor-8caf5d52.js";import{L as E}from"./main-cc7bd0ce.js";import{P as I}from"./page-header-18309276.js";import{P as J}from"./Pagination-0518e4bd.js";import{F as W}from"./FormValidation-f14f6003.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const q={components:{Layout:E,PageHeader:I,Head:x,Pagination:J,Multiselect:R,FormValidation:W},props:{successMessage:String,app_for:String,alertMessage:String,settings:Object,validate:Function},setup(o){const{t:s}=T(),d=D({peak_zone_radius:o.settings.peak_zone_radius||0,peak_zone_duration:o.settings.peak_zone_duration||0,peak_zone_history_duration:o.settings.peak_zone_history_duration||0,peak_zone_ride_count:o.settings.peak_zone_ride_count||0,distance_price_percentage:o.settings.distance_price_percentage||0}),t=y(o.settings.enable_peak_zone_feature==1),S={},M=y(null),g=y({}),h=y(o.successMessage||""),m=y(o.alertMessage||"");return{form:d,successMessage:h,alertMessage:m,handleSubmit:async()=>{if(o.app_for=="demo"){B.fire(s("error"),s("you_are_not_authorised"),"error");return}if(g.value=M.value.validate(),!(Object.keys(g.value).length>0))try{let i;o.settings?i=await H.post("/peakzone-setting/update",d.data()):m.value=s("failed_to_update_peak_zone_settings"),i.status===200?(h.value=s("peak_zone_settings_updated_successfully"),d.reset(),j.get("/peakzone-setting")):m.value=s("failed_to_update_peak_zone_settings")}catch(i){i.response&&i.response.status===422?g.value=i.response.data.errors:(console.error(s("failed_to_update_peak_zone_settings"),i),m.value=s("failed_to_update_peak_zone_settings"))}},dismissMessage:()=>{h.value="",m.value=""},validationRules:S,validationRef:M,enable_peak_zone_feature:t,handleUpdate:async()=>{try{await H.post("/peakzone-setting/update",{enable_peak_zone_feature:t.value?0:1}),t.value=!t.value,B.fire(s("success"),s("peak_zone_settings_updated_successfully"),"success")}catch{B.fire(s("error"),s("failed_to_update_peak_zone_settings"),"error")}},errors:g}}},G={class:"alert bg-warning border-warning fs-18",role:"alert"},K={class:"row"},Q={class:"col-sm-6"},X={class:"mb-3"},Y={class:"border rounded"},$={class:"row"},ee={class:"col"},se={class:"form-check-label p-2 mt-2",for:"enable_peak_zone_feature"},te={class:"col"},oe={class:"form-check form-switch form-switch-md float-end p-2"},ae=["disabled"],ne={key:0,class:"row"},re={class:"col-sm-6"},le={class:"mb-3"},de={for:"peak_zone_ride_count",class:"form-label"},ie={class:"input-group"},_e=["readonly","placeholder"],ce={class:"col-sm-6"},ue={class:"mb-3"},pe={for:"peak_zone_radius",class:"form-label"},me={class:"input-group"},fe=["readonly","placeholder"],ge={key:1,class:"row"},ke={class:"col-sm-6"},be={class:"mb-3"},ve={for:"peak_zone_history_duration",class:"form-label"},he=["readonly","placeholder"],ye={class:"col-sm-6"},ze={class:"mb-3"},we={for:"peak_zone_duration",class:"form-label"},Me={class:"input-group"},Ce=["readonly","placeholder"],Be={key:0,class:"row"},Se={class:"col-sm-6"},Ve={class:"mb-3"},Ue={for:"distance_price_percentage",class:"form-label"},He={href:"",class:"text-success","data-bs-toggle":"modal","data-bs-target":"#surge"},Le={class:"input-group"},Pe=["readonly","placeholder"],Fe={class:"col-lg-12"},Ne={class:"text-end"},xe={type:"submit",class:"btn btn-primary"},Re={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},Te={class:"alert-content"},De={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},Oe={class:"alert-content"};function je(o,s,d,t,S,M){const g=u("Head"),h=u("PageHeader"),m=u("BCardHeader"),C=u("BCard"),V=u("FormValidation"),U=u("BCardBody"),i=u("BCol"),P=u("BRow"),F=u("Layout");return r(),l(k,null,[_(F,null,{default:p(()=>[_(g,{title:o.$t("peakzone-setting")},null,8,["title"]),_(h,{title:o.$t("peakzone-setting"),pageTitle:o.$t("peakzone-setting")},null,8,["title","pageTitle"]),_(P,null,{default:p(()=>[d.app_for==="demo"?(r(),A(C,{key:0,"no-body":"",id:"tasksList"},{default:p(()=>[_(m,{class:"border-0"},{default:p(()=>[e("div",G,[e("strong",null,[f(n(o.$t("note"))+" : ",1),e("em",null,n(o.$t("actions_restricted_due_to_demo_mode")),1)])])]),_:1})]),_:1})):b("",!0),_(i,{lg:"12"},{default:p(()=>[_(C,{"no-body":"",id:"tasksList"},{default:p(()=>[_(m,{class:"border-0"},{default:p(()=>[e("h4",null,n(o.$t("peakzone-setting")),1)]),_:1}),_(U,{class:"border border-dashed border-end-0 border-start-0"},{default:p(()=>[e("form",{onSubmit:s[7]||(s[7]=L((...a)=>t.handleSubmit&&t.handleSubmit(...a),["prevent"]))},[_(V,{form:t.form,rules:t.validationRules,ref:"validationRef"},{default:p(()=>[e("div",K,[e("div",Q,[e("div",X,[e("div",Y,[e("div",$,[e("div",ee,[e("label",se,n(o.$t("enable_peak_zone_feature")),1)]),e("div",te,[e("div",oe,[v(e("input",{disabled:d.app_for=="demo",type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=a=>t.enable_peak_zone_feature=a),class:"form-check-input",id:"enable_peak_zone_feature",onClick:s[1]||(s[1]=L((...a)=>t.handleUpdate&&t.handleUpdate(...a),["prevent"]))},null,8,ae),[[Z,t.enable_peak_zone_feature]])])])])])])])]),t.enable_peak_zone_feature?(r(),l("div",ne,[e("div",re,[e("div",le,[e("label",de,[f(n(o.$t("peak_zone_ride_count"))+" ",1),s[10]||(s[10]=e("span",{class:"text-danger"},"*",-1))]),e("div",ie,[v(e("input",{type:"number",readonly:d.app_for==="demo",class:"form-control",placeholder:o.$t("enter_peak_zone_ride_count"),id:"peak_zone_ride_count","onUpdate:modelValue":s[2]||(s[2]=a=>t.form.peak_zone_ride_count=a)},null,8,_e),[[z,t.form.peak_zone_ride_count]]),(r(!0),l(k,null,w(t.errors.peak_zone_ride_count,(a,c)=>(r(),l("span",{key:c,class:"text-danger"},n(a),1))),128))])])]),e("div",ce,[e("div",ue,[e("label",pe,[f(n(o.$t("peak_zone_radius"))+" ",1),s[11]||(s[11]=e("span",{class:"text-danger"},"*",-1))]),e("div",me,[v(e("input",{type:"number",readonly:d.app_for==="demo",class:"form-control",placeholder:o.$t("enter_peak_zone_radius"),id:"peak_zone_radius","onUpdate:modelValue":s[3]||(s[3]=a=>t.form.peak_zone_radius=a)},null,8,fe),[[z,t.form.peak_zone_radius]]),(r(!0),l(k,null,w(t.errors.peak_zone_ride_count,(a,c)=>(r(),l("span",{key:c,class:"text-danger"},n(a),1))),128))])])])])):b("",!0),t.enable_peak_zone_feature?(r(),l("div",ge,[e("div",ke,[e("div",be,[e("label",ve,[f(n(o.$t("peak_zone_history_duration"))+" ",1),s[12]||(s[12]=e("span",{class:"text-danger"},"*",-1))]),v(e("input",{type:"number",readonly:d.app_for==="demo",class:"form-control",placeholder:o.$t("enter_peak_zone_history_duration"),id:"peak_zone_history_duration","onUpdate:modelValue":s[4]||(s[4]=a=>t.form.peak_zone_history_duration=a)},null,8,he),[[z,t.form.peak_zone_history_duration]]),(r(!0),l(k,null,w(t.errors.peak_zone_history_duration,(a,c)=>(r(),l("span",{key:c,class:"text-danger"},n(a),1))),128))])]),e("div",ye,[e("div",ze,[e("label",we,[f(n(o.$t("peak_zone_duration"))+" ",1),s[13]||(s[13]=e("span",{class:"text-danger"},"*",-1))]),e("div",Me,[v(e("input",{type:"number",readonly:d.app_for==="demo",class:"form-control",placeholder:o.$t("enter_peak_zone_duration"),id:"peak_zone_duration","onUpdate:modelValue":s[5]||(s[5]=a=>t.form.peak_zone_duration=a)},null,8,Ce),[[z,t.form.peak_zone_duration]]),(r(!0),l(k,null,w(t.errors.peak_zone_duration,(a,c)=>(r(),l("span",{key:c,class:"text-danger"},n(a),1))),128))])])]),t.enable_peak_zone_feature?(r(),l("div",Be,[e("div",Se,[e("div",Ve,[e("label",Ue,[f(n(o.$t("distance_price_percentage"))+" ",1),s[14]||(s[14]=e("span",{class:"text-danger"},"*",-1)),e("a",He,n(o.$t("how_it_works")),1)]),e("div",Le,[v(e("input",{type:"number",readonly:d.app_for==="demo",class:"form-control",placeholder:o.$t("enter_distance_price_percentage"),id:"distance_price_percentage","onUpdate:modelValue":s[6]||(s[6]=a=>t.form.distance_price_percentage=a)},null,8,Pe),[[z,t.form.distance_price_percentage]]),(r(!0),l(k,null,w(t.errors.distance_price_percentage,(a,c)=>(r(),l("span",{key:c,class:"text-danger"},n(a),1))),128))])])])])):b("",!0),e("div",Fe,[e("div",Ne,[e("button",xe,n(d.settings?o.$t("update"):o.$t("save")),1)])])])):b("",!0)]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",null,[t.successMessage?(r(),l("div",Re,[e("div",Te,[s[15]||(s[15]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[16]||(s[16]=e("strong",null,"Success",-1)),f(" - "+n(t.successMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-success",onClick:s[8]||(s[8]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):b("",!0),t.alertMessage?(r(),l("div",De,[e("div",Oe,[s[17]||(s[17]=e("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),s[18]||(s[18]=e("strong",null,"Alert",-1)),f(" - "+n(t.alertMessage)+" ",1),e("button",{type:"button",class:"btn-close btn-close-danger",onClick:s[9]||(s[9]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):b("",!0)])]),_:1}),s[19]||(s[19]=O('<div id="surge" class="modal fade" tabindex="-1" aria-labelledby="surgeLabel" aria-hidden="true" style="display:none;"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><h5 class="fs-15"> Peak Zone Surge Percentage </h5><p class="text-muted"> The percentage with which the price per distance increases when the ride is created within the peakzone </p></div></div></div></div>',1))],64)}const Ge=N(q,[["render",je]]);export{Ge as default};
