import{_ as xs,Z as ks,O as ws,P as Cs,B as Ms,r,D as Bs,T as G,o as Ss,g as v,U as Ds,i as d,y as Q,w as m,a as S,l as _,n as s,J as t,z as b,t as O,K as Ps,k as c,L as D,F as w,q as ss,C as f,M as zs,p as Us}from"./vendor-8caf5d52.js";import{L as Fs}from"./main-cc7bd0ce.js";import{P as Ns}from"./page-header-18309276.js";import{P as Ls}from"./Pagination-0518e4bd.js";import{s as Rs}from"./search-769502e2.js";import{s as Os}from"./searchbar-e42e22fa.js";import{g as es}from"./getChartColorsArray-cf54c295.js";import{_ as Vs}from"./search-file-ab3e1046.js";import{_ as As}from"./avatar-3-6e0817a3.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const Is={components:{Layout:Fs,PageHeader:Ns,Head:ks,Pagination:Ls,Multiselect:ws,flatPickr:Cs,Link:Ms,search:Rs,searchbar:Os,getChartColorsArray:es},props:{successMessage:String,alertMessage:String,driver:Object,currency:Array,driver_date:String,completed_ride_count:Number,canceled_ride_count:Number,acceptance_rate:Number,cancellation_rate:Number,app_for:String,map_key:String,earnings_data:Object,default_lat:String,default_lng:String,trip_data:Object,firebaseSettings:Object,earningsChartData:Object,disable_options:String,tripsChartData:{type:Object,default:()=>({months:[],completed:[],cancelled:[]})}},setup(a){const e=r(null),{t:i}=Bs(),o=r([]),ts=r([]),V=a.disable_options;console.log("disable_options"),console.log(V);const A=(Math.max(...a.earningsChartData.values||[])*1.2).toFixed(2),I=r([{name:i("earnings"),data:a.earningsChartData.values||[]}]),y=r({chart:{height:100,type:"area",toolbar:"false"},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:a.earningsChartData.months||[]},yaxis:{labels:{formatter:function(n){return n.toFixed(2)}},tickAmount:5,min:0,max:Number(A)},colors:es('[ "--vz-success"]'),fill:{opacity:.5,colors:["#0AB39C","#F06548"],type:"solid"}}),P=n=>a.app_for&&a.app_for=="demo"?"***********":n.mobile_number,k=n=>a.app_for&&a.app_for=="demo"?"***********":n.email,z=r([{name:i("completed"),type:"bar",data:a.tripsChartData.completed||[]},{name:i("cancelled"),type:"bar",data:a.tripsChartData.cancelled||[]}]),E=r({chart:{height:374,type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",dashArray:[0,3,0],width:[0,1,0]},fill:{opacity:[1,1,1]},markers:{size:[0,4,0],strokeWidth:2,hover:{size:4}},xaxis:{categories:a.tripsChartData.months||[],axisTicks:{show:!1},axisBorder:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:-2,bottom:15,left:10}},legend:{show:!0,horizontalAlign:"center",offsetX:0,offsetY:-5,markers:{width:9,height:9,radius:6},itemMargin:{horizontal:10,vertical:0}},plotOptions:{bar:{columnWidth:"30%",barHeight:"70%"}},colors:es('["--vz-success", "--vz-danger"]')}),U=()=>{const n=new google.maps.Map(document.getElementById("map"),{center:{lat:parseFloat(a.default_lat),lng:parseFloat(a.default_lng)},zoom:15});let u=null;firebase.database().ref("drivers/driver_"+a.driver.id).on("value",ys=>{const g=ys.val();if(g&&g.l&&g.l[0]&&g.l[1]){const Z={lat:g.l[0],lng:g.l[1]};let B;g.is_active==1&&g.is_available?B=`/image/map/${g.vehicle_type_icon}-online.png`:g.is_active==1&&!g.is_available?B=`/image/map/${g.vehicle_type_icon}-onride.png`:B=`/image/map/${g.vehicle_type_icon}.png`,u?(u.setPosition(Z),u.setIcon({url:B,scaledSize:new google.maps.Size(30,30)})):u=new google.maps.Marker({position:Z,map:n,icon:{url:B,scaledSize:new google.maps.Size(30,30)},title:"Driver Location"}),n.setCenter(Z)}})},T=r(""),C=r("");G({all:"",locked:"",limit:10});const F=G({all:"",locked:"",limit:10}),N=r({}),j=a.completed_ride_count,$=a.canceled_ride_count,L=r({amount:"",operation:"add"}),R=r("");r(!1),Ss(()=>{const n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${a.map_key}&libraries=visualization`,n.async=!0,n.defer=!0,n.onload=U,document.head.appendChild(n),n.onerror=()=>{console.error(i("google_maps_script_failed_to_load"))};var u={apiKey:a.firebaseSettings.firebase_api_key,authDomain:a.firebaseSettings.firebase_auth_domain,databaseURL:a.firebaseSettings.firebase_database_url,projectId:a.firebaseSettings.firebase_project_id,storageBucket:a.firebaseSettings.firebase_storage_bucket,messagingSenderId:a.firebaseSettings.firebase_messaging_sender_id,appId:a.firebaseSettings.firebase_app_id};firebase.apps.length==0&&firebase.initializeApp(u)});const l=r([]),h=r({}),x=r([]),ls=r([]),os=r({}),is=r([]),H=async(n=1)=>{const u=F.data();u.search=C.value,u.page=n;const p=await S.get(`/approved-drivers/request/list/${a.driver.id}`,{params:u});x.value=p.data.requests,h.value=p.data.paginator,ps(h.value.total)},M=r(a.successMessage||""),ns=r(a.alertMessage||""),ds=async(n=1)=>{try{const u={page:n},p=await S.get(`/drivers-rating/request-list/${a.driver.id}`,{params:u});ls.value=p.data.results,os.value=p.data.paginator}catch(u){console.error(i("error_fetching_drivers_rating"),u)}},q=async(n=1)=>{try{const u={page:n},p=await S.get(`/fleet-drivers/document/list/${a.driver.id}`,{params:u});is.value=p.data.results}catch(u){console.error(i("error_fetching_drivers_rating"),u)}},_s=async n=>{await S.get(`/fleet-drivers/document-toggle/${n}/${a.driver.id}/1`),M.value=i("document_approved"),setTimeout(()=>{M.value=""},5e3),q()},rs=r(null),cs=r(null),W=r(!1),K=r(null),Y=r(null),J=r(!1),X=r(null),ms=()=>{W.value=!1,K.value=null,Y.value=null},us=n=>{K.value=n.image,Y.value=n.back_image,W.value=!0,rs.value=n.document_name_front??i("document"),cs.value=n.document_name_back??i("document")},vs=G({reason:""}),gs=async()=>{try{(await S.post(`/manage-owners/document-toggle/${X.value}/${a.driverId}/5`,{reason:L.reason})).data.allDocumentsDisapproved==!0&&(M.value=i("document_declined")),setTimeout(()=>{M.value=""},5e3),J.value=!1,q()}catch(n){console.error("Error declining document:",n),ns.value=i("decline_failed")}},bs=async n=>{J.value=!0,X.value=n},hs=async n=>{H(n)},fs=async n=>{ds(n)},ps=()=>{N.value=[10,25,50,100,200,500]};return{form:L,validationMessage:R,searchTerm1:T,searchTerm2:C,mobileFromUser:P,emailFromUser:k,results2:l,paginator2:h,ratingResults:ls,ratingPaginator:os,documentResults:is,handlePageChanged2:hs,handleRatingPageChanged:fs,ride_count:j,cancel_ride_count:$,map:e,selectedServiceLocations:o,selectedVehicleTypes:ts,fetchRequestDatas:H,requests:x,earning:I,earningOptions:y,series:z,tripOptions:E,disable_options:V,fetchRatingDatas:ds,fetchDocumentDatas:q,successMessage:M,alertMessage:ns,approveDocument:_s,declineDocument:bs,viewDocument:us,closeModal:ms,showModal:W,imageUrl:K,backImageUrl:Y,documentNameFront:rs,documentNameBack:cs,reasonform:vs,handleReasonSubmit:gs,disapproveModelShow:J,document_id:X,paginatorOption:N,changeEntriesPerPage:()=>{H()},filter2:F}},mounted(){this.fetchRequestDatas(),this.fetchRatingDatas(),this.fetchDocumentDatas()}},Es={class:"row"},Ts={class:"col-sm-4 mt-3 profile-border"},js={class:"d-flex align-items-center"},$s=["src"],Hs={class:"ms-4"},qs={class:"col-sm-4 mt-4 profile-border"},Ws={class:"d-flex align-items-center"},Ks={class:"d-flex align-items-center"},Ys={class:"d-flex align-items-center"},Js={class:"col-sm-4 mt-3"},Xs={class:"d-flex align-items-center"},Zs=["src"],Gs={class:"ms-1"},Qs={class:"nav nav-tabs mt-4",role:"tablist"},se={class:"nav-item"},ee={class:"nav-link active","data-bs-toggle":"tab",href:"#driver-profile",role:"tab","aria-selected":"false"},te={class:"nav-item"},ae={class:"nav-link","data-bs-toggle":"tab",href:"#request-list",role:"tab","aria-selected":"false"},le={class:"nav-item"},oe={class:"nav-link","data-bs-toggle":"tab",href:"#rating-history",role:"tab","aria-selected":"false"},ie={class:"nav-item"},ne={class:"nav-link","data-bs-toggle":"tab",href:"#documents",role:"tab","aria-selected":"false"},de={class:"tab-content text-muted"},re={class:"tab-pane active p-3",id:"driver-profile",role:"tabpanel"},ce={class:"mb-4 mt-4"},_e={class:"row"},me={class:"col-12"},ue={class:"row row-cols-lg-4 row-cols-1"},ve={class:"col"},ge={class:"card card-body border card-hover"},be={class:"mb-1"},he={class:"card-text text-muted"},fe={class:"col"},pe={class:"card card-body border card-hover"},ye={class:"mb-1"},xe={class:"card-text text-muted"},ke={class:"col"},we={class:"card card-body border card-hover"},Ce={class:"mb-1"},Me={class:"card-text text-muted"},Be={class:"col"},Se={class:"card card-body border card-hover"},De={class:"mb-1"},Pe={class:"card-text text-muted"},ze={class:"col"},Ue={class:"card card-body border card-hover"},Fe={class:"mb-1"},Ne={class:"card-text text-muted"},Le={class:"mb-4 mt-4"},Re={class:"col-12 col-lg-12"},Oe={class:"mb-3 text-center m-auto"},Ve={id:"map",style:{height:"500px"}},Ae={class:"mb-4 mt-4"},Ie={class:"row"},Ee={class:"col-sm-6 col-md-12 col-lg-12 col-xl-6"},Te={class:"col-sm-12 col-md-12 col-lg-12 col-xl-6"},je={class:"row row-cols-lg-3 row-cols-1"},$e={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},He={class:"card card-body border card-hover"},qe={class:"d-flex"},We={class:"mb-1"},Ke={class:"card-text text-muted"},Ye={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},Je={class:"card card-body border card-hover"},Xe={class:"d-flex"},Ze={class:"mb-1"},Ge={class:"card-text text-muted"},Qe={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},st={class:"card card-body border card-hover"},et={class:"d-flex"},tt={class:"mb-1"},at={class:"card-text text-muted"},lt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},ot={class:"card card-body border card-hover"},it={class:"d-flex"},nt={class:"mb-1"},dt={class:"card-text text-muted"},rt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},ct={class:"card card-body border card-hover"},_t={class:"d-flex"},mt={class:"mb-1"},ut={class:"card-text text-muted"},vt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},gt={class:"card card-body border card-hover"},bt={class:"d-flex mb-4 align-items-center"},ht={class:"border p-1 rounded ms-3"},ft={class:"card-text text-muted"},pt={class:"mb-4 mt-4"},yt={class:"row"},xt={class:"col-sm-6 col-md-12 col-xl-6 col-lg-6"},kt={class:"col-sm-12 col-md-12 col-lg-6 col-xl-6"},wt={class:"row row-cols-lg-2 row-cols-1"},Ct={class:"col"},Mt={class:"card card-body border card-hover"},Bt={class:"d-flex"},St={class:"mb-1"},Dt={class:"card-text text-muted"},Pt={class:"col"},zt={class:"card card-body border card-hover"},Ut={class:"d-flex"},Ft={class:"mb-1"},Nt={class:"card-text text-muted"},Lt={class:"tab-pane p-3",id:"request-list",role:"tabpanel"},Rt={class:"row row-cols-lg-2 row-cols-1"},Ot={class:"col-lg-3 col-md-6 col-sm-12"},Vt={class:"card card-body border card-hover"},At={class:"d-flex"},It={class:"mb-1"},Et={class:"card-text text-muted"},Tt={class:"col-lg-3 col-md-6 col-sm-12"},jt={class:"card card-body border card-hover"},$t={class:"d-flex"},Ht={class:"mb-1"},qt={class:"card-text text-muted"},Wt={class:"col-lg-3 col-md-6 col-sm-12"},Kt={class:"card card-body border card-hover"},Yt={class:"d-flex"},Jt={class:"mb-1"},Xt={class:"card-text text-muted"},Zt={class:"col-lg-3 col-md-6 col-sm-12"},Gt={class:"card card-body border card-hover"},Qt={class:"d-flex"},sa={class:"mb-1"},ea={class:"card-text text-muted"},ta={class:"d-flex align-items-center mt-3"},aa={class:"me-2 text-muted"},la=["value"],oa={class:"ms-2 text-muted"},ia={class:"table-responsive"},na={class:"table align-middle position-relative table-nowrap"},da={class:"table-active"},ra={scope:"col"},ca={scope:"col"},_a={scope:"col"},ma={scope:"col"},ua={scope:"col"},va={scope:"col"},ga={scope:"col"},ba={key:0},ha={key:1},fa={colspan:"7",class:"text-center"},pa={class:"tab-pane p-3",id:"rating-history",role:"tabpanel"},ya={class:"row timeline-right"},xa={class:"col-12"},ka={class:"timeline-date"},wa={class:"col-12"},Ca={class:"timeline-box"},Ma={class:"timeline-text"},Ba={class:"d-flex"},Sa=["src"],Da={key:1,class:"rounded-circle avatar-sm",alt:"User Avatar",src:As},Pa={class:"flex-grow-1 ms-3"},za={class:"mb-1"},Ua={class:"text-muted mb-0"},Fa={class:"tab-pane p-3",id:"documents",role:"tabpanel"},Na={class:"table-responsive"},La={class:"table align-middle position-relative table-nowrap"},Ra={class:"table-active"},Oa={scope:"col"},Va={scope:"col"},Aa={scope:"col"},Ia={scope:"col"},Ea={scope:"col"},Ta={scope:"col"},ja={scope:"col"},$a=["onClick"],Ha=["onClick"],qa=["onClick"],Wa=["onClick"],Ka={key:0,class:"modal fade show",tabindex:"-1",role:"dialog",style:{display:"block"}},Ya={class:"modal-dialog",role:"document"},Ja={class:"modal-content"},Xa={class:"modal-header d-flex align-items-center justify-content-between"},Za={class:"modal-title"},Ga={class:"modal-body"},Qa={id:"carouselExampleFade",class:"carousel slide carousel-fade py-5","data-ride":"carousel"},sl={class:"carousel-inner"},el={class:"carousel-item active"},tl={key:0,class:"car-img"},al=["src","alt"],ll={class:"text-center"},ol={key:1,class:"d-grid"},il={class:"text-center m-auto"},nl={class:"carousel-item"},dl={key:0,class:"car-img"},rl=["src","alt"],cl={class:"text-center"},_l={key:1,class:"d-grid"},ml={class:"text-center m-auto"},ul={class:"modal-footer"},vl=["href"],gl=["href"],bl={class:"row"},hl={class:"col-sm-12"},fl={class:"mb-3"},pl={for:"declined_reason",class:"form-label"},yl=["placeholder"],xl={class:"modal-footer v-modal-footer"},kl={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},wl={class:"alert-content"},Cl={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},Ml={class:"alert-content"};function Bl(a,e,i,o,ts,V){const as=v("Head"),A=v("PageHeader"),I=v("BCardHeader"),y=v("BCard"),P=v("apexchart"),k=v("BCardBody"),z=v("BCol"),E=v("BBadge"),U=v("Pagination"),T=v("Link"),C=v("BButton"),F=v("BLink"),N=v("FormValidation"),j=v("BModal"),$=v("BRow"),L=v("Layout"),R=Ds("b-tooltip");return d(),Q(L,null,{default:m(()=>[_(as,{title:"Driver Profile"}),_(A,{title:a.$t("driver_profile"),pageTitle:a.$t("driver_profile"),pageLink:"/fleet-drivers"},null,8,["title","pageTitle"]),_($,null,{default:m(()=>[_(z,{lg:"12"},{default:m(()=>[_(y,{"no-body":"",id:"tasksList"},{default:m(()=>[_(I,{class:"border-0"},{default:m(()=>[s("div",Es,[s("div",Ts,[s("div",js,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.profile_picture},null,8,$s)]),s("div",Hs,[s("h5",null,t(i.driver.name),1),s("p",null,t(i.driver.service_location_name),1)])])]),s("div",qs,[s("div",Ws,[e[10]||(e[10]=s("i",{class:"ri-phone-line",style:{"font-size":"20px"}},null,-1)),e[11]||(e[11]=b("    ")),s("span",null,t(i.driver.mobile_number),1)]),s("div",Ks,[e[12]||(e[12]=s("i",{class:"ri-mail-line",style:{"font-size":"20px"}},null,-1)),e[13]||(e[13]=b("    ")),s("span",null,t(i.driver.email),1)]),s("div",Ys,[e[14]||(e[14]=s("i",{class:"ri-logout-box-r-line",style:{"font-size":"20px"}},null,-1)),e[15]||(e[15]=b("    ")),s("span",null,t(i.driver_date),1)])]),s("div",Js,[s("div",Xs,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.vehicle_type_image},null,8,Zs)]),s("div",Gs,[s("h5",null,t(i.driver.vehicle_type_name),1),s("p",null,t(i.driver.car_make_name),1),s("p",null,t(i.driver.car_model_name),1),s("p",null,t(i.driver.car_number),1)])])])]),e[16]||(e[16]=s("div",{class:"border-bottom mt-4"},null,-1)),s("div",null,[s("ul",Qs,[s("li",se,[s("a",ee,t(a.$t("driver_profile")),1)]),s("li",te,[s("a",ae,t(a.$t("request_list")),1)]),s("li",le,[s("a",oe,t(a.$t("review_history")),1)]),s("li",ie,[s("a",ne,t(a.$t("documents")),1)])])])]),_:1,__:[16]})]),_:1}),s("div",de,[s("div",re,[_(y,null,{default:m(()=>[_(k,null,{default:m(()=>[s("h5",ce,t(a.$t("general_report")),1),s("div",_e,[s("div",me,[s("div",ue,[s("div",ve,[s("div",ge,[e[17]||(e[17]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("h1",be,t(i.trip_data.completed_today),1),s("h5",he,t(a.$t("today_trips")),1)])]),s("div",fe,[s("div",pe,[e[18]||(e[18]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("h1",ye,t(i.earnings_data.today_total),1),s("h5",xe,t(a.$t("today_earnings")),1)])]),s("div",ke,[s("div",we,[e[19]||(e[19]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-primary icon-lg"})])])])],-1)),s("h1",Ce,t(i.trip_data.completed),1),s("h5",Me,t(a.$t("total_trips")),1)])]),s("div",Be,[s("div",Se,[e[20]||(e[20]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("h1",De,t(i.earnings_data.overall_total),1),s("h5",Pe,t(a.$t("total_earnings")),1)])]),s("div",ze,[s("div",Ue,[e[21]||(e[21]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("h1",Fe,t(i.trip_data.cancelled_today),1),s("h5",Ne,t(a.$t("today_cancelled")),1)])])])])]),s("h5",Le,t(a.$t("driver_location")),1),s("div",Re,[s("div",Oe,[s("div",Ve,t(a.$t("map_loading")),1)])]),s("h5",Ae,t(a.$t("earnings")),1),s("div",Ie,[s("div",Ee,[_(P,{class:"apex-charts",height:"350",dir:"ltr",series:o.earning,options:o.earningOptions},null,8,["series","options"])]),s("div",Te,[s("div",je,[s("div",$e,[s("div",He,[e[22]||(e[22]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",qe,[s("h3",We,t(i.currency[0])+" "+t(i.earnings_data.today_total),1)]),s("h5",Ke,t(a.$t("today_earnings")),1)])]),s("div",Ye,[s("div",Je,[e[23]||(e[23]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",Xe,[s("h3",Ze,t(i.currency[0])+" "+t(i.earnings_data.admin_commission),1)]),s("h5",Ge,t(a.$t("admin_commission")),1)])]),s("div",Qe,[s("div",st,[e[24]||(e[24]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-warning icon-lg"})])])])],-1)),s("div",et,[s("h3",tt,t(i.currency[0])+" "+t(i.earnings_data.driver_commission),1)]),s("h5",at,t(a.$t("drivers_earnings")),1)])]),s("div",lt,[s("div",ot,[e[25]||(e[25]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",it,[s("h3",nt,t(i.earnings_data.overall_cash),1)]),s("h5",dt,t(a.$t("by_cash")),1)])]),s("div",rt,[s("div",ct,[e[26]||(e[26]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",_t,[s("h3",mt,t(i.earnings_data.overall_wallet),1)]),s("h5",ut,t(a.$t("by_wallet")),1)])]),s("div",vt,[s("div",gt,[s("div",bt,[e[27]||(e[27]=s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-credit-card text-warning icon-lg"})])])],-1)),s("div",ht,t(i.earnings_data.overall_card),1)]),s("h5",ft,t(a.$t("by_card")),1)])])])])]),s("h5",pt,t(a.$t("trips")),1),s("div",yt,[s("div",xt,[_(P,{class:"apex-charts",height:"350",dir:"ltr",series:o.series,options:o.tripOptions},null,8,["series","options"])]),s("div",kt,[s("div",wt,[s("div",Ct,[s("div",Mt,[e[28]||(e[28]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",Bt,[s("h3",St,t(o.ride_count),1)]),s("h5",Dt,t(a.$t("completed_trips")),1)])]),s("div",Pt,[s("div",zt,[e[29]||(e[29]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",Ut,[s("h3",Ft,t(o.cancel_ride_count),1)]),s("h5",Nt,t(a.$t("cancelled_trips")),1)])])])])])]),_:1})]),_:1})]),s("div",Lt,[_(y,null,{default:m(()=>[_(k,null,{default:m(()=>[s("div",Rt,[s("div",Ot,[s("div",Vt,[e[30]||(e[30]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",At,[s("h3",It,t(o.ride_count),1)]),s("h5",Et,t(a.$t("completed_rides")),1),e[31]||(e[31]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",Tt,[s("div",jt,[e[32]||(e[32]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-check-circle text-success icon-lg"})])])])],-1)),s("div",$t,[s("h3",Ht,t(i.acceptance_rate)+" %",1)]),s("h5",qt,t(a.$t("acceptance_rate")),1),e[33]||(e[33]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",Wt,[s("div",Kt,[e[34]||(e[34]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-x-circle text-danger icon-lg"})])])])],-1)),s("div",Yt,[s("h3",Jt,t(i.cancellation_rate)+" %",1)]),s("h5",Xt,t(a.$t("cancellation_rate")),1),e[35]||(e[35]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",Zt,[s("div",Gt,[e[36]||(e[36]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",Qt,[s("h3",sa,t(o.cancel_ride_count),1)]),s("h5",ea,t(a.$t("cancelled_rides")),1),e[37]||(e[37]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])])]),_(z,{md:"3",class:"mb-3"},{default:m(()=>[s("div",ta,[s("label",aa,t(a.$t("show")),1),O(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.filter2.limit=l),onChange:e[1]||(e[1]=(...l)=>o.changeEntriesPerPage&&o.changeEntriesPerPage(...l)),class:"form-select form-select-sm w-auto"},[(d(!0),c(w,null,D(o.paginatorOption,l=>(d(),c("option",{key:l,value:l},t(l),9,la))),128))],544),[[Ps,o.filter2.limit]]),s("label",oa,t(a.$t("entries")),1)])]),_:1}),s("div",ia,[s("table",na,[s("thead",da,[s("tr",null,[s("th",ra,t(a.$t("request_id")),1),s("th",ca,t(a.$t("date")),1),s("th",_a,t(a.$t("user_name")),1),s("th",ma,t(a.$t("driver_name")),1),s("th",ua,t(a.$t("trip_Status")),1),s("th",va,t(a.$t("paid")),1),s("th",ga,t(a.$t("payment_option")),1)])]),o.requests.length>0?(d(),c("tbody",ba,[(d(!0),c(w,null,D(o.requests,(l,h)=>(d(),c("tr",{key:h},[s("td",null,t(l.request_number),1),s("td",null,t(l.converted_created_at),1),s("td",null,t(l.user_name),1),s("td",null,t(l.driver_name),1),s("td",null,t(l.trip_status),1),s("td",null,t(l.trip_payment),1),s("td",null,[_(E,{class:ss({"text-uppercase":!0,"text-bg-success":l.is_paid,"text-bg-danger":!l.is_paid})},{default:m(()=>[b(t(l.payment_opt==1?"Cash":l.payment_opt==2?"Wallet":"Card"),1)]),_:2},1032,["class"])])]))),128))])):(d(),c("tbody",ha,[s("tr",null,[s("td",fa,[e[38]||(e[38]=s("img",{src:Vs,alt:"Loading...",style:{width:"100px"}},null,-1)),s("h5",null,t(a.$t("no_data_found")),1)])])]))]),_(U,{paginator:o.paginator2,onPageChanged:o.handlePageChanged2},null,8,["paginator","onPageChanged"])])]),_:1})]),_:1})]),s("div",pa,[_(y,null,{default:m(()=>[_(k,null,{default:m(()=>[(d(!0),c(w,null,D(o.ratingResults,l=>(d(),c("div",{class:"timeline-continue p-2",key:l.id},[s("div",ya,[s("div",xa,[s("p",ka,t(l.converted_created_at),1)]),s("div",wa,[s("div",Ca,[s("div",Ma,[s("div",Ba,[l.user_profile?(d(),c("img",{key:0,class:"rounded-circle avatar-sm",alt:"User Avatar",src:l.user_profile},null,8,Sa)):(d(),c("img",Da)),s("div",Pa,[s("h5",za,[_(T,{href:"#"},{default:m(()=>[b(t(l.request_number),1)]),_:2},1024),b(t(l.user_name),1)]),s("p",null,t(l.converted_trip_start_time),1),s("p",null,[b(t(a.$t("pickup_address"))+" ",1),s("span",Ua,t(l.pick_address),1)]),s("div",null,[(d(),c(w,null,D(5,h=>s("i",{key:h,class:ss([{"bx bxs-star":h<=l.user_rating,"bx bx-star":h>l.user_rating},"align-center text-muted me-2"])},null,2)),64))])])])])])])])]))),128)),_(U,{paginator:o.ratingPaginator,onPageChanged:o.handleRatingPageChanged},null,8,["paginator","onPageChanged"])]),_:1})]),_:1})]),s("div",Fa,[_(y,null,{default:m(()=>[_(k,null,{default:m(()=>[s("div",Na,[s("table",La,[s("thead",Ra,[s("tr",null,[s("th",Oa,t(a.$t("document_name")),1),s("th",Va,t(a.$t("identify_number")),1),s("th",Aa,t(a.$t("expiry_date")),1),s("th",Ia,t(a.$t("status")),1),s("th",Ea,t(a.$t("comment")),1),s("th",Ta,t(a.$t("document")),1),s("th",ja,t(a.$t("action")),1)])]),s("tbody",null,[(d(!0),c(w,null,D(o.documentResults,(l,h)=>(d(),c("tr",{key:l.id},[s("td",null,t(l.name),1),s("td",null,t(l.identify_number||"N/A"),1),s("td",null,t(l.expiry_date||"N/A"),1),s("td",null,[s("span",{class:ss({badge:!0,"bg-success":l.document_status===1,"bg-secondary":l.document_status===2||l.document_status==null,"bg-warning":l.document_status===3||l.document_status===4,"bg-danger":l.document_status===5||l.document_status===0,"bg-dark":l.document_status===6})},t(l.document_status===1?a.$t("approved"):l.document_status===2||l.document_status==null?a.$t("not_uploaded"):l.document_status===3||l.document_status===4?a.$t("waiting_for_approval"):l.document_status===0||l.document_status===5?a.$t("declined"):l.document_status===6?a.$t("expired"):""),3)]),s("td",null,t(l.comment||"N/A"),1),s("td",null,[O((d(),Q(C,{class:"btn btn-soft-info btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"view",onClick:x=>o.viewDocument(l)},{default:m(()=>e[39]||(e[39]=[s("i",{class:"bx bx-show-alt align-center"},null,-1)])),_:2,__:[39]},1032,["onClick"])),[[R,void 0,void 0,{hover:!0}]]),O((d(),Q(C,{class:"btn btn-soft-success btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"upload",href:`/approved-drivers/document-upload/${l.id}/${a.driverId}`},{default:m(()=>e[40]||(e[40]=[s("i",{class:"bx bx-upload align-center"},null,-1)])),_:2,__:[40]},1032,["href"])),[[R,void 0,void 0,{hover:!0}]])]),s("td",null,[l.document_status===1?(d(),c("button",{key:0,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:x=>o.declineDocument(l.id)},t(a.$t("decline")),9,$a)):f("",!0),l.document_status===5?(d(),c("button",{key:1,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:x=>o.approveDocument(l.id)},t(a.$t("approve")),9,Ha)):f("",!0),l.document_status===2||l.document_status==null?f("",!0):(d(),c(w,{key:2},[l.document_status===3||l.document_status===4||l.document_status===6?(d(),c("button",{key:0,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:x=>o.approveDocument(l.id)},t(a.$t("approve")),9,qa)):f("",!0),l.document_status===3||l.document_status===4||l.document_status===6?(d(),c("button",{key:1,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:x=>o.declineDocument(l.id)},t(a.$t("decline")),9,Wa)):f("",!0)],64))])]))),128))])])]),o.showModal?(d(),c("div",Ka,[s("div",Ya,[s("div",Ja,[s("div",Xa,[s("h5",Za,t(a.$t("view_document")),1),s("a",{href:"#",class:"close fs-18",onClick:e[2]||(e[2]=(...l)=>o.closeModal&&o.closeModal(...l)),"aria-label":"Close"},e[41]||(e[41]=[s("span",{class:"fs-22","aria-hidden":"true"},"×",-1)]))]),s("div",Ga,[s("div",Qa,[e[44]||(e[44]=s("div",{class:"carousel-indicators"},[s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"1","aria-label":"Slide 2"})],-1)),s("div",sl,[s("div",el,[o.imageUrl?(d(),c("div",tl,[s("img",{src:o.imageUrl,alt:o.documentNameFront,class:"img-fluid mb-2"},null,8,al),s("h5",ll,t(o.documentNameFront),1)])):(d(),c("div",ol,[e[42]||(e[42]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",il,t(a.$t("no_front_image_available")),1)]))]),s("div",nl,[o.backImageUrl?(d(),c("div",dl,[s("img",{src:o.backImageUrl,alt:o.documentNameBack,class:"img-fluid mb-2"},null,8,rl),s("h5",cl,t(o.documentNameBack),1)])):(d(),c("div",_l,[e[43]||(e[43]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",ml,t(a.$t("no_back_image_available")),1)]))])]),e[45]||(e[45]=s("a",{class:"carousel-control-prev bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"prev"},[s("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Previous")],-1)),e[46]||(e[46]=s("a",{class:"carousel-control-next bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"next"},[s("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Next")],-1))])]),s("div",ul,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...l)=>o.closeModal&&o.closeModal(...l))},t(a.$t("close")),1),o.imageUrl?(d(),c("a",{key:0,href:o.imageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_front_image")),9,vl)):f("",!0),o.backImageUrl?(d(),c("a",{key:1,href:o.backImageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_back_image")),9,gl)):f("",!0)])])])])):f("",!0)]),_:1})]),_:1}),_(j,{modelValue:o.disapproveModelShow,"onUpdate:modelValue":e[7]||(e[7]=l=>o.disapproveModelShow=l),"hide-footer":"",title:a.$t("declined_reason"),class:"v-modal-custom",size:"md"},{default:m(()=>[s("form",null,[_(N,{form:o.reasonform,rules:a.validationRules,ref:"validationRef"},{default:m(()=>[s("div",bl,[s("div",hl,[s("div",fl,[s("label",pl,[b(t(a.$t("declined_reason")),1),e[47]||(e[47]=s("span",{class:"text-danger"},"*",-1))]),O(s("input",{type:"text",class:"form-control",placeholder:a.$t("enter_declined_reason"),id:"declined_reason","onUpdate:modelValue":e[4]||(e[4]=l=>o.form.reason=l)},null,8,yl),[[zs,o.form.reason]])])])]),s("div",xl,[_(F,{href:"javascript:void(0);",class:"btn btn-link link-warning fw-medium",onClick:e[5]||(e[5]=l=>o.disapproveModelShow=!1)},{default:m(()=>[e[48]||(e[48]=s("i",{class:"ri-close-line me-1 align-middle"},null,-1)),b(" "+t(a.$t("close")),1)]),_:1,__:[48]}),s("button",{type:"button",class:"btn btn-soft-info waves-effect waves-light",onClick:e[6]||(e[6]=Us((...l)=>a.handleSubmit&&a.handleSubmit(...l),["prevent"]))},t(a.$t("submit")),1)])]),_:1},8,["form","rules"])])]),_:1},8,["modelValue","title"])])])]),_:1})]),_:1}),s("div",null,[o.successMessage?(d(),c("div",kl,[s("div",wl,[e[49]||(e[49]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[50]||(e[50]=b()),e[51]||(e[51]=s("strong",null,"Success",-1)),b(" - "+t(o.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[8]||(e[8]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):f("",!0),o.alertMessage?(d(),c("div",Cl,[s("div",Ml,[e[52]||(e[52]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[53]||(e[53]=b()),e[54]||(e[54]=s("strong",null,"Alert",-1)),b(" - "+t(o.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[9]||(e[9]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):f("",!0)])]),_:1})}const Il=xs(Is,[["render",Bl]]);export{Il as default};
