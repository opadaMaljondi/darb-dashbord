import{_ as As,Z as Os,O as Ts,P as Is,B as js,r as d,D as Es,T as is,o as Hs,Y as F,g as v,U as $s,i as r,y as ns,w as m,a as N,l as _,n as s,J as t,z as b,t as $,K as qs,k as c,L as R,F as D,q as ds,C as h,M as Zs,p as Ws}from"./vendor-8caf5d52.js";import{L as Ys}from"./main-cc7bd0ce.js";import{P as Ks}from"./page-header-18309276.js";import{P as Gs}from"./Pagination-0518e4bd.js";import{s as Js}from"./search-769502e2.js";import{s as Xs}from"./searchbar-e42e22fa.js";import{g as rs}from"./getChartColorsArray-cf54c295.js";import{_ as Qs}from"./search-file-ab3e1046.js";import{_ as se}from"./avatar-3-6e0817a3.js";import"./footer-502c2797.js";import"./app-974c65a1.js";const ee={components:{Layout:Ys,PageHeader:Ks,Head:Os,Pagination:Gs,Multiselect:Ts,flatPickr:Is,Link:js,search:Js,searchbar:Xs,getChartColorsArray:rs},props:{successMessage:String,alertMessage:String,driver:Object,currency:Array,driver_date:String,completed_ride_count:Number,default_lat:String,default_lng:String,canceled_ride_count:Number,app_for:String,acceptance_rate:Number,cancellation_rate:Number,earnings_data:Object,trip_data:Object,firebaseSettings:Object,earningsChartData:Object,disable_options:String,tripsChartData:{type:Object,default:()=>({months:[],completed:[],cancelled:[]})}},setup(a){const e=d(null),{t:i}=Es(),o=d([]),cs=d([]),M=d(null),P=d(parseFloat(a.default_lat)),L=d(parseFloat(a.default_lng)),q=Math.max(...a.earningsChartData.values||[]),x=d([a.disable_options]),V=(q*1.2).toFixed(2),B=d([{name:i("earnings"),data:a.earningsChartData.values||[]}]),A=d({chart:{height:100,type:"area",toolbar:"false"},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{categories:a.earningsChartData.months||[]},yaxis:{labels:{formatter:function(n){return n.toFixed(2)}},tickAmount:5,min:0,max:Number(V)},colors:rs('[ "--vz-success"]'),fill:{opacity:.5,colors:["#0AB39C","#F06548"],type:"solid"}}),Z=n=>a.app_for&&a.app_for=="demo"?"***********":n.mobile_number,O=n=>a.app_for&&a.app_for=="demo"?"***********":n.email,W=d([{name:i("completed"),type:"bar",data:a.tripsChartData.completed||[]},{name:i("cancelled"),type:"bar",data:a.tripsChartData.cancelled||[]}]),T=d({chart:{height:374,type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",dashArray:[0,3,0],width:[0,1,0]},fill:{opacity:[1,1,1]},markers:{size:[0,4,0],strokeWidth:2,hover:{size:4}},xaxis:{categories:a.tripsChartData.months||[],axisTicks:{show:!1},axisBorder:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:-2,bottom:15,left:10}},legend:{show:!0,horizontalAlign:"center",offsetX:0,offsetY:-5,markers:{width:9,height:9,radius:6},itemMargin:{horizontal:10,vertical:0}},plotOptions:{bar:{columnWidth:"30%",barHeight:"70%"}},colors:rs('["--vz-success", "--vz-danger"]')}),Y=async()=>{e.value&&(e.value.remove(),e.value=null),e.value=F.map("map",{dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1}).setView([P.value,L.value],12),F.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(e.value)},K=d(""),I=d("");is({all:"",locked:""});const j=is({all:"",locked:"",limit:10}),E=d({}),H=a.completed_ride_count,l=a.canceled_ride_count,f=d({amount:"",operation:"add"}),S=d(""),_s=(n,u)=>{n.setLatLng(u).update()},Cs=n=>{const u="0123456789bcdefghjkmnpqrstuvwxyz",g=[16,8,4,2,1];let y=!0,p=-90,k=90,w=-180,C=180,xs,ys;if(n){for(let ls=0;ls<n.length;ls++){let Vs=n.charAt(ls),ks=u.indexOf(Vs);for(let os=0;os<5;os++){let ws=g[os];if(y){let U=(w+C)/2;ks&ws?w=U:C=U}else{let U=(p+k)/2;ks&ws?p=U:k=U}y=!y}}return xs=(p+k)/2,ys=(w+C)/2,{lat:xs,lon:ys}}return null};Hs(async()=>{await Y();var n={apiKey:a.firebaseSettings.firebase_api_key,authDomain:a.firebaseSettings.firebase_auth_domain,databaseURL:a.firebaseSettings.firebase_database_url,projectId:a.firebaseSettings.firebase_project_id,storageBucket:a.firebaseSettings.firebase_storage_bucket,messagingSenderId:a.firebaseSettings.firebase_messaging_sender_id,appId:a.firebaseSettings.firebase_app_id};firebase.apps.length==0&&firebase.initializeApp(n),firebase.database().ref("drivers/driver_"+a.driver.id).on("value",g=>{const y=g.val(),p=Cs(y.g);if(p){const k=[p.lat,p.lon];P.value=p.lat,L.value=p.lon;let w=y.vehicle_type_icon?`/image/map/${y.vehicle_type_icon}.png`:"";if(w.length>0)if(M.value)_s(M.value,k),M.value.setIcon(F.icon({iconUrl:w,iconSize:[30,30]}));else{const C=F.marker(k,{icon:F.icon({iconUrl:w,iconSize:[30,30]})}).addTo(e.value);e.value.setView([P.value,L.value],15),C.value=C,_s(C,k)}else e.value.removeLayer(M),M.value=null}})});const Ms=d([]),G=d({}),ms=d([]),us=d([]),vs=d({}),bs=d([]),z=d(a.successMessage||""),gs=d(a.alertMessage||""),J=async(n=1)=>{const u=j.data();u.search=I.value,u.page=n;const g=await N.get(`/approved-drivers/request/list/${a.driver.id}`,{params:u});ms.value=g.data.requests,G.value=g.data.paginator,Ns(G.value.total)},hs=async(n=1)=>{try{const u={page:n},g=await N.get(`/drivers-rating/request-list/${a.driver.id}`,{params:u});us.value=g.data.results,vs.value=g.data.paginator}catch(u){console.error(i("error_fetching_drivers_rating"),u)}},X=async(n=1)=>{try{const u={page:n},g=await N.get(`/fleet-drivers/document/list/${a.driver.id}`,{params:u});bs.value=g.data.results}catch(u){console.error(i("error_fetching_drivers_rating"),u)}},Bs=async n=>{await N.get(`/fleet-drivers/document-toggle/${n}/${a.driver.id}/1`),z.value=i("document_approved"),setTimeout(()=>{z.value=""},5e3),X()},fs=d(null),ps=d(null),Q=d(!1),ss=d(null),es=d(null),ts=d(!1),as=d(null),Ss=()=>{Q.value=!1,ss.value=null,es.value=null},Ds=n=>{ss.value=n.image,es.value=n.back_image,Q.value=!0,fs.value=n.document_name_front??i("document"),ps.value=n.document_name_back??i("document")},Ps=is({reason:""}),Ls=async()=>{try{(await N.post(`/manage-owners/document-toggle/${as.value}/${a.driverId}/5`,{reason:f.reason})).data.allDocumentsDisapproved==!0&&(z.value=i("document_declined")),setTimeout(()=>{z.value=""},5e3),ts.value=!1,X()}catch(n){console.error("Error declining document:",n),gs.value=i("decline_failed")}},zs=async n=>{ts.value=!0,as.value=n},Us=async n=>{J(n)},Fs=async n=>{hs(n)},Ns=()=>{E.value=[10,25,50,100,200,500]},Rs=()=>{J()};return{form:f,validationMessage:S,searchTerm1:K,searchTerm2:I,mobileFromUser:Z,emailFromUser:O,results2:Ms,paginator2:G,ratingResults:us,ratingPaginator:vs,documentResults:bs,handlePageChanged2:Us,handleRatingPageChanged:Fs,ride_count:H,cancel_ride_count:l,map:e,selectedServiceLocations:o,selectedVehicleTypes:cs,fetchRequestDatas:J,requests:ms,earning:B,earningOptions:A,series:W,tripOptions:T,disable_options:x,fetchRatingDatas:hs,fetchDocumentDatas:X,successMessage:z,alertMessage:gs,approveDocument:Bs,declineDocument:zs,viewDocument:Ds,closeModal:Ss,showModal:Q,imageUrl:ss,backImageUrl:es,documentNameFront:fs,documentNameBack:ps,ongoing_rides,reasonform:Ps,handleReasonSubmit:Ls,disapproveModelShow:ts,document_id:as,paginatorOption:E,changeEntriesPerPage:Rs,filter2:j}},mounted(){this.fetchRequestDatas(),this.fetchRatingDatas(),this.fetchDocumentDatas()}},te={class:"row"},ae={class:"col-sm-4 mt-3 profile-border"},le={class:"d-flex align-items-center"},oe=["src"],ie={class:"ms-4"},ne={class:"col-sm-4 mt-4 profile-border"},de={class:"d-flex align-items-center"},re={class:"d-flex align-items-center"},ce={class:"d-flex align-items-center"},_e={class:"col-sm-4 mt-3"},me={class:"d-flex align-items-center"},ue=["src"],ve={class:"ms-4"},be={class:"nav nav-tabs mt-4",role:"tablist"},ge={class:"nav-item"},he={class:"nav-link active","data-bs-toggle":"tab",href:"#driver-profile",role:"tab","aria-selected":"false"},fe={class:"nav-item"},pe={class:"nav-link","data-bs-toggle":"tab",href:"#request-list",role:"tab","aria-selected":"false"},xe={class:"nav-item"},ye={class:"nav-link","data-bs-toggle":"tab",href:"#rating-history",role:"tab","aria-selected":"false"},ke={class:"nav-item"},we={class:"nav-link","data-bs-toggle":"tab",href:"#documents",role:"tab","aria-selected":"false"},Ce={class:"tab-content text-muted"},Me={class:"tab-pane active p-3",id:"driver-profile",role:"tabpanel"},Be={class:"mb-4 mt-4"},Se={class:"row"},De={class:"col-12"},Pe={class:"row row-cols-lg-4 row-cols-1"},Le={class:"col"},ze={class:"card card-body border card-hover"},Ue={class:"mb-1"},Fe={class:"card-text text-muted"},Ne={class:"col"},Re={class:"card card-body border card-hover"},Ve={class:"mb-1"},Ae={class:"card-text text-muted"},Oe={class:"col"},Te={class:"card card-body border card-hover"},Ie={class:"mb-1"},je={class:"card-text text-muted"},Ee={class:"col"},He={class:"card card-body border card-hover"},$e={class:"mb-1"},qe={class:"card-text text-muted"},Ze={class:"col"},We={class:"card card-body border card-hover"},Ye={class:"mb-1"},Ke={class:"card-text text-muted"},Ge={class:"mb-4 mt-4"},Je={class:"col-12 col-lg-12"},Xe={class:"mb-3 text-center m-auto"},Qe={id:"map",style:{height:"500px"}},st={class:"mb-4 mt-4"},et={class:"row"},tt={class:"col-sm-6 col-md-12 col-lg-12 col-xl-6"},at={class:"col-sm-12 col-md-12 col-lg-12 col-xl-6"},lt={class:"row row-cols-lg-3 row-cols-1"},ot={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},it={class:"card card-body border card-hover"},nt={class:"d-flex"},dt={class:"mb-1"},rt={class:"card-text text-muted"},ct={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},_t={class:"card card-body border card-hover"},mt={class:"d-flex"},ut={class:"mb-1"},vt={class:"card-text text-muted"},bt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},gt={class:"card card-body border card-hover"},ht={class:"d-flex"},ft={class:"mb-1"},pt={class:"card-text text-muted"},xt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},yt={class:"card card-body border card-hover"},kt={class:"d-flex"},wt={class:"mb-1"},Ct={class:"card-text text-muted"},Mt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},Bt={class:"card card-body border card-hover"},St={class:"d-flex"},Dt={class:"mb-1"},Pt={class:"card-text text-muted"},Lt={class:"col-sm-12 col-md-6 col-lg-4 col-xl-4"},zt={class:"card card-body border card-hover"},Ut={class:"d-flex mb-4 align-items-center"},Ft={class:"border p-1 rounded ms-3"},Nt={class:"card-text text-muted"},Rt={class:"mb-4 mt-4"},Vt={class:"row"},At={class:"col-sm-6 col-md-12 col-xl-6 col-lg-6"},Ot={class:"col-sm-12 col-md-12 col-lg-6 col-xl-6"},Tt={class:"row row-cols-lg-2 row-cols-1"},It={class:"col"},jt={class:"card card-body border card-hover"},Et={class:"d-flex"},Ht={class:"mb-1"},$t={class:"card-text text-muted"},qt={class:"col"},Zt={class:"card card-body border card-hover"},Wt={class:"d-flex"},Yt={class:"mb-1"},Kt={class:"card-text text-muted"},Gt={class:"tab-pane p-3",id:"request-list",role:"tabpanel"},Jt={class:"row row-cols-lg-2 row-cols-1"},Xt={class:"col-lg-3 col-md-6 col-sm-12"},Qt={class:"card card-body border card-hover"},sa={class:"d-flex"},ea={class:"mb-1"},ta={class:"card-text text-muted"},aa={class:"col-lg-3 col-md-6 col-sm-12"},la={class:"card card-body border card-hover"},oa={class:"d-flex"},ia={class:"mb-1"},na={class:"card-text text-muted"},da={class:"col-lg-3 col-md-6 col-sm-12"},ra={class:"card card-body border card-hover"},ca={class:"d-flex"},_a={class:"mb-1"},ma={class:"card-text text-muted"},ua={class:"col-lg-3 col-md-6 col-sm-12"},va={class:"card card-body border card-hover"},ba={class:"d-flex"},ga={class:"mb-1"},ha={class:"card-text text-muted"},fa={class:"d-flex align-items-center mt-3"},pa={class:"me-2 text-muted"},xa=["value"],ya={class:"ms-2 text-muted"},ka={class:"table-responsive"},wa={class:"table align-middle position-relative table-nowrap"},Ca={class:"table-active"},Ma={scope:"col"},Ba={scope:"col"},Sa={scope:"col"},Da={scope:"col"},Pa={scope:"col"},La={scope:"col"},za={scope:"col"},Ua={key:0},Fa={key:1},Na={colspan:"7",class:"text-center"},Ra={class:"tab-pane p-3",id:"rating-history",role:"tabpanel"},Va={class:"row timeline-right"},Aa={class:"col-12"},Oa={class:"timeline-date"},Ta={class:"col-12"},Ia={class:"timeline-box"},ja={class:"timeline-text"},Ea={class:"d-flex"},Ha=["src"],$a={key:1,class:"rounded-circle avatar-sm",alt:"User Avatar",src:se},qa={class:"flex-grow-1 ms-3"},Za={class:"mb-1"},Wa={class:"text-muted mb-0"},Ya={class:"tab-pane p-3",id:"documents",role:"tabpanel"},Ka={class:"table-responsive"},Ga={class:"table align-middle position-relative table-nowrap"},Ja={class:"table-active"},Xa={scope:"col"},Qa={scope:"col"},sl={scope:"col"},el={scope:"col"},tl={scope:"col"},al={scope:"col"},ll={scope:"col"},ol=["onClick"],il=["onClick"],nl=["onClick"],dl=["onClick"],rl={key:0,class:"modal fade show",tabindex:"-1",role:"dialog",style:{display:"block"}},cl={class:"modal-dialog",role:"document"},_l={class:"modal-content"},ml={class:"modal-header d-flex align-items-center justify-content-between"},ul={class:"modal-title"},vl={class:"modal-body"},bl={id:"carouselExampleFade",class:"carousel slide carousel-fade py-5","data-ride":"carousel"},gl={class:"carousel-inner"},hl={class:"carousel-item active"},fl={key:0,class:"car-img"},pl=["src","alt"],xl={class:"text-center"},yl={key:1,class:"d-grid"},kl={class:"text-center m-auto"},wl={class:"carousel-item"},Cl={key:0,class:"car-img"},Ml=["src","alt"],Bl={class:"text-center"},Sl={key:1,class:"d-grid"},Dl={class:"text-center m-auto"},Pl={class:"modal-footer"},Ll=["href"],zl=["href"],Ul={class:"row"},Fl={class:"col-sm-12"},Nl={class:"mb-3"},Rl={for:"declined_reason",class:"form-label"},Vl=["placeholder"],Al={class:"modal-footer v-modal-footer"},Ol={key:0,class:"custom-alert alert alert-success alert-border-left fade show",data:"alert",id:"alertMsg"},Tl={class:"alert-content"},Il={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",data:"alert",id:"alertMsg"},jl={class:"alert-content"};function El(a,e,i,o,cs,M){const P=v("Head"),L=v("PageHeader"),q=v("BCardHeader"),x=v("BCard"),V=v("apexchart"),B=v("BCardBody"),A=v("BCol"),Z=v("BBadge"),O=v("Pagination"),W=v("Link"),T=v("BButton"),Y=v("BLink"),K=v("FormValidation"),I=v("BModal"),j=v("BRow"),E=v("Layout"),H=$s("b-tooltip");return r(),ns(E,null,{default:m(()=>[_(P,{title:"Driver Profile"}),_(L,{title:a.$t("driver_profile"),pageTitle:a.$t("driver_profile"),pageLink:"/fleet-drivers"},null,8,["title","pageTitle"]),_(j,null,{default:m(()=>[_(A,{lg:"12"},{default:m(()=>[_(x,{"no-body":"",id:"tasksList"},{default:m(()=>[_(q,{class:"border-0"},{default:m(()=>[s("div",te,[s("div",ae,[s("div",le,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.profile_picture},null,8,oe)]),s("div",ie,[s("h5",null,t(i.driver.name),1),s("p",null,t(i.driver.service_location_name),1)])])]),s("div",ne,[s("div",de,[e[10]||(e[10]=s("i",{class:"ri-phone-line",style:{"font-size":"20px"}},null,-1)),e[11]||(e[11]=b("    ")),s("span",null,t(i.driver.mobile_number),1)]),s("div",re,[e[12]||(e[12]=s("i",{class:"ri-mail-line",style:{"font-size":"20px"}},null,-1)),e[13]||(e[13]=b("    ")),s("span",null,t(i.driver.email),1)]),s("div",ce,[e[14]||(e[14]=s("i",{class:"ri-logout-box-r-line",style:{"font-size":"20px"}},null,-1)),e[15]||(e[15]=b("    ")),s("span",null,t(i.driver_date),1)])]),s("div",_e,[s("div",me,[s("div",null,[s("img",{class:"rounded-circle avatar-xl",alt:"200x200",src:i.driver.vehicle_type_image},null,8,ue)]),s("div",ve,[s("h5",null,t(i.driver.vehicle_type_name),1),s("p",null,t(i.driver.car_make_name),1),s("p",null,t(i.driver.car_model_name),1),s("p",null,t(i.driver.car_number),1)])])])]),e[16]||(e[16]=s("div",{class:"border-bottom mt-4"},null,-1)),s("div",null,[s("ul",be,[s("li",ge,[s("a",he,t(a.$t("driver_profile")),1)]),s("li",fe,[s("a",pe,t(a.$t("request_list")),1)]),s("li",xe,[s("a",ye,t(a.$t("review_history")),1)]),s("li",ke,[s("a",we,t(a.$t("documents")),1)])])])]),_:1,__:[16]})]),_:1}),s("div",Ce,[s("div",Me,[_(x,null,{default:m(()=>[_(B,null,{default:m(()=>[s("h5",Be,t(a.$t("general_report")),1),s("div",Se,[s("div",De,[s("div",Pe,[s("div",Le,[s("div",ze,[e[17]||(e[17]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("h1",Ue,t(i.trip_data.completed_today),1),s("h5",Fe,t(a.$t("today_trips")),1)])]),s("div",Ne,[s("div",Re,[e[18]||(e[18]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("h1",Ve,t(i.earnings_data.today_total),1),s("h5",Ae,t(a.$t("today_earnings")),1)])]),s("div",Oe,[s("div",Te,[e[19]||(e[19]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-primary icon-lg"})])])])],-1)),s("h1",Ie,t(i.trip_data.completed),1),s("h5",je,t(a.$t("total_trips")),1)])]),s("div",Ee,[s("div",He,[e[20]||(e[20]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("h1",$e,t(i.earnings_data.overall_total),1),s("h5",qe,t(a.$t("total_earnings")),1)])]),s("div",Ze,[s("div",We,[e[21]||(e[21]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("h1",Ye,t(i.trip_data.cancelled_today),1),s("h5",Ke,t(a.$t("today_cancelled")),1)])])])])]),s("h5",Ge,t(a.$t("driver_location")),1),s("div",Je,[s("div",Xe,[s("div",Qe,t(a.$t("map_loading")),1)])]),s("h5",st,t(a.$t("earnings")),1),s("div",et,[s("div",tt,[_(V,{class:"apex-charts",height:"350",dir:"ltr",series:o.earning,options:o.earningOptions},null,8,["series","options"])]),s("div",at,[s("div",lt,[s("div",ot,[s("div",it,[e[22]||(e[22]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",nt,[s("h3",dt,t(i.currency[0])+" "+t(i.earnings_data.today_total),1)]),s("h5",rt,t(a.$t("today_earnings")),1)])]),s("div",ct,[s("div",_t,[e[23]||(e[23]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",mt,[s("h3",ut,t(i.currency[0])+" "+t(i.earnings_data.admin_commission),1)]),s("h5",vt,t(a.$t("admin_commission")),1)])]),s("div",bt,[s("div",gt,[e[24]||(e[24]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-warning icon-lg"})])])])],-1)),s("div",ht,[s("h3",ft,t(i.currency[0])+" "+t(i.earnings_data.driver_commission),1)]),s("h5",pt,t(a.$t("drivers_earnings")),1)])]),s("div",xt,[s("div",yt,[e[25]||(e[25]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-success icon-lg"})])])])],-1)),s("div",kt,[s("h3",wt,t(i.earnings_data.overall_cash),1)]),s("h5",Ct,t(a.$t("by_cash")),1)])]),s("div",Mt,[s("div",Bt,[e[26]||(e[26]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-primary-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-money text-primary icon-lg"})])])])],-1)),s("div",St,[s("h3",Dt,t(i.earnings_data.overall_wallet),1)]),s("h5",Pt,t(a.$t("by_wallet")),1)])]),s("div",Lt,[s("div",zt,[s("div",Ut,[e[27]||(e[27]=s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-warning-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-credit-card text-warning icon-lg"})])])],-1)),s("div",Ft,t(i.earnings_data.overall_card),1)]),s("h5",Nt,t(a.$t("by_card")),1)])])])])]),s("h5",Rt,t(a.$t("trips")),1),s("div",Vt,[s("div",At,[_(V,{class:"apex-charts",height:"350",dir:"ltr",series:o.series,options:o.tripOptions},null,8,["series","options"])]),s("div",Ot,[s("div",Tt,[s("div",It,[s("div",jt,[e[28]||(e[28]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",Et,[s("h3",Ht,t(o.ride_count),1)]),s("h5",$t,t(a.$t("completed_trips")),1)])]),s("div",qt,[s("div",Zt,[e[29]||(e[29]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",Wt,[s("h3",Yt,t(o.cancel_ride_count),1)]),s("h5",Kt,t(a.$t("cancelled_trips")),1)])])])])])]),_:1})]),_:1})]),s("div",Gt,[_(x,null,{default:m(()=>[_(B,null,{default:m(()=>[s("div",Jt,[s("div",Xt,[s("div",Qt,[e[30]||(e[30]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-success icon-lg"})])])])],-1)),s("div",sa,[s("h3",ea,t(o.ride_count),1)]),s("h5",ta,t(a.$t("completed_rides")),1),e[31]||(e[31]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",aa,[s("div",la,[e[32]||(e[32]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-success-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-check-circle text-success icon-lg"})])])])],-1)),s("div",oa,[s("h3",ia,t(i.acceptance_rate)+" %",1)]),s("h5",na,t(a.$t("acceptance_rate")),1),e[33]||(e[33]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",da,[s("div",ra,[e[34]||(e[34]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-x-circle text-danger icon-lg"})])])])],-1)),s("div",ca,[s("h3",_a,t(i.cancellation_rate)+" %",1)]),s("h5",ma,t(a.$t("cancellation_rate")),1),e[35]||(e[35]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])]),s("div",ua,[s("div",va,[e[36]||(e[36]=s("div",{class:"d-flex mb-4 align-items-center"},[s("div",null,[s("div",{class:"avatar-sm flex-shrink-0"},[s("span",{class:"avatar-title bg-danger-subtle rounded-circle fs-2"},[s("i",{class:"bx bx-car text-danger icon-lg"})])])])],-1)),s("div",ba,[s("h3",ga,t(o.cancel_ride_count),1)]),s("h5",ha,t(a.$t("cancelled_rides")),1),e[37]||(e[37]=s("i",{class:"ri-arrow-right-s-line",style:{"font-size":"20px"}},null,-1))])])]),_(A,{md:"3",class:"mb-3"},{default:m(()=>[s("div",fa,[s("label",pa,t(a.$t("show")),1),$(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.filter2.limit=l),onChange:e[1]||(e[1]=(...l)=>o.changeEntriesPerPage&&o.changeEntriesPerPage(...l)),class:"form-select form-select-sm w-auto"},[(r(!0),c(D,null,R(o.paginatorOption,l=>(r(),c("option",{key:l,value:l},t(l),9,xa))),128))],544),[[qs,o.filter2.limit]]),s("label",ya,t(a.$t("entries")),1)])]),_:1}),s("div",ka,[s("table",wa,[s("thead",Ca,[s("tr",null,[s("th",Ma,t(a.$t("request_id")),1),s("th",Ba,t(a.$t("date")),1),s("th",Sa,t(a.$t("user_name")),1),s("th",Da,t(a.$t("driver_name")),1),s("th",Pa,t(a.$t("trip_Status")),1),s("th",La,t(a.$t("paid")),1),s("th",za,t(a.$t("payment_option")),1)])]),o.requests.length>0?(r(),c("tbody",Ua,[(r(!0),c(D,null,R(o.requests,(l,f)=>(r(),c("tr",{key:f},[s("td",null,t(l.request_number),1),s("td",null,t(l.converted_created_at),1),s("td",null,t(l.user_name),1),s("td",null,t(l.driver_name),1),s("td",null,t(l.trip_status),1),s("td",null,t(l.trip_payment),1),s("td",null,[_(Z,{class:ds({"text-uppercase":!0,"text-bg-success":l.is_paid,"text-bg-danger":!l.is_paid})},{default:m(()=>[b(t(l.payment_opt==1?"Cash":l.payment_opt==2?"Wallet":"Card"),1)]),_:2},1032,["class"])])]))),128))])):(r(),c("tbody",Fa,[s("tr",null,[s("td",Na,[e[38]||(e[38]=s("img",{src:Qs,alt:"Loading...",style:{width:"100px"}},null,-1)),s("h5",null,t(a.$t("no_data_found")),1)])])]))]),_(O,{paginator:o.paginator2,onPageChanged:o.handlePageChanged2},null,8,["paginator","onPageChanged"])])]),_:1})]),_:1})]),s("div",Ra,[_(x,null,{default:m(()=>[_(B,null,{default:m(()=>[(r(!0),c(D,null,R(o.ratingResults,l=>(r(),c("div",{class:"timeline-continue p-2",key:l.id},[s("div",Va,[s("div",Aa,[s("p",Oa,t(l.converted_created_at),1)]),s("div",Ta,[s("div",Ia,[s("div",ja,[s("div",Ea,[l.user_profile?(r(),c("img",{key:0,class:"rounded-circle avatar-sm",alt:"User Avatar",src:l.user_profile},null,8,Ha)):(r(),c("img",$a)),s("div",qa,[s("h5",Za,[_(W,{href:"#"},{default:m(()=>[b(t(l.request_number),1)]),_:2},1024),b(t(l.user_name),1)]),s("p",null,t(l.converted_trip_start_time),1),s("p",null,[b(t(a.$t("pickup_address"))+" ",1),s("span",Wa,t(l.pick_address),1)]),s("div",null,[(r(),c(D,null,R(5,f=>s("i",{key:f,class:ds([{"bx bxs-star":f<=l.user_rating,"bx bx-star":f>l.user_rating},"align-center text-muted me-2"])},null,2)),64))])])])])])])])]))),128)),_(O,{paginator:o.ratingPaginator,onPageChanged:o.handleRatingPageChanged},null,8,["paginator","onPageChanged"])]),_:1})]),_:1})]),s("div",Ya,[_(x,null,{default:m(()=>[_(B,null,{default:m(()=>[s("div",Ka,[s("table",Ga,[s("thead",Ja,[s("tr",null,[s("th",Xa,t(a.$t("document_name")),1),s("th",Qa,t(a.$t("identify_number")),1),s("th",sl,t(a.$t("expiry_date")),1),s("th",el,t(a.$t("status")),1),s("th",tl,t(a.$t("comment")),1),s("th",al,t(a.$t("document")),1),s("th",ll,t(a.$t("action")),1)])]),s("tbody",null,[(r(!0),c(D,null,R(o.documentResults,(l,f)=>(r(),c("tr",{key:l.id},[s("td",null,t(l.name),1),s("td",null,t(l.identify_number||"N/A"),1),s("td",null,t(l.expiry_date||"N/A"),1),s("td",null,[s("span",{class:ds({badge:!0,"bg-success":l.document_status===1,"bg-secondary":l.document_status===2||l.document_status==null,"bg-warning":l.document_status===3||l.document_status===4,"bg-danger":l.document_status===5||l.document_status===0,"bg-dark":l.document_status===6})},t(l.document_status===1?a.$t("approved"):l.document_status===2||l.document_status==null?a.$t("not_uploaded"):l.document_status===3||l.document_status===4?a.$t("waiting_for_approval"):l.document_status===0||l.document_status===5?a.$t("declined"):l.document_status===6?a.$t("expired"):""),3)]),s("td",null,t(l.comment||"N/A"),1),s("td",null,[$((r(),ns(T,{class:"btn btn-soft-info btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"view",onClick:S=>o.viewDocument(l)},{default:m(()=>e[39]||(e[39]=[s("i",{class:"bx bx-show-alt align-center"},null,-1)])),_:2,__:[39]},1032,["onClick"])),[[H,void 0,void 0,{hover:!0}]]),$((r(),ns(T,{class:"btn btn-soft-success btn-sm m-2",size:"sm","data-bs-toggle":"tooltip",title:"upload",href:`/approved-drivers/document-upload/${l.id}/${a.driverId}`},{default:m(()=>e[40]||(e[40]=[s("i",{class:"bx bx-upload align-center"},null,-1)])),_:2,__:[40]},1032,["href"])),[[H,void 0,void 0,{hover:!0}]])]),s("td",null,[l.document_status===1?(r(),c("button",{key:0,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:S=>o.declineDocument(l.id)},t(a.$t("decline")),9,ol)):h("",!0),l.document_status===5?(r(),c("button",{key:1,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:S=>o.approveDocument(l.id)},t(a.$t("approve")),9,il)):h("",!0),l.document_status===2||l.document_status==null?h("",!0):(r(),c(D,{key:2},[l.document_status===3||l.document_status===4||l.document_status===6?(r(),c("button",{key:0,type:"button",class:"btn btn-outline-success waves-effect waves-light btn-sm me-1",onClick:S=>o.approveDocument(l.id)},t(a.$t("approve")),9,nl)):h("",!0),l.document_status===3||l.document_status===4||l.document_status===6?(r(),c("button",{key:1,type:"button",class:"btn btn-outline-danger waves-effect waves-light btn-sm",onClick:S=>o.declineDocument(l.id)},t(a.$t("decline")),9,dl)):h("",!0)],64))])]))),128))])])]),o.showModal?(r(),c("div",rl,[s("div",cl,[s("div",_l,[s("div",ml,[s("h5",ul,t(a.$t("view_document")),1),s("a",{href:"#",class:"close fs-18",onClick:e[2]||(e[2]=(...l)=>o.closeModal&&o.closeModal(...l)),"aria-label":"Close"},e[41]||(e[41]=[s("span",{class:"fs-22","aria-hidden":"true"},"×",-1)]))]),s("div",vl,[s("div",bl,[e[44]||(e[44]=s("div",{class:"carousel-indicators"},[s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),s("button",{type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide-to":"1","aria-label":"Slide 2"})],-1)),s("div",gl,[s("div",hl,[o.imageUrl?(r(),c("div",fl,[s("img",{src:o.imageUrl,alt:o.documentNameFront,class:"img-fluid mb-2"},null,8,pl),s("h5",xl,t(o.documentNameFront),1)])):(r(),c("div",yl,[e[42]||(e[42]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",kl,t(a.$t("no_front_image_available")),1)]))]),s("div",wl,[o.backImageUrl?(r(),c("div",Cl,[s("img",{src:o.backImageUrl,alt:o.documentNameBack,class:"img-fluid mb-2"},null,8,Ml),s("h5",Bl,t(o.documentNameBack),1)])):(r(),c("div",Sl,[e[43]||(e[43]=s("i",{class:"ri-image-fill m-auto fs-22"},null,-1)),s("h6",Dl,t(a.$t("no_back_image_available")),1)]))])]),e[45]||(e[45]=s("a",{class:"carousel-control-prev bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"prev"},[s("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Previous")],-1)),e[46]||(e[46]=s("a",{class:"carousel-control-next bg-dark",style:{height:"30px"},href:"#carouselExampleFade",role:"button","data-bs-slide":"next"},[s("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),s("span",{class:"sr-only"},"Next")],-1))])]),s("div",Pl,[s("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...l)=>o.closeModal&&o.closeModal(...l))},t(a.$t("close")),1),o.imageUrl?(r(),c("a",{key:0,href:o.imageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_front_image")),9,Ll)):h("",!0),o.backImageUrl?(r(),c("a",{key:1,href:o.backImageUrl,download:"",class:"btn btn-primary"},t(a.$t("download_back_image")),9,zl)):h("",!0)])])])])):h("",!0)]),_:1})]),_:1}),_(I,{modelValue:o.disapproveModelShow,"onUpdate:modelValue":e[7]||(e[7]=l=>o.disapproveModelShow=l),"hide-footer":"",title:a.$t("declined_reason"),class:"v-modal-custom",size:"md"},{default:m(()=>[s("form",null,[_(K,{form:o.reasonform,rules:a.validationRules,ref:"validationRef"},{default:m(()=>[s("div",Ul,[s("div",Fl,[s("div",Nl,[s("label",Rl,[b(t(a.$t("declined_reason")),1),e[47]||(e[47]=s("span",{class:"text-danger"},"*",-1))]),$(s("input",{type:"text",class:"form-control",placeholder:a.$t("enter_declined_reason"),id:"declined_reason","onUpdate:modelValue":e[4]||(e[4]=l=>o.form.reason=l)},null,8,Vl),[[Zs,o.form.reason]])])])]),s("div",Al,[_(Y,{href:"javascript:void(0);",class:"btn btn-link link-warning fw-medium",onClick:e[5]||(e[5]=l=>o.disapproveModelShow=!1)},{default:m(()=>[e[48]||(e[48]=s("i",{class:"ri-close-line me-1 align-middle"},null,-1)),b(" "+t(a.$t("close")),1)]),_:1,__:[48]}),s("button",{type:"button",class:"btn btn-soft-info waves-effect waves-light",onClick:e[6]||(e[6]=Ws((...l)=>a.handleSubmit&&a.handleSubmit(...l),["prevent"]))},t(a.$t("submit")),1)])]),_:1},8,["form","rules"])])]),_:1},8,["modelValue","title"])])])]),_:1})]),_:1}),s("div",null,[o.successMessage?(r(),c("div",Ol,[s("div",Tl,[e[49]||(e[49]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[50]||(e[50]=b()),e[51]||(e[51]=s("strong",null,"Success",-1)),b(" - "+t(o.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[8]||(e[8]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Success Message"})])])):h("",!0),o.alertMessage?(r(),c("div",Il,[s("div",jl,[e[52]||(e[52]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[53]||(e[53]=b()),e[54]||(e[54]=s("strong",null,"Alert",-1)),b(" - "+t(o.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[9]||(e[9]=(...l)=>a.dismissMessage&&a.dismissMessage(...l)),"aria-label":"Close Alert Message"})])])):h("",!0)])]),_:1})}const so=As(ee,[["render",El]]);export{so as default};
