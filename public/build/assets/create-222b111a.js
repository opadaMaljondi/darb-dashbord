import{_ as F,Z as P,O as R,D as T,T as D,r as b,g as n,i as d,y as O,w as u,a as C,N as U,l,n as s,z as v,J as c,t as k,M as h,k as _,L as w,F as S,p as j,C as V}from"./vendor-54d6cb1e.js";import{L as q}from"./main-b839be26.js";import{P as A}from"./page-header-ff719701.js";import{P as E}from"./Pagination-b5e3d5c9.js";import{i as z}from"./imageUpload-bad454a2.js";import{F as I}from"./FormValidation-cabc17c8.js";import"./footer-7e4f68d9.js";import"./app-cb082573.js";/* empty css                                                    */const J={components:{Layout:q,PageHeader:A,Head:P,Pagination:E,Multiselect:R,FormValidation:I,imageUpload:z},props:{successMessage:String,alertMessage:String,sos:Object},setup(o){const{t:e}=T(),i=D({name:o.sos&&o.sos.name||"",number:o.sos&&o.sos.number||""}),t={name:{required:!0},number:{required:!0,numeric:!0}},p=b(null),f=b({}),g=b(o.successMessage||""),m=b(o.alertMessage||"");return{form:i,successMessage:g,alertMessage:m,handleSubmit:async()=>{if(f.value=p.value.validate(),!(Object.keys(f.value).length>0))try{let r;o.sos&&o.sos.id?r=await C.post(`/sos/update/${o.sos.id}`,i.data()):r=await C.post("store",i.data()),r.status===201?(g.value=e("sos_created_successfully"),i.reset(),U.get("/sos")):m.value=e("failed_to_create_sos")}catch(r){r.response&&r.response.status===422?f.value=r.response.data.errors:(console.error(e("error_creating_sos"),r),m.value=e("failed_to_create_sos_catch"))}},dismissMessage:()=>{g.value="",m.value=""},validationRules:t,validationRef:p,errors:f}}},Z={class:"row"},G={class:"col-sm-6"},K={class:"mb-3"},Q={for:"name",class:"form-label"},W=["placeholder"],X={class:"col-sm-6"},Y={class:"mb-3"},$={for:"sos",class:"form-label"},ee=["placeholder"],se={class:"col-lg-12"},te={class:"text-end"},oe={type:"submit",class:"btn btn-primary"},ae={key:0,class:"custom-alert alert alert-success alert-border-left fade show",role:"alert",id:"alertMsg"},re={class:"alert-content"},ne={key:1,class:"custom-alert alert alert-danger alert-border-left fade show",role:"alert",id:"alertMsg"},le={class:"alert-content"};function ie(o,e,i,t,p,f){const g=n("Head"),m=n("PageHeader"),M=n("BCardHeader"),B=n("FormValidation"),r=n("BCardBody"),H=n("BCard"),L=n("BCol"),N=n("BRow"),x=n("Layout");return d(),O(x,null,{default:u(()=>[l(g,{title:"Emergency Number"}),l(m,{title:i.sos?o.$t("edit"):o.$t("create"),pageTitle:o.$t("emergency_number"),pageLink:"/sos"},null,8,["title","pageTitle"]),l(N,null,{default:u(()=>[l(L,{lg:"12"},{default:u(()=>[l(H,{"no-body":"",id:"tasksList"},{default:u(()=>[l(M,{class:"border-0"}),l(r,{class:"border border-dashed border-end-0 border-start-0"},{default:u(()=>[s("form",{onSubmit:e[2]||(e[2]=j((...a)=>t.handleSubmit&&t.handleSubmit(...a),["prevent"]))},[l(B,{form:t.form,rules:t.validationRules,ref:"validationRef"},{default:u(()=>[s("div",Z,[s("div",G,[s("div",K,[s("label",Q,[v(c(o.$t("name"))+" ",1),e[5]||(e[5]=s("span",{class:"text-danger"},"*",-1))]),k(s("input",{type:"text",class:"form-control",placeholder:o.$t("enter_name"),id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>t.form.name=a)},null,8,W),[[h,t.form.name]]),(d(!0),_(S,null,w(t.errors.name,(a,y)=>(d(),_("span",{key:y,class:"text-danger"},c(a),1))),128))])]),s("div",X,[s("div",Y,[s("label",$,[v(c(o.$t("sos"))+" ",1),e[6]||(e[6]=s("span",{class:"text-danger"},"*",-1))]),k(s("input",{type:"text",class:"form-control",placeholder:o.$t("enter_sos"),id:"sos","onUpdate:modelValue":e[1]||(e[1]=a=>t.form.number=a)},null,8,ee),[[h,t.form.number]]),(d(!0),_(S,null,w(t.errors.number,(a,y)=>(d(),_("span",{key:y,class:"text-danger"},c(a),1))),128))])]),s("div",se,[s("div",te,[s("button",oe,c(i.sos?o.$t("update"):o.$t("save")),1)])])])]),_:1},8,["form","rules"])],32)]),_:1})]),_:1})]),_:1})]),_:1}),s("div",null,[t.successMessage?(d(),_("div",ae,[s("div",re,[e[7]||(e[7]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[8]||(e[8]=s("strong",null,"Success",-1)),v(" - "+c(t.successMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-success",onClick:e[3]||(e[3]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Success Message"})])])):V("",!0),t.alertMessage?(d(),_("div",ne,[s("div",le,[e[9]||(e[9]=s("i",{class:"ri-notification-off-line me-3 align-middle"},null,-1)),e[10]||(e[10]=s("strong",null,"Alert",-1)),v(" - "+c(t.alertMessage)+" ",1),s("button",{type:"button",class:"btn-close btn-close-danger",onClick:e[4]||(e[4]=(...a)=>t.dismissMessage&&t.dismissMessage(...a)),"aria-label":"Close Alert Message"})])])):V("",!0)])]),_:1})}const pe=F(J,[["render",ie]]);export{pe as default};
